{"version":3,"sources":["../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/support/floorFilterUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"names":["c","s","a","arguments","asyncUpdateState","Map","t","e","o","p","r","clear","destroy","n","remove","updateAsync","this","startAsyncUpdate","_set","getLogger","declaredClass","warn","endAsyncUpdate","get","set","layerView","layer","fieldsIndex","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","d","i","handles","add","autoUpdateAsync","renderer","y","collectRequiredFields","labelsVisible","filter","Set","Array","from","sort","error","prototype","l","Q","q","_","D","type","lodFactor","progressiveLoadFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","_interactiveEditingSessions","_queryEngine","viewFilter","f","checkSupport","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","fieldsHelper","requiredFields","x","create","view","qualitySettings","sceneService","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","j","updatingHandles","_rangeInfosChanged","addPromise","_rendererChange","_filterChange","_geometryFilterChange","on","result","_handleEdits","length","outFields","returnGeometry","outSpatialReference","spatialReference","createQuery","u","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","then","features","sourceLayer","executeQueryForIds","_createQueryEngine","renderSpatialReference","_collection","g","priority","C","FEATURE_QUERY_ENGINE","spatialIndex","F","featureAdapter","m","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","sourceSpatialReference","v","viewSpatialReference","_highlights","acquireSet","handle","queryObjectIds","setFeatureIds","attributeEditingContext","_controller","rootNodeVisible","floorFilterClause","parsedDefinitionExpression","addFilters","crsIndex","_addDefinitionExpressionToQuery","sessions","_getObjectIdField","forEachNode","_forAllNodes","node","featureIds","i3slayer","attributeOverrides","getAttributeData","setAttributeData","clearMemCache","parsedGeometry","isMBSGeoemtryVisible","w","S","h","I","aliasOf","E","b","availableFields","readOnly","O","geometryBuffer","transferList","byteLength","_malloc","Uint8Array","HEAPU8","buffer","dracoDecompressPointCloudData","_free","positions","push","setLegacySchema","context","jsonSchema","modifications","Float64Array","setModifications","isGeodetic","localOrigin","globalTrafo","mbs","obb","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","A","byteOffset","center","halfSize","quaternion","L","T","isDraco","isLegacy","color","layouts","some","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","P","componentOffsets","U","B","interleavedVertedData","indicesType","Uint16Array","indices","Uint32Array","positionIndicesType","positionIndices","M","layout","interleavedVertexData","hasColors","hasModifications","positionData","data","transformedGeometry","filterOBBs","Promise","resolve","default","locateFile","onRuntimeInitialized","catch","reject","transform","popupTemplate","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","has","indexOf","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","where","geometry","spatialRelationship","hiddenIds","distance","objectIds","units","timeExtent","enabled","String","types","json","read","write","source","reader","target","writer","Number","overridePolicy","floorInfo","floorField","floors","definitionExpression","map","join","getComponentAabb","getObjectTransform","rotationScale","position","featureExtents","POSITIVE_INFINITY","objectHandle","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","usage","size","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","encoding","encodings","material","textures","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","pop","isArray","href","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","compressedTextureS3TC","compressedTextureETC","find","Blob","url","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","resources","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","itemRelativeUrl","toAdd","content","finish","R","JSON","stringify","toJSON","responseType","toLowerCase","equals","messages","modification","nonNullable","_map","toArray","emit","added","removed","objectId","refCount","delete","values","referenceCount","callbacks","runIndex","registerTask","I3S_CONTROLLER","needsUpdate","numIndexLoading","numNodesLoading","done","update","unshift","renderMbs","imModificationImpact","childCount","level","version","lodMetric","maxError","numFeatures","failed","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","N","rootPage","nodes","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","mesh","attribute","hasSharedResource","hasFeatureData","attributes","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","Math","max","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","attributeData","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","sqrt","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","geometryDefinitions","textureSetDefinitions","materialAndTextures","key","load","loadAttribute","value","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","$","loadFeatureData","geometries","featureDataPosition","loadTextures","k","loadedAttributes","attributeDataInfo","requiredTextures","pointData","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","loadTexture","hrefConcat","substring","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","apiKey","activeRequests","busy","abort","query","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","hide","field","_getRequiredAttributes","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","suspended","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","visible","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","updateStats","disableUpdates","layerFilterChanged","constructOnly","dependsOn","every","factorIM","factor3dObject","J","clone","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","associatedLayer","cacheHint","reduce","ok","loaded","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","_definitionExpressionErrors","_maxDefinitionExpressionErrors","isStandardized","missingFields","testFeature","popupEnabled","_validateFetchPopupFeatures","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","_limit","_all","_active","_pending","_handle","_handleChanges","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","offset","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeographic","broadcast","rings","getItemAt","ids","paused","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","viewingMode","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","EventedMixin","layerUid","sublayerUid","traverseNodeHierarchy","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","metadata","nodeIndex","componentIndex","dist","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","preLoadBasis","oe","_worker","X","promise","be","ye","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","componentObjectCollection","re","_forAllFeaturesOfNode","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_updatePBR","_suspendedChange","_labelingChanged","_modificationsChanged","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_addMetaToLabeler","_hasModifications","Z","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","mask","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","Ue","hasTexture","Ye","hasNormals","hasRegions","Pe","He","_getGeometryParameters","De","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","ge","Te","extents","orientation","slice","call","Me","_getVertexBufferLayout","crsVertex","pe","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","_materialParameters","stride","vertices","count","layoutParameters","geometryParams","transformation","G","errorOnce","createObject","toMapSpace","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","W","isOpaque","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","castShadows","pickable","getSymbol","arcade","we","Je","colorMixMode","edgeMaterial","Se","_getSymbolInfo","Qe","se","alpha","opacity","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","getUnloadedMemory","MemCache","hitRate","IDBCache","getHitRate","controller","visibleObjectIds","numNodes","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","te","ie","Ae","Boolean","_projectionEngineLoaded","_geometryEngine","sortedObjectIds","parsedWhereClause","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangle","triangleTest","geometryTest","getComponentPositions","_geVersion","isWGS84","geodesicBuffer","WGS84","wkid","aabr","splice","isWebMercator","_dataQueryEngineInstance","ensureDataQueryEngine","dataQueryEngine","_ensureQueryJSON","fromJSON","returnCentroid","defaultQueryJSON","geometryType","timeInfo","featureStore","setAttribute","createInteractiveEditSession","findIndex","updateFeatures","updatedFeatures","normalizeFieldName","featureId","Error"],"mappings":"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","file":"static/js/47.5820f5af.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import e from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as n}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=s=>{let a=class extends s{constructor(){super(...arguments),this.asyncUpdateState=new Map}autoUpdateAsync(t,s){return o((s=>this.updateAsync(t,s)),s)}async updateAsync(t,s){if(!this.startAsyncUpdate(t)){try{const e=await s();this._set(t,e)}catch(a){e.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(t)&&this.updateAsync(t,s)}}startAsyncUpdate(t){var s;const e=null!=(s=this.asyncUpdateState.get(t))?s:0;return 1&e?(this.asyncUpdateState.set(t,2|e),!0):(this.asyncUpdateState.set(t,1|e),!1)}endAsyncUpdate(t){var s;const e=-2&(null!=(s=this.asyncUpdateState.get(t))?s:0);return 2&e?(this.asyncUpdateState.set(t,-3&e),!0):(this.asyncUpdateState.set(t,e),!1)}};return a=t([r(\"esri.core.AsyncUpdate\")],a),a};function o(t,s){const e=()=>{o&&!p&&t(r)},r=()=>{if(!o||p)return s();o.clear(),p=!0;const t=a(o,s);return p=!1,t},c=()=>{o&&(o.destroy(),o=null)};let o=new n(e),p=!1;return t(r),{remove:c}}let p=class extends(c(s)){};p=t([r(\"esri.core.AsyncUpdate\")],p);export{p as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as d,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return d(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>a(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isSome as i,isNone as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import u from\"../../../rest/support/Query.js\";import{I3SMeshView3D as d}from\"./I3SMeshView3D.js\";import{LayerView3D as h}from\"./LayerView3D.js\";import{createInteractiveEditSession as p,processAttributeEdits as c}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as y}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as f}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as m}from\"./i3s/I3SQueryFeatureAdapter.js\";import F from\"./i3s/I3SQueryFeatureStore.js\";import{getIndexCrs as v}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as w}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as _}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as j}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as E}from\"../support/updatingProperties.js\";import I from\"../../layers/SceneLayerView.js\";import b from\"../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as x}from\"../../support/floorFilterUtils.js\";import{TaskPriority as C}from\"../../support/Scheduler.js\";const Q=r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),q=_();let D=class extends(d(w(S(h(I))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.lodFactor=1,this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get filter(){return i(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!s(e)&&f.checkSupport(e)?i(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new f({filter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):this.viewFilter=null}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get floorFilterClause(){const e=x(this);return i(e)?a.create(e,this.layer.fieldsIndex):null}get lodCrossfadeinDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration)?e:0}get lodCrossfadeoutDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration)?e:0}get lodCrossfadeUncoveredDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration)?e:0}initialize(){this.fieldsHelper=new j({layerView:this}),this.updatingHandles.add(this.layer,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(this.layer,\"renderer\",(e=>this.updatingHandles.addPromise(this._rendererChange(e))),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\",\"floorFilterClause\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));for(const e of[\"filter\",\"viewFilter.parsedGeometry\"])this.updatingHandles.add(this,e,(()=>this._geometryFilterChange()));this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this.fieldsHelper=o(this.fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&Q.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return i(this.filter)?this.filter.createQuery(e):new u(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==t?void 0:t.signal).then((e=>{if(null==e||!e.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=y(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:C.FEATURE_QUERY_ENGINE,spatialIndex:new F({featureAdapter:new m({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,2),getFeatureExtent:e,sourceSpatialReference:v(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof u){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return p(this.attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters();return this.floorFilterClause&&this.addSqlFilter(e,this.floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),i(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}_ensureQuery(e){return this._addDefinitionExpressionToQuery(s(e)?this.createQuery():u.from(e))}get attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>i(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this.attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){c(this.attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return i(e)&&i(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return s(t)||t.isMBSGeoemtryVisible(e,this.view.spatialReference,this._controller.crsIndex)?0:1}};e([n({aliasOf:\"layer\"})],D.prototype,\"i3slayer\",void 0),e([n()],D.prototype,\"suspended\",void 0),e([n(E)],D.prototype,\"updatingProgress\",void 0),e([n({type:b})],D.prototype,\"filter\",null),e([n()],D.prototype,\"viewFilter\",void 0),e([n(q.requiredFields)],D.prototype,\"requiredFields\",null),e([n(q.availableFields)],D.prototype,\"availableFields\",void 0),e([n()],D.prototype,\"fieldsHelper\",void 0),e([n()],D.prototype,\"floorFilterClause\",null),e([n({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],D.prototype,\"lodFactor\",void 0),e([n({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],D.prototype,\"updatingProgressValue\",void 0),D=e([l(\"esri.views.3d.layers.SceneLayerView3D\")],D);var O=D;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if(\"floorInfo\"in l&&null!=(n=l.floorInfo)&&n.floorField&&\"floors\"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return\"floorInfo\"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{l as combineFloorsDefinitionExpression,o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],n=[],l=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fieldsIndex,await i(l,a(this.layer,r)));await this.prepareFetchPopupFeatures(h);const y=new Set;for(const s of c)p(h,s,y)?n.push(s):u.push(s);return 0===n.length?Promise.resolve(u):this.whenGraphicAttributes(n,[...y]).catch((()=>n)).then((e=>u.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{project as F}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as E,filterInPlace as I}from\"./I3SUtil.js\";import x from\"../../../layers/support/FeatureFilter.js\";import M from\"../../../../geometry/SpatialReference.js\";const _=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let v,O=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(G().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){_.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>E(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>A(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,T,i))return _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return C(T,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return L(n,s);const c=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return L(this._geometryEngine.geodesicBuffer(n,t,c),s)}const l=F(n,M.WGS84);if(o(l)){return L(F(this._geometryEngine.geodesicBuffer(l,t,c),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=m(n,M.WGS84)}catch(u){}if(p)try{p=m(this._geometryEngine.geodesicBuffer(p,t,c),n.spatialReference)}catch(u){p=null}return p||_.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),L(p,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(_.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!B(e.spatialRelationship)||(_.warn(`Filters with spatialRelationship other than ${W.join(\", \")} are not supported for mesh scene layers`),!1)}};function k(){return!!v}async function G(){return k()||(v=await import(\"../../../../geometry/geometryEngine.js\")),v}e([l({type:x})],O.prototype,\"filter\",void 0),e([l()],O.prototype,\"layerFieldsIndex\",void 0),e([l()],O.prototype,\"loadAsyncModule\",void 0),e([l()],O.prototype,\"applyFilters\",void 0),e([l()],O.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],O.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],O.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],O.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],O.prototype,\"spatialRelationship\",null),e([l()],O.prototype,\"_projectionEngineLoaded\",void 0),e([l()],O.prototype,\"_geometryEngine\",void 0),O=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],O);const W=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function B(e){return null!=e&&W.indexOf(e)>=0}function L(e,t){if(i(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new r;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;n.add(e)}n.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])n.delete(e);else if(v.intersects(r,e)){r.rings=r.rings.concat(e.rings),w(r.aabr,e.aabr,r.aabr),delete r._geVersion,n.delete(e);const o=s(t,e,t.length,i);t.splice(o,1)}})),n.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function C(e,t,r,s){const n=U(e,r);return t.every((e=>1!==q(e,n,s)))}function A(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,T,a))return void _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(T,a),l=V(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(q(p,c,o)){case 1:return void(e.length=0);case 0:continue}I(e,t.featureIds,(e=>H(p,e,l)))}}const T=[0,0,0,0];function V(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>v.intersects(e,t)?0:2,p=Z;break;case\"contains\":l=(e,t)=>v.contains(e,t)?2:1,p=Z;break;default:l=(e,t)=>v.disjoint(e,t)?2:1,p=$}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?v.buffer(r,e[3],1):v.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return Z(e,t);case\"disjoint\":return $(e,t)}}function Z(e,t){return v.intersects(e,t)?v.contains(e,t)?0:2:1}function $(e,t){return v.intersects(e,t)?v.contains(e,t)?1:2:0}const z=2**-32;function H(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,P);const r=[[P[0],P[1],0],[P[0],P[4],0],[P[3],P[4],0],[P[3],P[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<z))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}return\"intersects\"!==r.type}const P=b();export{O as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:i.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([a(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export{p as I3SQueryEngine,d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{create as n,toRect as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as i,intersects as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return u(e,p(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=n(),d=i();var h=m;export{m as I3SQueryFeatureStore,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};function s(e,r){const s=r.attributes[e.objectIdField],i=e.sessions.get(s);if(i)return i;const a=t(r.attributes),u=new Set;if(null==s)return o;const c=e.attributeOverrides.createInteractiveEditSession(s),f=new Map,l=(t,e)=>{const n=f.get(t);if(null==n){const n=e.indexOf(s);return f.set(t,n),n}return n};let d=0;const b={setAttribute(t,o){if(0!==d)return;const s=e.fieldsIndex.get(t);if(n(s))return;const i=e.attributeStorageInfo.findIndex((t=>t.name===s.name));if(i<0)return;c.set(i,o);const a=e.attributeStorageInfo[i];let f=!1;u.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[a.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),f=!0)}})),f&&e.clearMemCache()},rollback(){if(0===d){for(const t of u)this.setAttribute(t,a[t]);c.rollback(),d=1,e.sessions.delete(s)}},commit(){0===d&&(c.commit(),d=2,e.sessions.delete(s))}};return e.sessions.set(s,b),b}function i(t,n){const r=a(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function a(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new d;const o=f(e),s=new d,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,c=t.objectIdField,l=n.filter((t=>{const e=r(a,t.attributes,c);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of l){const f=r(a,i.attributes,c);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=u(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function u(t,e,n){const r=c(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function c(t,e){const n=t.get(e);if(n)return n;const r=new l;return t.set(e,r),r}function f(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}const l=Map,d=Map;export{s as createInteractiveEditSession,i as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n"],"sourceRoot":""}