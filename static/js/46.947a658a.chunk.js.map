{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/layers/support/capabilities.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js"],"names":["l","n","u","e","sublayer","parent","view","this","canResume","suspended","isUpdating","get","_override","_clearOverride","visible","i","t","s","r","EventedMixin","o","prototype","readOnly","type","Boolean","p","filterMode","mode","edgeMaterial","edges","c","color","pickable","colorMixMode","castShadows","lastMaterial","cachedMaterial","arguments","Error","q","getLogger","R","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","lodFactor","progressiveLoadFactor","_queryEngine","layer","uid","updatingHandles","add","_updateRequiredFields","_rendererChange","_filterChange","_updateSymbologyOverride","addResolvingPromise","modelName","filterExpressions","map","a","create","fieldsIndex","error","isStandardized","fieldNames","v","fields","missingFields","length","join","filter","viewFilter","F","checkSupport","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","parsedFilterExpressions","_setSymbologyOverride","testFeature","f","filterExpressionFields","reduce","concat","requiredFields","outFields","d","sourceLayer","_controller","rootNodeVisible","_validateFetchPopupFeatures","Promise","reject","clientGraphics","associatedLayer","load","j","I","Set","push","resolve","catch","warn","whenGraphicAttributes","Array","from","then","renderer","getRequiredFields","definitionExpressionFields","_set","popupEnabled","parsedDefinitionExpression","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","createQuery","y","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","m","renderSpatialReference","g","priority","Q","FEATURE_QUERY_ENGINE","spatialIndex","w","featureAdapter","b","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","sourceSpatialReference","E","viewSpatialReference","_addDefinitionExpressionToQuery","_","h","x","aliasOf","S","String","O","sublayerViews","V","C","_abortController","_loadingComponents","activeFilterId","filters","find","filterBlocks","filterExpression","toArray","updatingProgress","some","updating","viewingMode","initializeSubLayerViews","sublayers","forEach","destroy","abort","isEmpty","geometryType","handles","notifyChange","url","items","sublayerUid","getGraphicFromIntersectorMetadata","_findComponent","fetchPopupFeatures","whenGraphicBounds","isArray","Map","set","highlight","getUsedMemory","getUnloadedMemory","dependsOn","geometryBuffer","result","transferList","byteLength","_malloc","Uint8Array","HEAPU8","buffer","dracoDecompressPointCloudData","_free","featureIds","positions","setLegacySchema","context","jsonSchema","modifications","Float64Array","setModifications","isGeodetic","localOrigin","globalTrafo","mbs","obb","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","A","byteOffset","center","halfSize","quaternion","L","T","isDraco","isLegacy","layouts","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","P","componentOffsets","U","B","interleavedVertedData","indicesType","Uint16Array","indices","Uint32Array","positionIndicesType","positionIndices","M","layout","interleavedVertexData","hasColors","hasModifications","positionData","data","transformedGeometry","filterOBBs","default","locateFile","onRuntimeInitialized","transform","popupTemplate","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","has","indexOf","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","where","geometry","spatialRelationship","hiddenIds","distance","objectIds","units","timeExtent","enabled","types","json","read","write","source","reader","target","writer","Number","overridePolicy","getComponentAabb","getObjectTransform","rotationScale","position","featureExtents","POSITIVE_INFINITY","objectHandle","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","usage","size","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","encoding","encodings","material","textures","sort","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","pop","href","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","compressedTextureS3TC","compressedTextureETC","Blob","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","resources","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","itemRelativeUrl","toAdd","content","finish","JSON","stringify","toJSON","responseType","toLowerCase","nodesPerPage","rootIndex","lodSelectionMetricType","factor","opaque","mask","blend","none","back","front","atlas","Float32","UInt64","UInt32","UInt16","UInt8","draco","offset","triangle","equals","messages","modification","nonNullable","_map","clear","emit","added","removed","objectId","refCount","delete","values","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","numIndexLoading","numNodesLoading","done","update","unshift","renderMbs","imModificationImpact","childCount","level","version","lodMetric","maxError","numFeatures","failed","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","N","rootPage","nodes","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","mesh","attribute","hasSharedResource","hasFeatureData","attributes","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","Math","max","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","attributeData","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","sqrt","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","geometryDefinitions","textureSetDefinitions","materialAndTextures","key","loadAttribute","value","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","$","loadFeatureData","geometries","featureDataPosition","loadTextures","D","k","loadedAttributes","attributeDataInfo","requiredTextures","pointData","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","loadTexture","hrefConcat","substring","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","apiKey","activeRequests","busy","query","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","featureTarget","fixedFeatureTarget","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","hide","availableFields","field","_getRequiredAttributes","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","getAttributeData","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","updateStats","disableUpdates","layerFilterChanged","constructOnly","every","factorIM","factor3dObject","J","clone","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","queryFeaturesJSON","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","cacheHint","ok","loaded","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","nodePages","listMode","definitionExpression","layerType","associatedFeatureServiceItem","associatedLayerID","displayField","createPopupTemplate","_fetchService","getFeatureType","feature","domains","getField","domain","supportsZ","supportsM","isVersioned","returnZ","sqlFormat","_getAssociatedLayerForQuery","queryExtent","queryFeatureCount","queryFeatures","queryObjectIds","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","_loadAssociatedLayerForQuery","LoadableMixin","service","allowNull","Point","opacity","alias","ignoreOrigin","attachment","supportsContentType","supportsExifInfo","supportsKeywords","supportsName","supportsSize","supportsAttachment","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUpdateWithoutM","supportsUploadWithItemId","metadata","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","supportsOrderBy","standardMaxRecordCount","supportsCacheHint","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsStatistics","tileMaxRecordCount","pageError","nodeError","_definitionExpressionErrors","_maxDefinitionExpressionErrors","_limit","_all","_active","_pending","_handle","_handleChanges","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeographic","broadcast","rings","getItemAt","ids","paused","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","layerUid","traverseNodeHierarchy","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","nodeIndex","componentIndex","dist","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","qualitySettings","sceneService","preLoadBasis","attributeOverrides","oe","_worker","X","promise","be","ye","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","componentObjectCollection","_highlights","re","_forAllFeaturesOfNode","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_addMetaToLabeler","_hasModifications","Z","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","Ue","hasTexture","Ye","hasNormals","hasRegions","Pe","He","_getGeometryParameters","De","_getObjectIdField","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","ge","Te","extents","orientation","slice","call","Me","_getVertexBufferLayout","crsVertex","pe","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","_materialParameters","stride","vertices","count","layoutParameters","geometryParams","transformation","G","errorOnce","createObject","toMapSpace","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","W","isOpaque","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","getSymbol","arcade","we","Je","Se","_getSymbolInfo","Qe","se","alpha","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","acquireSet","setFeatureIds","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","MemCache","hitRate","IDBCache","getHitRate","controller","visibleObjectIds","numNodes","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","te","ie","Ae","forEachSublayer","sublayersProperty","readSublayers","_projectionEngineLoaded","_geometryEngine","sortedObjectIds","parsedWhereClause","parsedGeometry","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangleTest","geometryTest","getComponentPositions","_geVersion","isWGS84","geodesicBuffer","WGS84","wkid","aabr","splice","isWebMercator","_dataQueryEngineInstance","ensureDataQueryEngine","dataQueryEngine","_ensureQueryJSON","fromJSON","returnCentroid","defaultQueryJSON","timeInfo","featureStore"],"mappings":"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","file":"static/js/46.947a658a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!0===this.get(\"sublayer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";const a=.15,t=.5*a;function l(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function c(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case 0:return;case 1:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case 2:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=a,r.colorMixMode=3,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=i(r.edgeMaterial))}}function i(r){return e(r)?null:(s.lastMaterial!==r&&(s.cachedMaterial=n(r),s.lastMaterial=r),s.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=t,{...e,color:o}}const s={cachedMaterial:null,lastMaterial:null};export{c as applyFilterMode,l as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";class o extends r{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}highlight(e){throw new Error(\"Not implemented\")}}e([t()],o.prototype,\"sublayer\",void 0),e([t()],o.prototype,\"availableFields\",null),e([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{isSome as s,isNone as l}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{fixFields as u,unpackFieldNames as d,populateMissingFields as p}from\"../../../layers/support/fieldUtils.js\";import y from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as h}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{applyFilterMode as f}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as m}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as F}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as b}from\"./i3s/I3SQueryFeatureAdapter.js\";import w from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as E}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as _}from\"./support/DefinitionExpressionSceneLayerView.js\";import x from\"../../layers/BuildingComponentSublayerView.js\";import S from\"../../layers/support/FeatureFilter.js\";import{getRequiredFields as j,getFetchPopupTemplate as I}from\"../../layers/support/popupUtils.js\";import{TaskPriority as Q}from\"../../support/Scheduler.js\";const q=i.getLogger(\"esri.views.3d.layers.BuildingComponentSublayerView3D\");let R=class extends(_(c(h(x)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.lodFactor=1,this.progressiveLoadFactor=1,this._queryEngine=null}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}initialize(){this.updatingHandles.add(this,\"sublayer.renderer,definitionExpressionFields,filterExpressionFields\",(()=>this._updateRequiredFields())),this.updatingHandles.add(this.sublayer,\"renderer\",(e=>this._rendererChange(e)),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));this.updatingHandles.add(this,\"parsedFilterExpressions\",(()=>this._updateSymbologyOverride()),2),this.addResolvingPromise(this._updateRequiredFields())}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=a.create(e,this.sublayer.fieldsIndex)}catch(l){return q.error(\"Failed to parse filterExpression: \"+l),null}if(!t.isStandardized)return q.error(\"filterExpression is using non standard function\"),null;const i=[],s=t.fieldNames;return v(s,this.sublayer.fields,{missingFields:i}),i.length>0?(q.error(`filterExpression references unknown fields: ${i.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return s(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!l(e)&&F.checkSupport(e)?s(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new F({filter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this.viewFilter=null}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return f(t,l)}catch(i){this.logError(i)}return f(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return u(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),[]))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...d(r,i),...t]}return u(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);if(!s(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const i=[],l=[],o=s(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,n=d(this.sublayer.fieldsIndex,await j(o,I(this.sublayer,r))),a=new Set;for(const s of r.clientGraphics)p(n,s,a)?l.push(s):i.push(s);return 0===l.length?Promise.resolve(i):(s(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>q.warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(l,Array.from(a)).catch((()=>l)).then((e=>i.concat(e))))}async _updateRequiredFields(){const e=u(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?I(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),s(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new y(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==r?void 0:r.signal).then((e=>{if(null==e||!e.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==r?void 0:r.signal)}_ensureQueryEngine(){return l(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=m(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:Q.FEATURE_QUERY_ENGINE,spatialIndex:new w({featureAdapter:new b({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,2),getFeatureExtent:e,sourceSpatialReference:E(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(l(e)?this.createQuery():y.from(e))}};e([o({aliasOf:\"sublayer\"})],R.prototype,\"i3slayer\",void 0),e([o()],R.prototype,\"layerView\",void 0),e([o()],R.prototype,\"suspended\",void 0),e([o({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],R.prototype,\"lodFactor\",void 0),e([o({readOnly:!0})],R.prototype,\"parsedFilterExpressions\",null),e([o({type:S})],R.prototype,\"filter\",null),e([o()],R.prototype,\"viewFilter\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"filterExpressionFields\",null),e([o({type:[String],readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"availableFields\",null),R=e([n(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],R);var O=R;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import o from\"./LayerView.js\";class s extends o{constructor(){super(...arguments),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([e()],s.prototype,\"layer\",void 0),r([e()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import{handlesGroup as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../../core/maybe.js\";import{createAbortController as a,isAbortError as u}from\"../../../core/promiseUtils.js\";import{init as p}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import y from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as d}from\"./BuildingSublayerView3D.js\";import{LayerView3D as g}from\"./LayerView3D.js\";import{parseFilterMode as m}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as f}from\"./i3s/I3SUtil.js\";import{updatingProgress as b}from\"../support/updatingProperties.js\";import w from\"../../layers/BuildingSceneLayerView.js\";const V=o.getLogger(\"esri.views.3d.layers.BuildingSceneLayerView3D\"),j=d(i);let C=class extends(g(w)){constructor(){super(...arguments),this.type=\"building-scene-3d\",this.sublayerViews=new s,this._abortController=a(),this._loadingComponents=0}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,i=null!=r?r.filterBlocks.find((e=>\"solid\"===e.filterMode.type)):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression,m(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){f(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this.initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController.abort(),this._abortController=null}initializeSubLayerViews(e,r){const i=this,s=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new j({sublayer:e,view:s,parent:r});this.initializeSubLayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const t=new y({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t),this.handles.add([p(t,\"updating\",(()=>this.notifyChange(\"updating\")),!0),p(t,\"updatingProgress\",(()=>this.notifyChange(\"updatingProgressValue\")),!0)])})).catch((r=>{u(r)||V.error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorMetadata(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorMetadata(e);return null}async fetchPopupFeatures(e,r){if(!n(r)||!r.clientGraphics||0===r.clientGraphics.length)return;const i=this._findComponent(r.clientGraphics[0].sourceLayer);return l(i)?void 0:i.fetchPopupFeatures(e,r)}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return l(r)?Promise.reject():r.whenGraphicBounds(e)}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof s&&(e=e.toArray());const i=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,s=new Map;for(const e of r){let r=s.get(e.sourceLayer);null==r&&(r=[],s.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=s.get(e.sublayer);r&&i.push(e.highlight(r))}))}return t(i)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([c()],C.prototype,\"sublayerViews\",void 0),e([c({readOnly:!0})],C.prototype,\"filterExpression\",null),e([c({readOnly:!0})],C.prototype,\"filterExpressions\",null),e([c(b)],C.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0,dependsOn:[]})],C.prototype,\"updatingProgressValue\",null),C=e([h(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],C);var v=C;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as t}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import a from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../core/Promise.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as c}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../geometry/Extent.js\";import f from\"../../geometry/SpatialReference.js\";import g from\"../FeatureLayer.js\";import j from\"./BuildingSublayer.js\";import{zeroCapabilities as v}from\"../support/capabilities.js\";import{popupEnabled as b}from\"../support/commonProperties.js\";import{defineFieldProperties as L}from\"../support/fieldProperties.js\";import F from\"../support/FieldsIndex.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as I,I3SMaterialDefinition as O,I3STextureSetDefinition as w,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import T from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import P from\"../../symbols/support/ElevationInfo.js\";const D=p.getLogger(\"esri.layers.buildingSublayers.BuildingComponentSublayer\"),Q=L();let R=class extends(a.LoadableMixin(d(j))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new F(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return n(t)&&\"number\"==typeof o?new g({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return n(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=n(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,D,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const r=(await o(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){var t,o,s,i;const a=null==(t=this.getFeatureType(null==r?void 0:r.feature))||null==(o=t.domains)?void 0:o[e];return a&&\"inherited\"!==a.type?a:null!=(s=null==(i=this.getField(e))?void 0:i.domain)?s:null}getFeatureType(e){return e&&n(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return n(this.associatedLayer)?this.associatedLayer.types:[]}get typeIdField(){return n(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=n(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:v,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(null!=e&&e.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:n(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return n(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),l(this.associatedLayer))throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([y({readOnly:!0})],R.prototype,\"parsedUrl\",null),e([y({type:I,readOnly:!0})],R.prototype,\"nodePages\",void 0),e([y({type:[O],readOnly:!0})],R.prototype,\"materialDefinitions\",void 0),e([y({type:[w],readOnly:!0})],R.prototype,\"textureSetDefinitions\",void 0),e([y({type:[x],readOnly:!0})],R.prototype,\"geometryDefinitions\",void 0),e([y({readOnly:!0})],R.prototype,\"serviceUpdateTimeStamp\",void 0),e([y({readOnly:!0})],R.prototype,\"store\",void 0),e([y({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],R.prototype,\"rootNode\",void 0),e([y({readOnly:!0})],R.prototype,\"attributeStorageInfo\",void 0),e([y(Q.fields)],R.prototype,\"fields\",void 0),e([y({readOnly:!0})],R.prototype,\"fieldsIndex\",null),e([y({readOnly:!0,type:g})],R.prototype,\"associatedLayer\",void 0),e([c(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],R.prototype,\"readAssociatedLayer\",null),e([y(Q.outFields)],R.prototype,\"outFields\",void 0),e([y({type:String,readOnly:!0})],R.prototype,\"objectIdField\",null),e([y({readOnly:!0,type:String,json:{read:!1}})],R.prototype,\"displayField\",null),e([y({readOnly:!0,type:String,aliasOf:\"layer.apiKey\"})],R.prototype,\"apiKey\",void 0),e([y({readOnly:!0,type:h,aliasOf:\"layer.fullExtent\"})],R.prototype,\"fullExtent\",void 0),e([y({readOnly:!0,type:f,aliasOf:\"layer.spatialReference\"})],R.prototype,\"spatialReference\",void 0),e([y({readOnly:!0,aliasOf:\"layer.version\"})],R.prototype,\"version\",void 0),e([y({readOnly:!0,type:P,aliasOf:\"layer.elevationInfo\"})],R.prototype,\"elevationInfo\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.minScale\"})],R.prototype,\"minScale\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.maxScale\"})],R.prototype,\"maxScale\",void 0),e([y({type:[\"hide\",\"show\"],json:{write:!0}})],R.prototype,\"listMode\",void 0),e([y({types:t,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],R.prototype,\"renderer\",void 0),e([y({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],R.prototype,\"definitionExpression\",void 0),e([y(b)],R.prototype,\"popupEnabled\",void 0),e([y({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],R.prototype,\"popupTemplate\",void 0),e([y({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],R.prototype,\"normalReferenceFrame\",void 0),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"defaultPopupTemplate\",null),e([y()],R.prototype,\"types\",null),e([y()],R.prototype,\"typeIdField\",null),e([y({json:{write:!1}}),u(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],R.prototype,\"layerType\",void 0),e([y()],R.prototype,\"geometryType\",null),e([y()],R.prototype,\"profile\",null),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"capabilities\",null),R=e([m(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],R);var E=R;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as a}from\"../support/commonProperties.js\";let l=class extends(r(o)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,r){return\"string\"==typeof r.alias?r.alias:\"string\"==typeof r.name?r.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:void 0}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),e([t()],l.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),e([s(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),e([t(a(String))],l.prototype,\"modelName\",void 0),e([t(a(Boolean))],l.prototype,\"isEmpty\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);var n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"./BuildingComponentSublayer.js\";import n from\"./BuildingSublayer.js\";var a;const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:l}}},read:!1}};function l(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t}))})))}let c=a=class extends n{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:u}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(p)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=p,r.readSublayers=l,r.forEachSublayer=e}(c||(c={}));var d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{project as F}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as E,filterInPlace as I}from\"./I3SUtil.js\";import x from\"../../../layers/support/FeatureFilter.js\";import M from\"../../../../geometry/SpatialReference.js\";const _=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let v,O=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(G().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){_.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>E(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>A(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,T,i))return _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return C(T,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return L(n,s);const c=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return L(this._geometryEngine.geodesicBuffer(n,t,c),s)}const l=F(n,M.WGS84);if(o(l)){return L(F(this._geometryEngine.geodesicBuffer(l,t,c),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=m(n,M.WGS84)}catch(u){}if(p)try{p=m(this._geometryEngine.geodesicBuffer(p,t,c),n.spatialReference)}catch(u){p=null}return p||_.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),L(p,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(_.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!B(e.spatialRelationship)||(_.warn(`Filters with spatialRelationship other than ${W.join(\", \")} are not supported for mesh scene layers`),!1)}};function k(){return!!v}async function G(){return k()||(v=await import(\"../../../../geometry/geometryEngine.js\")),v}e([l({type:x})],O.prototype,\"filter\",void 0),e([l()],O.prototype,\"layerFieldsIndex\",void 0),e([l()],O.prototype,\"loadAsyncModule\",void 0),e([l()],O.prototype,\"applyFilters\",void 0),e([l()],O.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],O.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],O.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],O.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],O.prototype,\"spatialRelationship\",null),e([l()],O.prototype,\"_projectionEngineLoaded\",void 0),e([l()],O.prototype,\"_geometryEngine\",void 0),O=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],O);const W=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function B(e){return null!=e&&W.indexOf(e)>=0}function L(e,t){if(i(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new r;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;n.add(e)}n.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])n.delete(e);else if(v.intersects(r,e)){r.rings=r.rings.concat(e.rings),w(r.aabr,e.aabr,r.aabr),delete r._geVersion,n.delete(e);const o=s(t,e,t.length,i);t.splice(o,1)}})),n.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function C(e,t,r,s){const n=U(e,r);return t.every((e=>1!==q(e,n,s)))}function A(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,T,a))return void _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(T,a),l=V(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(q(p,c,o)){case 1:return void(e.length=0);case 0:continue}I(e,t.featureIds,(e=>H(p,e,l)))}}const T=[0,0,0,0];function V(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>v.intersects(e,t)?0:2,p=Z;break;case\"contains\":l=(e,t)=>v.contains(e,t)?2:1,p=Z;break;default:l=(e,t)=>v.disjoint(e,t)?2:1,p=$}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?v.buffer(r,e[3],1):v.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return Z(e,t);case\"disjoint\":return $(e,t)}}function Z(e,t){return v.intersects(e,t)?v.contains(e,t)?0:2:1}function $(e,t){return v.intersects(e,t)?v.contains(e,t)?1:2:0}const z=2**-32;function H(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,P);const r=[[P[0],P[1],0],[P[0],P[4],0],[P[3],P[4],0],[P[3],P[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<z))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}return\"intersects\"!==r.type}const P=b();export{O as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:i.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([a(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export{p as I3SQueryEngine,d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{create as n,toRect as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as i,intersects as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return u(e,p(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=n(),d=i();var h=m;export{m as I3SQueryFeatureStore,h as default};\n"],"sourceRoot":""}