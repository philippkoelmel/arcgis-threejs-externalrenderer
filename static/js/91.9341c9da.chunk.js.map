{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/analysis/support/measurementUtils.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/MeasurementData.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementController.js","../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../node_modules/@arcgis/core/views/interactive/editGeometry/unnormalizationHelper.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementPathHelper.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementLayerViewData.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/measurementUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/CheckerBoardMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementView.js","../node_modules/@arcgis/core/views/3d/layers/AreaMeasurementLayerView3D.js","../node_modules/@arcgis/core/chunks/CheckerBoard.glsl.js"],"names":["z","t","e","n","r","distance","j","k","o","s","i","Math","abs","q","G","g","R","S","U","setPoint","c","a","l","rings","spatialReference","p","WGS84","W","b","this","positionsWorldCoords","positionsRenderCoords","positionsProjectedWorldCoords","positionsFittedRenderCoords","positionsGeographic","positionsSpherical","positionsStereographic","pathSegmentLengths","geodesicPathSegmentLengths","perimeterSegmentLengths","intersectingSegments","Set","geodesicIntersectingSegments","areaCentroidWorldCoords","u","areaCentroidRenderCoords","geodesicAreaCentroidRenderCoords","_length","_centroidRenderCoords","_planeWorldCoords","f","_worldUp","_worldTangent","_frame","_pathVersion","_validMeasurement","_tempU","_tempV","_tempVec3","_tempSphere","center","radius","_sceneView","unitNormalizer","renderSpatialReference","d","version","numVertices","_resize","w","C","m","_","forEachVertexPosition","hasZ","F","N","elevationProvider","L","h","_updatePathLengths","pathLength","normalizeDistance","_updateGeodesicPathLengths","geodesicPathLength","_updateArea","_updateGeodesicArea","area","geodesicArea","perimeterLength","triangleIndices","geodesicTriangleIndices","clear","fittingMode","length","push","I","renderCoordsHelper","y","worldUpAtPosition","worldBasisAtPosition","P","Error","_selectFittingMode","forEach","getAltitude","A","v","_updatePerimeterLengths","_updateIntersectingSegments","size","normalizeArea","_computeArea","E","toRenderCoords","_updateGeodesicIntersectingSegments","_computeGeodesicArea","add","x","Uint32Array","M","map","V","reduce","max","sqrt","T","maxRelativeErrorCoplanar","maxRelativeErrorAlmostCoplanar","cos","verticalAngleThreshold","Float64Array","_handles","view","_measurementDataManager","layerViewData","path","on","_update","update","validMeasurement","getData","_set","measurementData","constructOnly","prototype","readOnly","tag","hasM","type","valueType","component","leftEdge","rightEdge","index","_pos","unnormalizeVertexPositions","leftVertex","rightVertex","viewingMode","vertices","edges","supported","upperBoundX","lowerBoundX","pos","min","valid","swapVertices","indexOf","coordinateHelper","_geometry","dirty","components","toPoint","toPolyline","toPolygon","emit","vectorToPoint","vectorToArray","find","paths","isClosed","arrayToVector","pointToVector","editGeometry","addedVertex","originalEdge","left","right","getLastVertex","splice","updateVertexIndex","notifyChanges","operation","addedVertices","removedVertices","undone","apply","updatedVertices","undo","canAccumulate","accumulate","accumulateParams","minNumberOfVertices","_removeVertex","removedVertex","_undoRemoveVertex","createdEdge","edge","createdVertex","lerp","createVector","unshift","vertex","originalPosition","_apply","getFirstVertex","helper","dx","dy","dz","addDelta","move","planeType","_plane","D","_offsetPlane","_minDistance","_maxDistance","_initialize","_left","isOriginalDirection","_right","_edgeDirection","_initializeNeighbors","_initializePlane","_initializeDistanceConstraints","_toXYZ","_computeNeighbor","toXYZ","start","end","direction","_passesBisectingAngleThreshold","_bisectVectorsPerpendicular","PI","_bisectDirection","_computeNormalDirection","requiresSplitEdgeLeft","_updateDistanceConstraint","requiresSplitEdgeRight","_updateIntersectDistanceConstraint","_pointInBasis2D","Number","isFinite","copy","fromXYZ","getM","plane","_offset","_maybeEqualsVec3","_cloneNeighbor","origin","angle","accumulationType","rotate","axis1","factor1","factor2","axis2","scale","operations","closed","data","undoStack","redoStack","listener","remove","updateVertices","_minNumVerticesPerType","includes","close","pop","lastOperation","fromGeometry","_version","_internalGeometryChange","_extent","areaMeasurement","initialized","forEachVertex","removeAll","_updateEditGeometryFromModelGeometry","_makeDirty","notifyChange","geometry","_editGeometryOperations","state","getVertex","iterateVertices","appendVertex","closeComponent","setVertexPosition","getVertexPositionAsPointFromIndex","equals","EventedAccessor","value","arguments","lastDraggedVertex","isValidPolygon","boundingSphere","bestFitPlane","planePointDistance","segmentLengthEuclidean","segmentLengthGeodesic","segmentLengthGeodesicVector","triangleAreaEuclidean","triangleAreaGeodesic","tangentFrame","fitHemisphere","compareSets","has","isPrimaryPointerAction","pointerType","button","shader","get","configuration","build","OITEnabled","transparencyPassType","multipassTerrainEnabled","cullAboveGround","rctx","program","camera","projectionMatrix","setUniform2fv","setUniform4fv","color1","color2","nearFar","inverseViewport","blending","transparent","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","factor","units","setPipelineState","count","techniqueConfig","params","output","updateParameters","_technique","_techniqueRep","releaseAndAcquire","_material","getTechniqueConfig","bindPass","getPassParameters","_checkerBoardMaterial","_renderOccluded","_size","_color1","_color2","applyProps","updateMaterial","geometryChanged","setParameterValues","renderOccluded","transform","position","uv","exclusive","addGeometry","recreateGeometry","_params","_path","_intersectedPath","_perimeter","_intersectedPerimeter","_projectionLines","_measurementArea","_areaLabel","_pathLengthLabel","_cursorSegmentLengthLabel","_perimeterLengthLabel","_pathSegments","_perimeterSegments","_cursorSegment","_origin","_originTransform","_cursorPositionRenderSpace","messages","viewData","areaLabel","perimeterLengthLabel","mode","loadingMessages","geodesicMeasurementDistanceThreshold","layerView","visible","suspended","labels","cursorSegmentLength","attached","width","pathLineWidth","color","pathLineColor","intersectingLineColor","perimeterLineWidth","perimeterLineColor","projectionLineWidth","projectionLineColor","stipplePattern","projectionLineStippleSize","stippleIntegerRepeats","areaColor1","areaColor2","fontSize","unit","cursorPoint","_updateLabels","_updateMessageBundle","fullOpacity","_updateVisualElementsOpacity","set","destroyed","_updateViewData","_updateOrigin","_updatePathSegments","_updatePerimeterSegments","_updateProjectionLines","lastPoint","_toPreferredAreaUnit","pathVersion","positionsProjected","areaCentroid","pathLengthLabelSegmentIndex","perimeterLengthLabelSegmentIndex","checkerSize","geodesicCursorSegmentLength","all","nonIntersecting","intersecting","_createSegments","setGeometryFromSegments","_updateAreaEuclidean","_updateAreaGeodesic","_formatAreaLabel","point","text","_formatLengthLabel","labelDistance","segment","sampleLocation","anchor","overlaps","toUnit","_preferredAreaUnit","_deriveLengthUnitFromAreaUnit","_preferredLengthUnit","O","then","finally","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","handleRadiusHovered","handleRadiusMouse","handleRadiusTouch","fillColor","lineSubdivisions","_userUnit","_defaultUnit","layer","analysisView","analysis","analysisController","controller","extensions","attributes","uniforms","varyings","code","fragment","include","Object","freeze","__proto__"],"mappings":"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","file":"static/js/91.9341c9da.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,b as e,a as n,h as r,d as o,i as s,c as i,n as f,g as u}from\"../../../../../chunks/vec3.js\";import{c as a}from\"../../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../../geometry/geometryEngine.js\";import l from\"../../../../../geometry/Polygon.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as h,projectVectorToWGS84ComparableLonLat as g}from\"../../../../../geometry/projection.js\";import p from\"../../../../../geometry/SpatialReference.js\";import{inverseGeodeticSolver as j}from\"../../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as d}from\"../../../support/mathUtils.js\";function y(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)e(i,i,o[t]);n(i,i,1/o.length);let f=0;for(let t=0;t<o.length;++t)f=Math.max(f,r(i,o[t]));s.radius=Math.sqrt(f)}function M(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");d(t[0],t[1],t[2],e)}function b(t,e){return o(t,e)+t[3]}function P(t,e,n){return m(t,R,n)&&m(e,S,n)?s(R,S):0}function w(t,e){if(!h(t,R)||!h(e,S))return 0;const n={distance:null};return j(n,[R[0],R[1]],[S[0],S[1]]),n.distance}function z(t,e,n){const r={distance:null};return j(r,[t[0],t[1]],[e[0],e[1]],n),r.distance}function k(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],i=n[1]-t[1];return.5*Math.abs(r*i-o*s)}function q(t,e,n,r){const o=G;return g(t,r,R)&&g(e,r,S)&&g(n,r,U)?(o.setPoint(0,0,R),o.setPoint(0,1,S),o.setPoint(0,2,U),Math.abs(c(o,\"square-meters\"))):0}function v(e,n,r){Math.abs(e[0])>Math.abs(e[1])?t(n,0,1,0):t(n,1,0,0),i(r,e,n),f(n,n),i(n,r,e),f(r,r)}function x(n,r=null,s=!0){const a=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let n=0;n<t.length;++n)if(o(e,t[n])<-a)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&u(r,n[0]),!0;t(W,0,0,0);for(let t=0;t<n.length;++t)e(W,W,n[t]);if(f(W,W),c(n,W))return r&&u(r,W),!0;if(!s)return!1;for(let t=0;t<n.length;++t)for(let e=0;e<n.length;++e)if(t!==e&&(i(W,n[t],n[e]),f(W,W),c(n,W)))return r&&u(r,W),!0;return!1}function E(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let n=0;n<t.size;++n)if(!e.has(t[n]))return!1;return!0}const R=a(),S=a(),U=a(),G=new l({rings:[[R,S,U]],spatialReference:p.WGS84}),W=a();export{M as bestFitPlane,y as boundingSphere,E as compareSets,x as fitHemisphere,b as planePointDistance,P as segmentLengthEuclidean,w as segmentLengthGeodesic,z as segmentLengthGeodesicVector,v as tangentFrame,k as triangleAreaEuclidean,q as triangleAreaGeodesic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{unwrapOr as t}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Quantity.js\";import{e as i}from\"../../../../../chunks/earcut.js\";import{s as o,d as r}from\"../../../../../chunks/vec2.js\";import{a as n}from\"../../../../../chunks/vec2f64.js\";import{n as h,i as a,g as d,c as g,o as l,f as p,d as c,a as m,b as _}from\"../../../../../chunks/vec3.js\";import{c as u}from\"../../../../../chunks/vec3f64.js\";import{c as f}from\"../../../../../chunks/vec4f64.js\";import{canProjectWithoutEngine as C,canProjectToWGS84ComparableLonLat as S,projectPointToVector as L,projectPointToWGS84ComparableLonLat as R,projectDirection as P,projectVectorToVector as j}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as w,getReferenceEllipsoid as A}from\"../../../../../geometry/projectionEllipsoid.js\";import W from\"../../../../../geometry/SpatialReference.js\";import{segmentIntersects as v}from\"../../../../../geometry/support/intersectsBase.js\";import{segmentLengthGeodesicVector as I,bestFitPlane as U,fitHemisphere as z,triangleAreaEuclidean as G,triangleAreaGeodesic as M,planePointDistance as V,boundingSphere as T}from\"../support/measurementUtils.js\";import{midpoint as y}from\"../support/viewUtils.js\";import{getElevationAtPoint as F}from\"../../../support/ElevationProvider.js\";import{makeOrthonormal as k,tangentFrame as E}from\"../../../support/mathUtils.js\";class b{constructor(e,t){this.positionsWorldCoords=[],this.positionsRenderCoords=[],this.positionsProjectedWorldCoords=[],this.positionsFittedRenderCoords=[],this.positionsGeographic=[],this.positionsSpherical=[],this.positionsStereographic=[],this.pathSegmentLengths=[],this.geodesicPathSegmentLengths=[],this.perimeterSegmentLengths=[],this.intersectingSegments=new Set,this.geodesicIntersectingSegments=new Set,this.areaCentroidWorldCoords=u(),this.areaCentroidRenderCoords=u(),this.geodesicAreaCentroidRenderCoords=u(),this._length=0,this._centroidRenderCoords=u(),this._planeWorldCoords=f(),this._worldUp=u(),this._worldTangent=u(),this._frame=[u(),u(),u()],this._pathVersion=-1,this._validMeasurement=!1,this._tempU=u(),this._tempV=u(),this._tempVec3=u(),this._tempSphere={center:u(),radius:0},this._sceneView=e,this.unitNormalizer=t}update(e,t,i,o,r){const n=this.unitNormalizer,a=this._sceneView.renderSpatialReference,d=this.unitNormalizer.spatialReference;if(this._pathVersion===e.version&&this._validMeasurement===i&&!r)return!1;this._pathVersion=e.version,this._validMeasurement=i;const g=e.numVertices;this._resize(g);const l=w(t.spatialReference),p=C(t.spatialReference,l)&&S(t.spatialReference),c=this.positionsGeographic,m=this.positionsWorldCoords,_=this.positionsRenderCoords,u=this.positionsSpherical;e.forEachVertexPosition(((e,s)=>{N(t.elevationProvider,e),L(e,m[s],d),L(e,_[s],a),p&&(R(e,c[s]),L(e,u[s],l),h(u[s],u[s]))}));const f=this._updatePathLengths(i);if(this.pathLength=this._length>1?new s(n.normalizeDistance(f),\"meters\"):null,p){const e=this._updateGeodesicPathLengths(i,d);this.geodesicPathLength=this._length>1?new s(e,\"meters\"):null}else this.geodesicPathLength=null;return i?(this._updateArea(t,n,a,d,o),p&&this._updateGeodesicArea(t),!0):(this.area=null,this.geodesicArea=null,this.perimeterLength=null,this.triangleIndices=null,this.geodesicTriangleIndices=null,this.intersectingSegments.clear(),this.geodesicIntersectingSegments.clear(),!0)}getData(){return{positionsWorldCoords:this.positionsWorldCoords,positionsRenderCoords:this.positionsRenderCoords,positionsProjectedWorldCoords:this.positionsProjectedWorldCoords,positionsFittedRenderCoords:this.positionsFittedRenderCoords,positionsGeographic:this.positionsGeographic,positionsSpherical:this.positionsSpherical,positionsStereographic:this.positionsStereographic,pathSegmentLengths:this.pathSegmentLengths,geodesicPathSegmentLengths:this.geodesicPathSegmentLengths,perimeterSegmentLengths:this.perimeterSegmentLengths,intersectingSegments:this.intersectingSegments,geodesicIntersectingSegments:this.geodesicIntersectingSegments,triangleIndices:this.triangleIndices,geodesicTriangleIndices:this.geodesicTriangleIndices,areaCentroidWorldCoords:this.areaCentroidWorldCoords,areaCentroidRenderCoords:this.areaCentroidRenderCoords,geodesicAreaCentroidRenderCoords:this.geodesicAreaCentroidRenderCoords,fittingMode:this.fittingMode,area:this.area,geodesicArea:this.geodesicArea,pathLength:this.pathLength,geodesicPathLength:this.geodesicPathLength,perimeterLength:this.perimeterLength,unitNormalizer:this.unitNormalizer}}_resize(e){for(e<this._length&&(this.positionsWorldCoords.length=e,this.positionsRenderCoords.length=e,this.positionsProjectedWorldCoords.length=e,this.positionsFittedRenderCoords.length=e,this.positionsGeographic.length=e,this.positionsSpherical.length=e,this.positionsStereographic.length=e,this.pathSegmentLengths.length=e,this.geodesicPathSegmentLengths.length=e,this.perimeterSegmentLengths.length=e,this._length=e);this._length<e;)this.positionsWorldCoords.push(u()),this.positionsRenderCoords.push(u()),this.positionsProjectedWorldCoords.push(n()),this.positionsFittedRenderCoords.push(u()),this.positionsGeographic.push(u()),this.positionsSpherical.push(u()),this.positionsStereographic.push(n()),this.pathSegmentLengths.push(0),this.geodesicPathSegmentLengths.push(0),this.perimeterSegmentLengths.push(0),++this._length}_updatePathLengths(e){const t=this.positionsWorldCoords,s=this.pathSegmentLengths;let i=0;for(let o=0;o<this._length;++o){const r=s[o]=a(t[o],t[(o+1)%this._length]);(o<this._length-1||e)&&(i+=r)}return i}_updateGeodesicPathLengths(e,t){const s=this.positionsGeographic,i=this.geodesicPathSegmentLengths;let o=0;for(let r=0;r<this._length;++r){const n=i[r]=I(s[r],s[(r+1)%this._length],t);(r<this._length-1||e)&&(o+=n)}return o}_updateArea(e,t,i,r,n){const h=e.renderCoordsHelper,a=this.positionsWorldCoords,u=this.positionsRenderCoords,f=this.positionsProjectedWorldCoords,C=this.positionsFittedRenderCoords,S=this._planeWorldCoords,L=this._centroidRenderCoords;y(u,L),h.worldUpAtPosition(L,this._worldUp),h.worldBasisAtPosition(L,0,this._worldTangent),P(L,this._worldUp,i,this._worldUp,r),P(L,this._worldTangent,i,this._worldTangent,r),a.length>2&&U(a,S),this.fittingMode=this._selectFittingMode(S,a,this._worldUp,n);let R=0;if(\"horizontal\"===this.fittingMode){let e=-1/0;u.forEach(((t,s)=>{const i=h.getAltitude(u[s]);i>e&&(e=i,R=s)}))}const w=a[R];let A=S,W=this._worldTangent;\"horizontal\"===this.fittingMode?A=this._worldUp:\"vertical\"===this.fittingMode&&(A=this._tempVec3,W=this._worldUp,k(S,this._worldUp,A)),d(this._frame[2],A),k(W,A,this._frame[0]),g(this._frame[1],this._frame[0],this._frame[2]),l(this._frame[1],this._frame[1]);const v=this._tempVec3,I=this._tempU,z=this._tempV;for(let s=0;s<this._length;++s){const e=f[s],t=C[s];p(v,a[s],w),o(e,c(this._frame[0],v),c(this._frame[1],v)),m(I,this._frame[0],e[0]),m(z,this._frame[1],e[1]),_(v,I,z),_(v,v,w),j(v,r,t,i)}this.perimeterLength=this._length>0?new s(t.normalizeDistance(this._updatePerimeterLengths()),\"meters\"):null,y(C,this.areaCentroidRenderCoords),j(this.areaCentroidRenderCoords,i,this.areaCentroidWorldCoords,r),this._updateIntersectingSegments(),this.area=0===this.intersectingSegments.size?new s(t.normalizeArea(this._computeArea()),\"square-meters\"):null}_updateGeodesicArea(e){const t=e.renderCoordsHelper,i=this.positionsSpherical,r=this.positionsStereographic,n=this._tempVec3,h=z(i,n);if(!h)return void(this.geodesicArea=null);const a=this._tempU,d=this._tempV;E(n,a,d);for(let s=0;s<this._length;++s){const e=c(i[s],a),t=c(i[s],d),h=c(i[s],n);o(r[s],e/h,t/h)}m(n,n,A(e.spatialReference).radius),t.toRenderCoords(n,w(e.spatialReference),this.geodesicAreaCentroidRenderCoords),this._updateGeodesicIntersectingSegments(),this.geodesicArea=h&&0===this.geodesicIntersectingSegments.size?new s(this._computeGeodesicArea(),\"square-meters\"):null}_updatePerimeterLengths(){const e=this.positionsProjectedWorldCoords,t=this.perimeterSegmentLengths;let s=0;for(let i=0;i<this._length;++i){s+=t[i]=r(e[i],e[(i+1)%this._length])}return s}_updateIntersectingSegments(){const e=this.positionsProjectedWorldCoords,t=this.intersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];v(o,r,n,h)&&(t.add(s),t.add(i))}}_computeArea(){const e=this.positionsProjectedWorldCoords,t=x(e,2),s=this.triangleIndices=new Uint32Array(i(t,[],2));let o=0;for(let i=0;i<s.length;i+=3)o+=G(e[s[i]],e[s[i+1]],e[s[i+2]]);return o}_updateGeodesicIntersectingSegments(){const e=this.positionsStereographic,t=this.geodesicIntersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];v(o,r,n,h)&&(t.add(s),t.add(i))}}_computeGeodesicArea(){const e=this.positionsGeographic,t=x(this.positionsStereographic,2),s=this.geodesicTriangleIndices=new Uint32Array(i(t,[],2));let o=0;for(let i=0;i<s.length;i+=3)o+=M(e[s[i]],e[s[i+1]],e[s[i+2]],W.WGS84);return o}_selectFittingMode(t,s,i,o){const r=s.map((e=>Math.abs(V(t,e)))).reduce(((e,t)=>Math.max(e,t)),0);T(s,this._tempSphere);const n=r/(2*this._tempSphere.radius),h=n<o.maxRelativeErrorCoplanar,a=n<o.maxRelativeErrorAlmostCoplanar;let d=\"horizontal\";if(h)d=\"oblique\";else if(a){d=Math.abs(c(i,t))>Math.cos(e(o.verticalAngleThreshold))?\"horizontal\":\"vertical\"}return d}}function x(e,t){const s=new Float64Array(e.length*t);for(let i=0;i<e.length;++i){const o=e[i];for(let e=0;e<t;++e)s[i*t+e]=o[e]}return s}function N(e,s){s.hasZ||(s.z=t(F(e,s,\"ground\"),0))}export{b as MeasurementDataManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../../core/maybe.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as i}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as n,WGS84ECEFSpatialReference as m,SphericalECEFSpatialReference as p}from\"../../../../../geometry/projectionEllipsoid.js\";import{MeasurementDataManager as c}from\"./MeasurementData.js\";import{UnitNormalizer as l}from\"../support/UnitNormalizer.js\";let h=class extends t{constructor(e){super(e),this._handles=new r}initialize(){const e=this.view.spatialReference,t=n(e),r=t===p?m:t,s=!e||i(e,r)?r:e,a=new l(s);this._measurementDataManager=new c(this.view,a),this._handles.add([this.layerViewData.path.on(\"change\",(()=>this._update()))]),this._update()}destroy(){this._handles=s(this._handles)}_update(e=!1){const t=this.layerViewData,r={maxRelativeErrorCoplanar:.005,maxRelativeErrorAlmostCoplanar:.01,verticalAngleThreshold:80};if(this._measurementDataManager.update(t.path,this.view,t.validMeasurement,r,e)){const e=this._measurementDataManager.getData();this._set(\"measurementData\",e),t.measurementData=e}}};e([a({constructOnly:!0})],h.prototype,\"view\",void 0),e([a({constructOnly:!0})],h.prototype,\"analysis\",void 0),e([a({readOnly:!0})],h.prototype,\"measurementData\",void 0),e([a({constructOnly:!0})],h.prototype,\"layerViewData\",void 0),h=e([o(\"esri.views.3d.layers.analysis.AreaMeasurement.AreaMeasurementController\")],h);export{h as AreaMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{m as e,d as t,c as r}from\"../../chunks/vec2.js\";import{a,f as i,d as n}from\"../../chunks/vec2f64.js\";import{e as s,i as o,g as u}from\"../../chunks/vec3.js\";import{f as c,c as h,d as p}from\"../../chunks/vec3f64.js\";import{l as v,c as y}from\"../../chunks/vec4.js\";import{c as l,f as d,b as f}from\"../../chunks/vec4f64.js\";import T from\"../../geometry/Point.js\";class m{constructor(e){this.spatialReference=e}createVector(){return this.tag(a())}pointToVector(e){return this.tag(i(e.x,e.y))}arrayToVector(e){return this.tag(i(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}lerp(t,r,a,i){return e(i,t,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}distance(e,r){return t(e,r)}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}clone(e){return this.tag(n(e))}copy(e,t){return r(t,e)}fromXYZ(e){return this.tag(i(e[0],e[1]))}toXYZ(e,t=0){return c(e[0],e[1],t)}tag(e){return e}}class g{constructor(e,t){this.valueType=e,this.spatialReference=t}createVector(){return this.tag(h())}pointToVector(e){return this.tag(c(e.x,e.y,0===this.valueType?e.z:e.m))}arrayToVector(e){return this.tag(c(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=0===this.valueType?e[2]:void 0,t.m=1===this.valueType?e[2]:void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=0===this.valueType?e[2]:void 0,t.m=1===this.valueType?e[2]:void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){const r=0===this.valueType,a=1===this.valueType;return t.x=e[0],t.y=e[1],t.z=r?e[2]:void 0,t.m=a?e[2]:void 0,t.hasZ=r,t.hasM=a,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return s(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}distance(e,r){return 0===this.valueType?o(e,r):t(e,r)}getZ(e,t){return 0===this.valueType?e[2]:t}hasZ(){return 0===this.valueType}getM(e,t){return 1===this.valueType?e[2]:t}hasM(){return 1===this.valueType}clone(e){return this.tag(p(e))}copy(e,t){return u(t,e)}fromXYZ(e,t=0,r=0){return this.tag(c(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:r))}toXYZ(e,t=0){return this.tag(c(e[0],e[1],0===this.valueType?e[2]:t))}tag(e){return e}}class R{constructor(e){this.spatialReference=e}createVector(){return this.tag(l())}pointToVector(e){return this.tag(d(e.x,e.y,e.z,e.m))}arrayToVector(e){return this.tag(d(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return v(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}distance(e,t){return o(e,t)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this.tag(f(e))}copy(e,t){return y(t,e)}fromXYZ(e,t=0,r=0){return this.tag(d(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return c(e[0],e[1],e[2])}tag(e){return e}}function x(e,t,r){return e&&t?new R(r):t?new g(1,r):e?new g(0,r):new m(r)}export{m as CoordinateHelper2D,g as CoordinateHelper3D,R as CoordinateHelper4D,x as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Evented.js\";import{isSome as s}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import r from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";import{unnormalize as n,getUnnormalizationInfo as h}from\"./unnormalizationHelper.js\";class c{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type=\"vertex\",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class l{constructor(e,t,s){this.component=e,this.leftVertex=t,this.rightVertex=s,this.type=\"edge\",t.rightEdge=this,s.leftEdge=this}}class p{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this.vertices=[],this.edges=[]}unnormalizeVertexPositions(){this.vertices.length<=1||n(this.vertices,h(this.spatialReference,this.viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const s=this.vertices[0];let i=null,r=e,o=t;do{i=r,i.index=o++,r=i.rightEdge?i.rightEdge.rightVertex:null}while(null!=r&&r!==s);i.leftEdge&&i!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(i),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const s=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=s}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let i=t;do{e(i,i.index),i=s(i.rightEdge)?i.rightEdge.rightVertex:null}while(i!==t&&null!=i)}}class g extends t{constructor(e,t,s){super(),this.type=e,this.coordinateHelper=t,this.viewingMode=s,this._geometry=null,this.dirty=!0,this.components=[]}get geometry(){if(this.dirty){switch(this.type){case\"point\":this._geometry=this.toPoint();break;case\"polyline\":this._geometry=this.toPolyline();break;case\"polygon\":this._geometry=this.toPolygon()}this.dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(e){this.dirty=!0,this.emit(\"change\",e)}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;return this.components.forEach(((s,i)=>{const r=[];let o=s.vertices.find((e=>null==e.leftEdge));const n=o;do{r.push(t(o.pos)),o=o.rightEdge?o.rightEdge.rightVertex:null}while(o&&o!==n);e.push(r)})),new r({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;return this.components.forEach(((i,r)=>{const o=[],n=i.vertices[0];let h=n;const c=h;do{o.push(t(h.pos)),h=s(h.rightEdge)?h.rightEdge.rightVertex:null}while(h&&h!==c);i.isClosed()&&o.push(t(n.pos)),e.push(o)})),new i({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,s){const i=t.spatialReference,r=o(t.hasZ,t.hasM,i),n=new g(t.type,r,s);switch(t.type){case\"polygon\":{const o=t.rings;for(let t=0;t<o.length;++t){const h=o[t],g=new p(i,s),a=h.length>2&&e(h[0],h[h.length-1]),d=a?h.length-1:h.length;for(let e=0;e<d;++e){const t=r.arrayToVector(h[e]),s=new c(g);g.vertices.push(s),s.pos=t,s.index=e}const u=g.vertices.length-1;for(let e=0;e<u;++e){const t=g.vertices[e],s=g.vertices[e+1],i=new l(g,t,s);g.edges.push(i)}if(a){const e=new l(g,g.vertices[g.vertices.length-1],g.vertices[0]);g.edges.push(e)}n.components.push(g)}break}case\"polyline\":for(const e of t.paths){const t=new p(i,s),o=e.length;for(let s=0;s<o;++s){const i=r.arrayToVector(e[s]),o=new c(t);t.vertices.push(o),o.pos=i,o.index=s}const h=t.vertices.length-1;for(let e=0;e<h;++e){const s=t.vertices[e],i=t.vertices[e+1],r=new l(t,s,i);t.edges.push(r)}n.components.push(t)}break;case\"point\":{const e=new p(i,s),o=new c(e);o.index=0,o.pos=r.pointToVector(t),e.vertices.push(o),n.components.push(e);break}}return n}}export{p as Component,l as Edge,g as EditGeometry,c as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getInfo as o}from\"../../../geometry/support/spatialReferenceUtils.js\";function r(o,r){if(!r.supported)return;let p=1/0,e=-1/0;const u=r.upperBoundX-r.lowerBoundX;o.forEach((o=>{let n=o.pos[0];for(;n<r.lowerBoundX;)n+=u;for(;n>r.upperBoundX;)n-=u;p=Math.min(p,n),e=Math.max(e,n),o.pos[0]=n}));const n=e-p;u-n<n&&o.forEach((o=>{o.pos[0]<0&&(o.pos[0]+=u)}))}function p(r,p){const e=o(r);return 1===p&&e?{supported:!0,lowerBoundX:e.valid[0],upperBoundX:e.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{p as getUnnormalizationInfo,r as unnormalize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class d{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let d=\"redo\";e(this.addedVertex)&&(d=\"apply\",this.addedVertex=new i(this.component));const h=this.component.getLastVertex();if(e(h))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;h.rightEdge&&(this.originalEdge=h.rightEdge,i=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,h,this.addedVertex)),this.component.edges.push(this.left),h.rightEdge=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.leftEdge=this.right),this.component.updateVertexIndex(this.addedVertex,h.index+1)}this.editGeometry.notifyChanges({operation:d,addedVertices:[this.addedVertex]})}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0),this.editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.addedVertex]})}accumulate(){return!1}}export{d as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t,i){this.editGeometry=e,this.vertices=t,this.operation=i,this.undone=!1}apply(){this.vertices.forEach((e=>this.operation.apply(e))),this.editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:this.undone?\"redo\":\"apply\",updatedVertices:this.vertices})}undo(){this.vertices.forEach((e=>this.operation.undo(e))),this.editGeometry.notifyChanges({operation:\"undo\",updatedVertices:this.vertices}),this.undone=!0}canAccumulate(e){if(this.undone||e.vertices.length!==this.vertices.length)return!1;for(let t=0;t<e.vertices.length;++t)if(e.vertices[t]!==this.vertices[t])return!1;return this.operation.canAccumulate(e.operation)}accumulate(t){return!!(t instanceof e&&this.canAccumulate(t))&&(this.vertices.forEach((e=>this.operation.accumulate(e,t.operation))),this.operation.accumulateParams(t.operation),this.editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:\"apply\",updatedVertices:this.vertices}),!0)}}export{e as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this.editGeometry=e,this.vertices=t,this.minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const r=this._removeVertex(t);e(r)&&this.removedVertices.push(r)})),t=\"apply\"):this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)})),this.editGeometry.notifyChanges({operation:t,removedVertices:this.vertices})}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)})),this.editGeometry.notifyChanges({operation:\"undo\",addedVertices:this.vertices})}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.leftEdge,d=e.rightEdge;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===e.index&&d&&this.vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new t(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Vertex as t,Edge as i}from\"../EditGeometry.js\";class r{constructor(e,t,i){this.editGeometry=e,this.edge=t,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let r=\"redo\";const s=this.edge,d=s.component,h=s.leftVertex,g=s.rightVertex;d.edges.splice(d.edges.indexOf(s),1),e(this.createdVertex)&&(r=\"apply\",this.createdVertex=new t(s.component)),d.vertices.push(this.createdVertex),this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(s.leftVertex.pos,s.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector()),e(this.left)&&(this.left=new i(d,h,this.createdVertex)),this.left.leftVertex.leftEdge?d.edges.push(this.left):d.edges.unshift(this.left),h.rightEdge=this.left,e(this.right)&&(this.right=new i(d,this.createdVertex,g)),d.edges.push(this.right),g.leftEdge=this.right,d.updateVertexIndex(this.createdVertex,h.index+1),this.editGeometry.notifyChanges({operation:r,addedVertices:[this.createdVertex]})}undo(){if(e(this.createdVertex)||e(this.left)||e(this.right))return null;const t=this.edge,i=t.component,r=this.createdVertex.leftEdge,s=this.createdVertex.rightEdge,d=r.leftVertex,h=s.rightVertex;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this.left),1),i.edges.splice(i.edges.indexOf(this.right),1),this.edge.leftVertex.leftEdge?i.edges.push(this.edge):i.edges.unshift(this.edge),d.rightEdge=t,h.leftEdge=t,i.updateVertexIndex(d,d.index),this.editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.createdVertex]})}accumulate(){return!1}}export{r as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";class i{constructor(t,e,i){this.editGeometry=t,this.vertex=e,this.pos=i}apply(){const e=t(this.originalPosition);e&&(this.originalPosition=this.vertex.pos),this._apply(e?\"apply\":\"redo\")}undo(){this.vertex.pos=e(this.originalPosition),this.editGeometry.notifyChanges({operation:\"undo\",updatedVertices:[this.vertex]})}accumulate(t){return t instanceof i&&t.vertex===this.vertex&&(this.pos=t.pos,this._apply(\"apply\"),!0)}_apply(t){this.vertex.pos=this.pos,this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:t,updatedVertices:[this.vertex]})}}export{i as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{Edge as r}from\"../EditGeometry.js\";class i{constructor(e,t){this.editGeometry=e,this.component=t,this.createdEdge=null}apply(){let e=\"redo\";if(t(this.createdEdge)){e=\"apply\";const i=this.component.getFirstVertex(),o=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||t(i)||t(o))return;this.createdEdge=new r(this.component,o,i)}this.createdEdge.leftVertex.rightEdge=this.createdEdge,this.createdEdge.rightVertex.leftEdge=this.createdEdge,this.component.edges.push(this.createdEdge),this.editGeometry.notifyChanges({operation:e})}undo(){t(this.createdEdge)||(e(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:\"undo\"}))}accumulate(){return!1}}export{i as CloseComponent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,d,h){this.helper=t,this.dx=s,this.dy=d,this.dz=h}move(t,s,d,h){this.helper.addDelta(t.pos,s,d,h)}apply(t){this.move(t,this.dx,this.dy,this.dz)}undo(t){this.move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(s){return s instanceof t}accumulate(t,s){this.move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{t as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{d as n,h as s,q as r,b as e,a as o,i as u,u as a,c,l as i}from\"../../chunks/vec2.js\";import{b as f,a as p}from\"../../chunks/vec2f64.js\";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,s,r){const e=(s[0]-t[0])*(r[1]-t[1])-(s[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/n(s,r)}function y(t,n,o){const u=s(o,n)/r(o);return e(t,o,u)}function d(t,n,s,r,e=s){return o(x,r,s),o(g,n,e),y(w,g,x),u(t,e,w)}function b(t,n,e,u){o(x,u,e),o(g,n,e);const i=s(x,g)/r(x);return i>0?a(t,e,x,i):c(t,e)}function l(t,n,s,r){o(x,n,s);const e=r/i(x);return a(t,s,x,e)}function j(n,s){return d(g,s,n.start,n.end),t(g[0],s[0])&&t(g[1],s[1])?[f(s)]:[]}function M(n,s,r){return l(g,r,n,s),t(g[0],r[0])&&t(g[1],r[1])?[f(r)]:[]}function k(t,n){const s=t.start,r=t.end,e=n.start,u=n.end,c=o(x,r,s),i=o(U,u,e),f=h(c,i);if(Math.abs(f)<=v)return[];const p=o(g,s,e),m=h(i,p)/f,y=h(c,p)/f;if(m>=0){if(y>=0||1===n.type)return[a(w,s,c,m)]}else if(1===t.type&&(y>=0||1===n.type))return[a(w,s,c,m)];return[]}function q(t,n,e){const u=[],c=o(x,t.end,t.start),i=o(U,t.start,n),f=r(c),p=2*s(c,i),h=p*p-4*f*(r(i)-e*e);if(0===h){const n=-p/(2*f);(1===t.type||n>=0)&&u.push(a(w,t.start,c,n))}else if(h>0){const n=Math.sqrt(h),s=(-p+n)/(2*f);(1===t.type||s>=0)&&u.push(a(w,t.start,c,s));const r=(-p-n)/(2*f);(1===t.type||r>=0)&&u.push(a(g,t.start,c,r))}return u}const v=1e-6,x=p(),U=p(),g=p(),w=p();export{h as cross,M as intersectCircleAndPoint,j as intersectLineAndPoint,k as intersectLineAndRay,q as intersectLineLikeAndCircle,m as pointToLineDistance,y as projectPoint,l as projectPointToCircle,d as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as i,isNone as e}from\"../../../../core/maybe.js\";import{a as s,f as n,h as r}from\"../../../../chunks/vec2.js\";import{a as h}from\"../../../../chunks/vec2f64.js\";import{r as a,d as o,o as c,c as _,n as l,b as p,a as d,z as g,g as f}from\"../../../../chunks/vec3.js\";import{c as u,f as m}from\"../../../../chunks/vec3f64.js\";import{create as D,fromPositionAndNormal as x,signedDistance as b,copy as V,intersectLine as y,normal as N}from\"../../../../geometry/support/plane.js\";import{angle as P,projectPointSignedLength as j}from\"../../../../geometry/support/vector.js\";import{intersectLineAndRay as v}from\"../../../support/geometry2dUtils.js\";class z{constructor(t,i,e,s=0,n=0){this.helper=t,this.planeType=i,this.edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,0===n&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var t,i,e,s;const n=this._toXYZ(this.edge.leftVertex.pos),r=this._toXYZ(null==(t=this.edge.leftVertex.leftEdge)||null==(i=t.leftVertex)?void 0:i.pos),h=this._toXYZ(this.edge.rightVertex.pos),o=this._toXYZ(null==(e=this.edge.rightVertex.rightEdge)||null==(s=e.rightVertex)?void 0:s.pos);this._edgeDirection=a(u(),n,h),this._left=this._computeNeighbor(n,r,this._edgeDirection),this._right=this._computeNeighbor(h,o,this._edgeDirection)}_toXYZ(t){return i(t)?this.helper.toXYZ(t):null}_computeNeighbor(t,i,s){if(e(i))return{start:t,end:i,direction:m(-s[1],s[0],0),isOriginalDirection:!0};const n=a(u(),t,i),r=!this._passesBisectingAngleThreshold(n,s);return{start:t,end:i,direction:r?this._bisectVectorsPerpendicular(s,n):n,isOriginalDirection:!r}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(P(i,t));return e>=E&&e<=Math.PI-E}_bisectVectorsPerpendicular(t,i){const e=o(t,i)<0?t:c(u(),t),s=Math.abs(o(e,i));if(!(s<.001||s>.999))return this._bisectDirection(e,i);const n=_(u(),e,[0,0,1]);return l(n,n)}_bisectDirection(t,i){const e=p(u(),t,i);return l(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);o(t,i)<0&&c(i,i),x(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=_(u(),t.direction,this._edgeDirection);l(i,i);const e=_(u(),this._edgeDirection,i);return 1===this.planeType&&(e[2]=0),l(e,e)}_initializeDistanceConstraints(){i(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(b(this._plane,this._left.end)),i(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(b(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=N(t),e=this._edgeDirection,a=p(u(),this._left.start,this._left.direction),o=p(u(),this._right.start,this._right.direction),c=this._pointInBasis2D(h(),i,e,this._left.start),_=this._pointInBasis2D(h(),i,e,a),l=this._pointInBasis2D(h(),i,e,this._right.start),g=this._pointInBasis2D(h(),i,e,o),[f]=v({start:_,end:c,type:1},{start:g,end:l,type:1});if(!f)return;const m=s(h(),c,_);n(m,m);const D=s(h(),f,_),x=r(m,D),V=p(u(),a,d(u(),this._left.direction,-x)),y=b(t,V);this._updateDistanceConstraint(y)}_pointInBasis2D(t,i,e,s){return t[0]=j(i,s),t[1]=j(e,s),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),V(this._plane,this._offsetPlane),this._offsetPlane[3]-=e;const s=(t,e,s)=>i(e)&&y(this._offsetPlane,t,p(u(),t,e),s),n=u();(t===this.edge.leftVertex?s(this._left.start,this._left.direction,n):s(this._right.start,this._right.direction,n))&&this.helper.copy(this.helper.fromXYZ(n,void 0,this.helper.getM(t.pos)),t.pos)}signedDistanceToPoint(t){return b(this.plane,this.helper.toXYZ(this.helper.pointToVector(t)))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof z&&this.edge.leftVertex.index===t.edge.leftVertex.index&&this.edge.rightVertex.index===t.edge.rightVertex.index&&this.edge.component===t.edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&g(N(this._plane),N(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new z(this.helper,this.planeType,this.edge,this.distance,1);return V(this._plane,t._plane),V(this._offsetPlane,t._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=f(u(),this._edgeDirection),t}_maybeEqualsVec3(t,s){return e(t)&&e(s)||i(t)&&i(s)&&g(t,s)}_cloneNeighbor({start:t,end:e,direction:s,isOriginalDirection:n}){return{start:f(u(),t),end:i(e)?f(u(),e):null,direction:f(u(),s),isOriginalDirection:n}}}const E=t(15);export{z as OffsetEdgeVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{r as a}from\"../../../../chunks/vec2.js\";class i{constructor(t,a,i=0){this.origin=t,this.angle=a,this.accumulationType=i}rotate(t,i){a(t.pos,t.pos,this.origin,i)}apply(t){this.rotate(t,this.angle)}undo(t){this.rotate(t,-this.angle)}canAccumulate(a){return a instanceof i&&t(this.origin,a.origin)}accumulate(t,a){const i=1===a.accumulationType;this.rotate(t,i?a.angle-this.angle:a.angle)}accumulateParams(t){const a=1===t.accumulationType;this.angle=a?t.angle:this.angle+t.angle}}export{i as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{f as s}from\"../../../../chunks/vec2f64.js\";import{p as a}from\"../../../../chunks/vec2.js\";class i{constructor(t,a,i,c,o=0){this.origin=t,this.axis1=a,this.factor1=i,this.factor2=c,this.accumulationType=o,this.axis2=s(a[1],-a[0])}scale(t,s,i){a(t.pos,t.pos,this.origin,this.axis1,s),a(t.pos,t.pos,this.origin,this.axis2,i)}apply(t){this.scale(t,this.factor1,this.factor2)}undo(t){this.scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof i&&t(this.origin,s.origin)&&t(this.axis1,s.axis1)}accumulate(t,s){1===s.accumulationType?this.scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this.scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=1===t.accumulationType;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}export{i as ScaleVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const t of this.operations)t.apply()}undo(){for(let t=this.operations.length-1;t>=0;t--)this.operations[t].undo()}accumulate(t){if(this.closed)return!1;const o=this.operations.length?this.operations[this.operations.length-1]:null;return o&&o.accumulate(t)||(this.operations.push(t),t.apply()),!0}}export{t as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{isNone as t}from\"../../../core/maybe.js\";import{EditGeometry as r}from\"./EditGeometry.js\";import{AppendVertex as o}from\"./operations/AppendVertex.js\";import{UpdateVertices as s}from\"./operations/UpdateVertices.js\";import{RemoveVertices as i}from\"./operations/RemoveVertices.js\";import{SplitEdge as n}from\"./operations/SplitEdge.js\";import{SetVertexPosition as a}from\"./operations/SetVertexPosition.js\";import{CloseComponent as p}from\"./operations/CloseComponent.js\";import{MoveVertex as d}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as c}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as h}from\"./operations/RotateVertex.js\";import{ScaleVertex as u}from\"./operations/ScaleVertex.js\";import{UndoGroup as m}from\"./operations/UndoGroup.js\";class l extends e{constructor(e){super(),this.data=e,this.undoStack=[],this.redoStack=[],this.listener=this.data.on(\"change\",(e=>{e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this.listener.remove()}splitEdge(e,t){return this.apply(new n(this.data,e,t))}updateVertices(e,t,r=1){return this.apply(new s(this.data,e,t),r)}moveVertices(e,t,r,o,s=1){return this.updateVertices(e,new d(this.data.coordinateHelper,t,r,o),s)}scaleVertices(e,t,r,o,s,i=1,n=0){return this.updateVertices(e,new u(t,r,o,s,n),i)}rotateVertices(e,t,r,o=1,s=0){return this.updateVertices(e,new h(t,r,s),o)}removeVertices(e){return this.apply(new i(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this.apply(new o(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this.apply(new a(this.data,e,t))}offsetEdge(e,t,r,o=1){return this.updateVertices([t.leftVertex,t.rightVertex],new c(this.data.coordinateHelper,e,t,r),o)}closeComponent(e){return this.data.components.includes(e)?this.apply(new p(this.data,e)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new m;return this.apply(e),{remove:()=>e.close()}}undo(){if(this.undoStack.length>0){const e=this.undoStack.pop();return e.undo(),this.redoStack.push(e),e}return null}redo(){if(this.redoStack.length>0){const e=this.redoStack.pop();return e.apply(),this.undoStack.push(e),e}return null}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}apply(e,r=1){return 0!==r&&!t(this.lastOperation)&&this.lastOperation.accumulate(e)||(e.apply(),this.undoStack.push(e),this.redoStack=[]),e}static fromGeometry(e,t){return new l(r.fromGeometry(e,t))}}export{l as EditGeometryOperations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{destroyMaybe as r,isSome as o,unwrap as s}from\"../../../../../core/maybe.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{empty as m,expandPointInPlace as l}from\"../../../../../geometry/support/aaBoundingRect.js\";import{createCoordinateHelper as c}from\"../../../../interactive/coordinateHelper.js\";import{EditGeometry as d,Component as p}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as y}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import u from\"../../../../../geometry/Point.js\";let g=class extends t.EventedAccessor{constructor(e={}){super(e),this._handles=new i,this._version=0,this._internalGeometryChange=!1,this._extent=m()}destroy(){this._handles=r(this._handles)}set areaMeasurement(e){this._set(\"areaMeasurement\",e),o(e)&&o(this.view)&&this._initialize(e,this.view)}set view(e){this._set(\"view\",e),o(e)&&o(this.areaMeasurement)&&this._initialize(this.areaMeasurement,e)}get initialized(){return o(this.areaMeasurement)&&o(this.view)}get version(){return this._version}get isValidPolygon(){return this.initialized&&this.editGeometry.components.length>0&&this.editGeometry.components[0].isClosed()}get extent(){if(this.initialized&&this.editGeometry.components.length>0&&this.editGeometry.components[0].vertices.length>0){const e=m(this._extent);return this.forEachVertex((t=>{l(e,t.pos)})),e}return null}get spatialReference(){return this.initialized?this.editGeometry.coordinateHelper.spatialReference:null}_initialize(e,t){this._handles.removeAll(),this._handles.add(n(e,\"geometry\",(()=>this._updateEditGeometryFromModelGeometry(e,t)),!0)),this._makeDirty(!0)}_makeDirty(e=!1){this.notifyChange(\"isValidPolygon\"),this.notifyChange(\"initialized\"),this.notifyChange(\"extent\"),e&&this.notifyChange(\"numVertices\")}_updateEditGeometryFromModelGeometry(e,t){this._version++,this._internalGeometryChange||(this._handles.remove(\"EditGeometry\"),o(e.geometry)?this._editGeometryOperations=y.fromGeometry(e.geometry,t.state.viewingMode):this._editGeometryOperations=new y(new d(\"polygon\",c(!0,!1,t.spatialReference),t.state.viewingMode)),this._makeDirty(!0),this.emit(\"change\",{type:\"change\"}),this._handles.add(this.editGeometry.on(\"change\",(t=>{this._makeDirty(null!=t.addedVertices||null!=t.removedVertices),this._internalGeometryChange=!0,e.geometry=this.numVertices>0?this.editGeometry.geometry:null,this._internalGeometryChange=!1})),\"EditGeometry\"))}get editGeometry(){return this._editGeometryOperations.data}get vertices(){const e=[];return this.forEachVertex((t=>{e.push(t)})),e}get numVertices(){return this.initialized&&this.editGeometry.components.length>0?this.editGeometry.components[0].vertices.length:0}get lastPoint(){if(this.initialized&&this.editGeometry.components.length>0){const e=this.editGeometry.components[0].getLastVertex();if(o(e))return this.editGeometry.coordinateHelper.vectorToPoint(e.pos)}return null}getVertex(e){if(!this.initialized||0===this.editGeometry.components.length||0===this.editGeometry.components[0].vertices.length)return null;const t=this.editGeometry.components[0].vertices[0];let i=t;do{if(i.index===e)return i;i=i.rightEdge.rightVertex}while(i!==t&&null!=i);return null}getVertexPositionAsPoint(e){return this.editGeometry.coordinateHelper.vectorToPoint(e.pos)}getVertexPositionAsPointFromIndex(e){return this.editGeometry.coordinateHelper.vectorToPoint(this.getVertex(e).pos)}forEachVertex(e){this.initialized&&this.editGeometry.components.length>0&&this.editGeometry.components[0].iterateVertices(e)}forEachVertexPosition(e){const t=this.editGeometry.coordinateHelper;this.forEachVertex(((i,r)=>{t.vectorToPoint(i.pos,G),e(G,r)}))}clear(){o(this.areaMeasurement)&&(this.areaMeasurement.geometry=null)}add(e){if(!this.initialized)return null;if(0===this.editGeometry.components.length){const e=s(this.view);this.editGeometry.components.push(new p(e.spatialReference,e.state.viewingMode))}const t=this._editGeometryOperations.appendVertex(this.editGeometry.coordinateHelper.pointToVector(e));return this.emit(\"change\",{type:\"change\"}),t}close(){if(!this.initialized||0===this.editGeometry.components.length)return null;const e=this._editGeometryOperations.closeComponent(this.editGeometry.components[0]);return this.emit(\"change\",{type:\"change\"}),e}ensureContains(e,t=\"\"){let i=!1;if(this.editGeometry.components.forEach((t=>{t.iterateVertices((t=>{t===e&&(i=!0)}))})),!i)throw new Error(`vertex doesnt exist ${t}`);return i}setVertexPosition(e,t){if(!this.initialized)return null;const i=this._editGeometryOperations.setVertexPosition(e,this.editGeometry.coordinateHelper.pointToVector(t));return this.emit(\"change\",{type:\"change\"}),i}equals(e){if(this.numVertices!==e.numVertices)return!1;let t=!0;return this.forEachVertexPosition(((i,r)=>{const o=e.getVertexPositionAsPointFromIndex(r);i.equals(o)||(t=!1)})),!!t}};e([a({value:null})],g.prototype,\"areaMeasurement\",null),e([a({value:null})],g.prototype,\"view\",null),e([a()],g.prototype,\"isValidPolygon\",null),e([a()],g.prototype,\"extent\",null),e([a()],g.prototype,\"spatialReference\",null),e([a()],g.prototype,\"numVertices\",null),g=e([h(\"esri.views.3d.interactive.graphics.AreaMeasurement3D.AreaMeasurement3DPathHelper\")],g);const G=new u;export{g as AreaMeasurement3DPathHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../../core/maybe.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{AreaMeasurement3DPathHelper as a}from\"./AreaMeasurementPathHelper.js\";import{UnitNormalizer as p}from\"../support/UnitNormalizer.js\";let i=class extends e{constructor(){super(...arguments),this.measurementData=null,this.unitNormalizer=new p,this.path=new a,this.lastDraggedVertex=null}destroy(){this.measurementData=null,this.path=t(this.path)}get validMeasurement(){return this.path.isValidPolygon}};r([o()],i.prototype,\"measurementData\",void 0),r([o()],i.prototype,\"validMeasurement\",null),r([o()],i.prototype,\"unitNormalizer\",void 0),r([o()],i.prototype,\"path\",void 0),r([o()],i.prototype,\"lastDraggedVertex\",void 0),r([o()],i.prototype,\"cursorPoint\",void 0),i=r([s(\"esri.views.3d.layers.analysis.AreaMeasurement3D.AreaMeasurementLayerViewData\")],i);export{i as AreaMeasurementLayerViewData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,b as e,a as n,h as r,d as o,i,c as s,n as a,g as u}from\"../../../../../chunks/vec3.js\";import{c as f}from\"../../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../../geometry/geometryEngine.js\";import l from\"../../../../../geometry/Polygon.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as h}from\"../../../../../geometry/projection.js\";import p from\"../../../../../geometry/SpatialReference.js\";import{inverseGeodeticSolver as d}from\"../../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as j}from\"../../../support/mathUtils.js\";var y;!function(f){function l(o,i){const s=i.center;t(s,0,0,0);for(let t=0;t<o.length;++t)e(s,s,o[t]);n(s,s,1/o.length);let a=0;for(let t=0;t<o.length;++t)a=Math.max(a,r(s,o[t]));i.radius=Math.sqrt(a)}function p(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");j(t[0],t[1],t[2],e)}function y(t,e){return o(t,e)+t[3]}function G(t,e,n){return m(t,b,n)&&m(e,P,n)?i(b,P):0}function S(t,e){if(!g(t,b)||!g(e,P))return 0;const n={distance:null};return d(n,[b[0],b[1]],[P[0],P[1]]),n.distance}function w(t,e,n){const r={distance:null};return d(r,[t[0],t[1]],[e[0],e[1]],n),r.distance}function z(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],i=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-o*i)}function A(t,e,n,r){const o=v;return h(t,r,b)&&h(e,r,P)&&h(n,r,M)?(o.setPoint(0,0,b),o.setPoint(0,1,P),o.setPoint(0,2,M),Math.abs(c(o,\"square-meters\"))):0}function L(e,n,r){Math.abs(e[0])>Math.abs(e[1])?t(n,0,1,0):t(n,1,0,0),s(r,e,n),a(n,n),s(n,r,e),a(r,r)}function k(n,r=null,i=!0){const f=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let n=0;n<t.length;++n)if(o(e,t[n])<-f)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&u(r,n[0]),!0;t(E,0,0,0);for(let t=0;t<n.length;++t)e(E,E,n[t]);if(a(E,E),c(n,E))return r&&u(r,E),!0;if(!i)return!1;for(let t=0;t<n.length;++t)for(let e=0;e<n.length;++e)if(t!==e&&(s(E,n[t],n[e]),a(E,E),c(n,E)))return r&&u(r,E),!0;return!1}function q(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let n=0;n<t.size;++n)if(!e.has(t[n]))return!1;return!0}function x(t){return\"mouse\"!==t.pointerType||0===t.button}f.boundingSphere=l,f.bestFitPlane=p,f.planePointDistance=y,f.segmentLengthEuclidean=G,f.segmentLengthGeodesic=S,f.segmentLengthGeodesicVector=w,f.triangleAreaEuclidean=z,f.triangleAreaGeodesic=A,f.tangentFrame=L,f.fitHemisphere=k,f.compareSets=q,f.isPrimaryPointerAction=x}(y||(y={}));const b=f(),P=f(),M=f(),v=new l({rings:[[b,P,M]],spatialReference:p.WGS84}),E=f();var G=y;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindMultipassTerrainTexture as e}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as t,bindView as o}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as a,ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as l,OITDepthTest as c,OITDepthWrite as m}from\"../lib/OrderIndependentTransparency.js\";import{Program as d}from\"../lib/Program.js\";import{C as h}from\"../../../../chunks/CheckerBoard.glsl.js\";import{separateBlendingParams as u,makePipelineState as f,defaultDepthWriteParams as g,defaultColorWriteParams as b}from\"../../../webgl/renderState.js\";class y extends s{initializeProgram(r){const e=y.shader.get(),t=this.configuration,o=e.build({OITEnabled:0===t.transparencyPassType,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new d(r.rctx,o,p)}bindPass(r,o){t(this.program,o.camera.projectionMatrix),this.program.setUniform2fv(\"size\",r.size),this.program.setUniform4fv(\"color1\",r.color1),this.program.setUniform4fv(\"color2\",r.color2),o.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",o.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",o.inverseViewport),e(this.program,o))}bindDraw(r){o(this.program,r)}setPipelineState(r){const e=this.configuration,t=3===r,o=2===r;return f({blending:e.transparent?t?v:l(r):null,depthTest:{func:c(r)},depthWrite:t?e.writeDepth&&g:m(r),colorWrite:b,polygonOffset:t||o?e.polygonOffset&&T:{factor:-1,units:-25}})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(h,(()=>import(\"./CheckerBoard.glsl.js\")));const T={factor:0,units:-25},v=u(770,1,771,771);class j extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}r([a()],j.prototype,\"transparent\",void 0),r([a()],j.prototype,\"writeDepth\",void 0),r([a()],j.prototype,\"polygonOffset\",void 0),r([a({count:4})],j.prototype,\"transparencyPassType\",void 0),r([a()],j.prototype,\"multipassTerrainEnabled\",void 0),r([a()],j.prototype,\"cullAboveGround\",void 0);export{y as CheckerBoardTechnique,j as CheckerBoardTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{Material as t,materialParametersDefaults as r}from\"../lib/Material.js\";import{DefaultBufferWriter as i,PositionUVLayout as s}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as n}from\"./internal/MaterialUtil.js\";import{CheckerBoardTechniqueConfiguration as a,CheckerBoardTechnique as o}from\"../shaders/CheckerBoardTechnique.js\";class u extends t{constructor(e){super(e,c),this.techniqueConfig=new a}dispose(){}getPassParameters(){return this.params}getTechniqueConfig(e){return this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.transparencyPassType=e?e.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!e&&e.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!e&&e.cullAboveGround,this.techniqueConfig}intersect(e,t,r,i,s,a,o){return n(e,t,i,s,a,void 0,o)}getGLMaterial(e){return 0===e.output||7===e.output?new h(e):void 0}createBufferWriter(){return new i(s)}}class h extends e{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(o,this._material.getTechniqueConfig(e),this._technique)}beginSlot(e){let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t||23===e}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const c={size:[1,1],color1:[.75,.75,.75,1],color2:[.5,.5,.5,1],transparent:!1,writeDepth:!0,polygonOffset:!1,...r};export{u as CheckerBoardMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{v as t}from\"../../../../chunks/mat4.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as i,c}from\"../../../../chunks/vec4.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{Geometry as h}from\"../../webgl-engine/lib/Geometry.js\";import{CheckerBoardMaterial as n}from\"../../webgl-engine/materials/CheckerBoardMaterial.js\";class d extends l{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=4,this._geometry=null,this._size=[1,1],this._color1=a(1,.5,0,.5),this._color2=a(1,1,1,.5),this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get size(){return this._size}set size(e){this._size=e,this.updateMaterial()}get color1(){return this._color1}set color1(e){i(e,this._color1)||(c(this._color1,e),this.updateMaterial())}get color2(){return this._color2}set color2(e){i(e,this._color2)||(c(this._color2,e),this.updateMaterial())}updateMaterial(){e(this._checkerBoardMaterial)&&this._checkerBoardMaterial.setParameterValues({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new n({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:4})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(r){e(this._checkerBoardMaterial)&&r(this._checkerBoardMaterial)}createGeometries(e){if(r(this._geometry)||r(this._checkerBoardMaterial))return;const i=u;t(i,this.transform);const c=this._geometry,a=[],l=o();c.position.forEach((e=>{s(l,e,i),a.push(l[0],l[1],l[2])}));const n=[];c.uv.forEach((e=>{n.push(e[0],e[1])}));const d=new h([[\"position\",{size:3,data:a,exclusive:!0}],[\"uv0\",{size:2,data:n,exclusive:!0}]],[[\"position\",c.triangleIndices],[\"uv0\",c.triangleIndices]]);e.addGeometry(d,this._checkerBoardMaterial)}geometryChanged(){this.recreateGeometry()}}const u=o();export{d as MeasurementAreaVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../intl.js\";import t from\"../../../../../core/Accessor.js\";import\"../../../../../core/has.js\";import i from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as s,applyOpacity as r}from\"../../../../../core/mathUtils.js\";import{destroyMaybe as n,isNone as a,isSome as o,unwrap as l}from\"../../../../../core/maybe.js\";import h from\"../../../../../core/Quantity.js\";import{formatDecimal as m}from\"../../../../../core/quantityFormatUtils.js\";import{convertUnit as c,preferredImperialAreaUnit as p,preferredMetricAreaUnit as d,preferredImperialLengthUnit as u,preferredMetricLengthUnit as g}from\"../../../../../core/unitUtils.js\";import{property as L}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as _}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reactionInit as b}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{i as v,t as f}from\"../../../../../chunks/mat4.js\";import{c as w}from\"../../../../../chunks/mat4f64.js\";import{f as S}from\"../../../../../chunks/vec3.js\";import{c as y}from\"../../../../../chunks/vec3f64.js\";import{c as j}from\"../../../../../chunks/vec4f64.js\";import C from\"../../../interactive/measurementTools/support/measurementUtils.js\";import{midpoint as P}from\"../../../interactive/measurementTools/support/viewUtils.js\";import{LabelVisualElement as V}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as A}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementAreaVisualElement as D}from\"../../../interactive/visualElements/MeasurementAreaVisualElement.js\";import{GeodesicSegment as M,EuclideanSegment as R}from\"../../../interactive/visualElements/support/Segment.js\";import{createStipplePatternSimple as I}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as z}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as O}from\"../../../../../intl/messages.js\";let U=class extends t{constructor(e){super(e),this._handles=new i,this._params={...k},this._path=null,this._intersectedPath=null,this._perimeter=null,this._intersectedPerimeter=null,this._projectionLines=null,this._measurementArea=null,this._areaLabel=null,this._pathLengthLabel=null,this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel=null,this._pathSegments=[],this._perimeterSegments=[],this._cursorSegment=null,this._origin=y(),this._originTransform=w(),this._cursorPositionRenderSpace=y(),this.messages=null,this.viewData=q,this.areaLabel=null,this.perimeterLengthLabel=null,this.mode=0,this.loadingMessages=!0,this.geodesicMeasurementDistanceThreshold=1e5}get visible(){return this.layerView.visible&&!this.layerView.suspended}get testData(){return{labels:{area:this._areaLabel,pathLength:this._pathLengthLabel,cursorSegmentLength:this._cursorSegmentLengthLabel,perimeterLength:this._perimeterLengthLabel}}}initialize(){const e=this.view,t=this._params;this._path=new A({view:e,attached:!0,width:t.pathLineWidth,color:t.pathLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPath=new A({view:e,attached:!0,width:t.pathLineWidth,color:t.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._perimeter=new A({view:e,attached:!0,width:t.perimeterLineWidth,color:t.perimeterLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPerimeter=new A({view:e,attached:!0,width:t.perimeterLineWidth,color:t.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._projectionLines=new A({view:e,attached:!0,width:t.projectionLineWidth,color:t.projectionLineColor,stipplePattern:I(t.projectionLineStippleSize),stippleIntegerRepeats:!1,polygonOffset:!0,renderOccluded:4}),this._measurementArea=new D({view:e,attached:!0,color1:t.areaColor1,color2:t.areaColor2}),this._areaLabel=new V({view:this.view,attached:!0,fontSize:16}),this._pathLengthLabel=new V({view:e,attached:!0,fontSize:12}),this._cursorSegmentLengthLabel=new V({view:e,attached:!0,fontSize:12}),this._perimeterLengthLabel=new V({view:e,attached:!0,fontSize:12});const i=this.layerView,s=i.layerViewData;this._handles.add([b((()=>[this.mode,this.visible,i.unit,s.measurementData,s.cursorPoint]),(()=>this._update())),b((()=>{var t;return null==(t=e.state)?void 0:t.camera}),(()=>this._updateLabels())),z((async()=>this._updateMessageBundle())),b((()=>this.layerView.fullOpacity),(()=>this._updateVisualElementsOpacity()))]),this._updateMessageBundle()}destroy(){this._measurementArea=n(this._measurementArea),this._path=n(this._path),this._intersectedPath=n(this._intersectedPath),this._perimeter=n(this._perimeter),this._intersectedPerimeter=n(this._intersectedPerimeter),this._areaLabel=n(this._areaLabel),this._pathLengthLabel=n(this._pathLengthLabel),this._cursorSegmentLengthLabel=n(this._cursorSegmentLengthLabel),this._perimeterLengthLabel=n(this._perimeterLengthLabel),this._handles=n(this._handles),this.set(\"view\",null)}_update(){if(this.destroyed)return;const e=this.layerView.layerViewData.measurementData;a(e)||(this._updateViewData(e,this.layerView.layerViewData.path,this.layerView.layerViewData.cursorPoint),this._updateOrigin(),this._updatePathSegments(),this._updatePerimeterSegments(),this._updateArea(),this._updateProjectionLines(),this._updateLabels())}_updateViewData(e,t,i){const r=t.isValidPolygon,n=t.lastPoint,a=o(n)&&o(i)?new h(C.segmentLengthGeodesic(n,i),\"meters\"):null,l=o(n)&&o(i)?new h(e.unitNormalizer.normalizeDistance(C.segmentLengthEuclidean(n,i,e.unitNormalizer.spatialReference)),\"meters\"):null;let m=this.mode;if(0===this.mode){m=1;(e.geodesicPathLength?e.geodesicPathLength.value:0)+(!r&&o(a)?a.value:0)>this.geodesicMeasurementDistanceThreshold&&(m=2)}null==e.geodesicPathLength&&(m=1);const p=2===m,d=p?e.geodesicArea:e.area;let u=1;if(d){const t=this._toPreferredAreaUnit(d,this.layerView.unit);u=s(Math.sqrt(t.value)/Math.sqrt(300)),u*=Math.sqrt(c(1,t.unit,\"square-meters\")),u/=e.unitNormalizer.normalizeDistance(1)}const g={validMeasurement:r,path:t,pathVersion:t.version,cursorPoint:i,measurementData:e,mode:m,positionsGeographic:e.positionsGeographic,positionsRenderCoords:e.positionsRenderCoords,positionsProjected:e.positionsProjectedWorldCoords,positionsFittedRenderCoords:e.positionsFittedRenderCoords,intersectingSegments:p?e.geodesicIntersectingSegments:e.intersectingSegments,triangleIndices:p?e.geodesicTriangleIndices:e.triangleIndices,fittingMode:e.fittingMode,areaCentroid:p?e.geodesicAreaCentroidRenderCoords:e.areaCentroidRenderCoords,pathLengthLabelSegmentIndex:r?0:t.numVertices-2,perimeterLengthLabelSegmentIndex:0,checkerSize:u,geodesicCursorSegmentLength:a,cursorSegmentLength:l};this._set(\"viewData\",g)}_updateOrigin(){const e=this.viewData;P(e.positionsRenderCoords,this._origin),v(this._originTransform),f(this._originTransform,this._originTransform,this._origin),this._measurementArea.transform=this._originTransform,this._projectionLines.transform=this._originTransform}_createSegments(e){const t=this.viewData,i=t.path,s=this.view.renderCoordsHelper.spatialReference,r=t.mode,n=[],a=[],o=[],l=t.validMeasurement?i.numVertices:i.numVertices-1;for(let h=0;h<l;++h){const l=t[e][h],m=t[e][(h+1)%i.numVertices];let c=null;switch(r){case 1:c=new R(l,m);break;case 2:c=new M(l,m,s)}t.intersectingSegments.has(h)?o.push(c):a.push(c),n.push(c)}return{all:n,nonIntersecting:a,intersecting:o}}_updatePathSegments(){const e=this.visible,t=this.viewData,i=this._createSegments(\"positionsRenderCoords\"),s=t.path,r=!s.isValidPolygon,n=t.cursorPoint,a=this.view.renderCoordsHelper,l=a.spatialReference,h=t.mode;if(this._cursorSegment=null,s.numVertices>0&&r&&o(n)){if(a.toRenderCoords(n,this._cursorPositionRenderSpace)){const e=t.positionsRenderCoords[s.numVertices-1],r=this._cursorPositionRenderSpace;let n=null;switch(h){case 1:n=new R(e,r);break;case 2:n=new M(e,r,l)}i.nonIntersecting.push(n),this._cursorSegment=n}}this._path.setGeometryFromSegments(i.nonIntersecting,this._origin),this._path.visible=e,this._intersectedPath.setGeometryFromSegments(i.intersecting,this._origin),this._intersectedPath.visible=e,this._pathSegments=i.all}_updatePerimeterSegments(){const e=this.visible&&1===this.viewData.mode,t=this._createSegments(\"positionsFittedRenderCoords\");this._perimeter.setGeometryFromSegments(t.nonIntersecting,this._origin),this._perimeter.visible=e,this._intersectedPerimeter.setGeometryFromSegments(t.intersecting,this._origin),this._intersectedPerimeter.visible=e,this._perimeterSegments=t.all}_updateArea(){const e=this.viewData;switch(e.mode){case 1:this._updateAreaEuclidean(e);break;case 2:this._updateAreaGeodesic()}}_updateAreaEuclidean(e){const t=this.visible;e.validMeasurement&&0===e.intersectingSegments.size&&e.triangleIndices?(this._measurementArea.geometry={uv:e.positionsProjected,position:e.positionsFittedRenderCoords,triangleIndices:e.triangleIndices},this._measurementArea.size=[e.checkerSize,e.checkerSize],this._measurementArea.visible=t):this._measurementArea.visible=!1}_updateAreaGeodesic(){this._measurementArea.visible=!1}_updateProjectionLines(){const e=this.viewData,t=this.visible,i=e.path,s=e.mode;if(i.numVertices>0&&e.validMeasurement&&1===s){const s=[];for(let t=0;t<i.numVertices;++t){const i=y();S(i,e.positionsRenderCoords[t],this._origin);const r=y();S(r,e.positionsFittedRenderCoords[t],this._origin),s.push([i,r])}this._projectionLines.geometry=s,this._projectionLines.visible=t}else this._projectionLines.geometry=null,this._projectionLines.visible=!1}_updateLabels(){if(this.destroyed)return;const e=this.viewData,t=e.path;if(!t)return;const i=e.measurementData,s=e.mode,r=!t.isValidPolygon,n=this.visible,a=this._formatAreaLabel(this.messages,2===s?i.geodesicArea:i.area,this.layerView.unit);o(a)?(this._areaLabel.geometry={type:\"point\",point:e.areaCentroid},this._areaLabel.text=a,this._areaLabel.visible=e.validMeasurement&&0===e.intersectingSegments.size&&n):this._areaLabel.visible=!1,this._set(\"areaLabel\",l(a));const h=this._formatLengthLabel(this.messages,2===s?i.geodesicPathLength:i.pathLength,this.layerView.unit);if(o(h)&&e.pathLengthLabelSegmentIndex>=0&&e.pathLengthLabelSegmentIndex<this._pathSegments.length){const i=this._pathSegments[e.pathLengthLabelSegmentIndex],s=o(this._cursorSegment)?this._cursorSegment:x;this._pathLengthLabel.distance=this._params.labelDistance,this._pathLengthLabel.geometry={type:\"corner\",left:i,right:s},this._pathLengthLabel.text=h,this._pathLengthLabel.visible=r&&t.numVertices>0&&n}else this._pathLengthLabel.visible=!1;const m=2===s?e.geodesicCursorSegmentLength:e.cursorSegmentLength;if(o(m)){const e=this._formatLengthLabel(this.messages,m,this.layerView.unit);this._cursorSegmentLengthLabel.distance=this._params.labelDistance,this._cursorSegmentLengthLabel.geometry=o(this._cursorSegment)?{type:\"segment\",segment:this._cursorSegment,sampleLocation:\"end\"}:null,this._cursorSegmentLengthLabel.anchor=\"bottom\",this._cursorSegmentLengthLabel.text=l(e),this._cursorSegmentLengthLabel.visible=r&&0!==m.value&&n}else this._cursorSegmentLengthLabel.visible=!1;this._cursorSegmentLengthLabel.overlaps(this._pathLengthLabel)&&(this._cursorSegmentLengthLabel.visible=!1),this._pathLengthLabel.overlaps(this._areaLabel)&&(this._pathLengthLabel.visible=!1);const c=2===e.mode,p=c?i.geodesicPathLength:i.perimeterLength,d=l(null!=p?this._formatLengthLabel(this.messages,p,this.layerView.unit):null);if(this._set(\"perimeterLengthLabel\",l(d)),e.validMeasurement&&0===e.intersectingSegments.size){this._perimeterLengthLabel.distance=this._params.labelDistance,this._perimeterLengthLabel.anchor=\"top\",this._perimeterLengthLabel.text=d,this._perimeterLengthLabel.visible=!0;let t=!0;for(let i=0;i<e.path.numVertices;++i){const s=(e.perimeterLengthLabelSegmentIndex+i)%e.path.numVertices,r=c?this._pathSegments[s]:this._perimeterSegments[s];if(t=!0,this._perimeterLengthLabel.geometry={type:\"segment\",segment:r,sampleLocation:\"center\"},!this._perimeterLengthLabel.overlaps(this._areaLabel))break;t=!1}this._perimeterLengthLabel.visible=t&&n}else this._perimeterLengthLabel.visible=!1}_toPreferredAreaUnit(e,t){return e.toUnit(this._preferredAreaUnit(e,t))}_preferredAreaUnit(e,t){switch(t){case\"metric\":return d(e.value,e.unit);case\"imperial\":return p(e.value,e.unit);default:return t}}_preferredLengthUnit(e,t){const i=this._deriveLengthUnitFromAreaUnit(t);switch(i){case\"metric\":return g(e.value,e.unit);case\"imperial\":return u(e.value,e.unit);default:return i}}_deriveLengthUnitFromAreaUnit(e){switch(e){case\"metric\":return\"metric\";case\"imperial\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\";case\"acres\":return\"imperial\";case\"ares\":case\"hectares\":return\"metric\"}throw new Error(\"unhandled area unit\")}_formatAreaLabel(e,t,i){return e&&t&&m(e,t,this._preferredAreaUnit(t,i))}_formatLengthLabel(e,t,i){return e&&t&&m(e,t,this._preferredLengthUnit(t,i))}_updateMessageBundle(){this.loadingMessages=!0,O(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._update()})).finally((()=>{this.loadingMessages=!1}))}_updateVisualElementsOpacity(){const e=this.layerView.fullOpacity,{pathLineColor:t,intersectingLineColor:i,perimeterLineColor:s,projectionLineColor:n,areaColor1:a,areaColor2:o}=this._params;this._path.color=r(E,t,e),r(E,i,e),this._intersectedPath.color=E,this._intersectedPerimeter.color=E,this._perimeter.color=r(E,s,e),this._projectionLines.color=r(E,n,e),this._measurementArea.color1=r(E,a,e),this._measurementArea.color2=r(E,o,e)}};e([L()],U.prototype,\"view\",void 0),e([L()],U.prototype,\"messages\",void 0),e([L()],U.prototype,\"analysis\",void 0),e([L()],U.prototype,\"viewData\",void 0),e([L()],U.prototype,\"layerView\",void 0),e([L({readOnly:!0})],U.prototype,\"areaLabel\",void 0),e([L({readOnly:!0})],U.prototype,\"perimeterLengthLabel\",void 0),e([L()],U.prototype,\"mode\",void 0),e([L()],U.prototype,\"loadingMessages\",void 0),e([L({readOnly:!0})],U.prototype,\"visible\",null),e([L()],U.prototype,\"geodesicMeasurementDistanceThreshold\",void 0),U=e([_(\"esri.views.3d.layers.analysis.AreaMeasurement.AreaMeasurementView\")],U);const k={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:1,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,handleRadiusHovered:10,handleRadiusMouse:10,handleRadiusTouch:25,pathLineColor:[1,.5,0,1],pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:[1,.5,0,1],perimeterLineWidth:2,projectionLineColor:[1,.5,0,1],projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:[1,.5,0,.5],areaColor2:[1,1,1,.5],fillColor:[1,.5,0,.5],lineSubdivisions:64,labelDistance:25},q={validMeasurement:!1,path:null,pathVersion:-1,cursorPoint:null,measurementData:null,mode:null,positionsGeographic:null,positionsRenderCoords:null,positionsProjected:null,positionsFittedRenderCoords:null,intersectingSegments:null,triangleIndices:null,fittingMode:null,areaCentroid:null,pathLengthLabelSegmentIndex:null,perimeterLengthLabelSegmentIndex:null,checkerSize:null,geodesicCursorSegmentLength:null,cursorSegmentLength:null},x=new R(y(),y()),E=j();export{U as AreaMeasurementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{unwrapOr as t,isSome as r,destroyMaybe as a}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as o}from\"../../../properties/defaultUnit.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{AreaMeasurementController as l}from\"./analysis/AreaMeasurement/AreaMeasurementController.js\";import{AreaMeasurementLayerViewData as p}from\"./analysis/AreaMeasurement/AreaMeasurementLayerViewData.js\";import{AreaMeasurementView as y}from\"./analysis/AreaMeasurement/AreaMeasurementView.js\";import h from\"../../layers/LayerView.js\";let u=class extends(n(h)){constructor(e){super(e),this.type=\"area-measurement-3d\",this.layerViewData=new p,this._userUnit=null}set unit(e){this._userUnit=e}get unit(){return t(this._userUnit,this._defaultUnit)}get result(){if(r(this.layerViewData.measurementData)){const e=this.layerViewData.measurementData;return{area:e.area,geodesicArea:e.geodesicArea,pathLength:e.pathLength,geodesicPathLength:e.geodesicPathLength,perimeterLength:e.perimeterLength}}return{area:null,geodesicArea:null,pathLength:null,geodesicPathLength:null,perimeterLength:null}}initialize(){this.layerViewData.path.view=this.view,this.layerViewData.path.areaMeasurement=this.layer,this.analysisView=new y({view:this.view,analysis:this.layer,layerView:this}),this.analysisController=new l({view:this.view,analysis:this.layer,layerViewData:this.layerViewData})}destroy(){this.analysisController=a(this.analysisController),this.analysisView=a(this.analysisView),this.layerViewData=a(this.layerViewData)}isUpdating(){var e;return!(null==(e=this.analysisView)||!e.loadingMessages)}get testData(){return{view:this.analysisView,controller:this.analysisController}}};e([s()],u.prototype,\"type\",void 0),e([s()],u.prototype,\"analysisView\",void 0),e([s()],u.prototype,\"analysisController\",void 0),e([s()],u.prototype,\"unit\",null),e([s()],u.prototype,\"layer\",void 0),e([s()],u.prototype,\"result\",null),e([s()],u.prototype,\"layerViewData\",void 0),e([s(o)],u.prototype,\"_defaultUnit\",void 0),e([s()],u.prototype,\"_userUnit\",void 0),u=e([i(\"esri.views.3d.layers.AreaMeasurementLayerView3D\")],u);var m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as d}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(o){const t=new d;return t.extensions.add(\"GL_OES_standard_derivatives\"),t.attributes.add(\"position\",\"vec3\"),t.attributes.add(\"uv0\",\"vec2\"),t.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),t.varyings.add(\"vUV\",\"vec2\"),o.multipassTerrainEnabled&&t.varyings.add(\"depth\",\"float\"),t.vertex.code.add(i`\n    void main(void) {\n      vUV = uv0;\n      ${o.multipassTerrainEnabled?\"depth = (view * vec4(position, 1.0)).z;\":\"\"}\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),o.multipassTerrainEnabled&&(t.fragment.include(e),t.include(a,o)),t.fragment.uniforms.add(\"size\",\"vec2\").add(\"color1\",\"vec4\").add(\"color2\",\"vec4\"),t.fragment.include(r),t.fragment.code.add(i`\n    void main() {\n      ${o.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      vec2 uvScaled = vUV / (2.0 * size);\n\n      vec2 uv = fract(uvScaled - 0.25);\n      vec2 ab = clamp((abs(uv - 0.5) - 0.25) / fwidth(uvScaled), -0.5, 0.5);\n      float fade = smoothstep(0.25, 0.5, max(fwidth(uvScaled.x), fwidth(uvScaled.y)));\n      float t = mix(abs(ab.x + ab.y), 0.5, fade);\n\n      gl_FragColor = mix(color2, color1, t);\n      ${o.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n  `),t}var t=Object.freeze({__proto__:null,build:o});export{t as C,o as b};\n"],"sourceRoot":""}