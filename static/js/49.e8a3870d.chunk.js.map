{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js"],"names":["e","r","hasInitialize","geometryBuffer","K","getLogger","Z","P","J","arguments","type","_nodesAddedToStage","Map","drapeSourceType","_queryEngine","_memCache","_interactiveEditingSessions","loadedGraphics","H","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","t","this","layer","addResolvingPromise","indexInfo","_attributeOverrides","j","view","resourceController","memoryController","T","spatialReference","viewingMode","fieldsHelper","U","layerView","updatingHandles","add","_rangeInfosChanged","_rendererChange","_filterChange","graphics3d","filterVisibility","filterChanged","handles","n","q","_treeDebugger","_controller","crsIndex","then","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","destroy","_set","F","owner","preferredUpdatePolicy","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","suspendResumeExtentMode","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_invalidateElevation","_verticalScale","w","setup","getMemCache","uid","E","G","geometryDefinitions","_worker","C","schedule","addPromise","result","_handleEdits","when","A","priority","W","FEATURE_QUERY_ENGINE","featureTarget","_removeAllNodeData","i","clear","requiredFields","graphicsCore","displayFeatureLimit","maximumNumberOfFeatures","_override","fixedFeatureTarget","_clearOverride","suspended","leavesReached","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","a","V","_getObjectIdField","values","v","find","attributes","sourceLayer","whenGraphicBounds","computeAttachmentOrigin","rootNodeVisible","updating","x","renderer","arcade","s","color","I","symbolUpdateType","highlight","objectIdField","effectiveUpdatePolicy","O","attributeEditingContext","o","invoke","positionData","positions","featureIds","Error","f","error","X","$","Promise","reject","has","index","id","te","clone","crsVertex","graphics","attributeInfo","attributeDataInfo","node","_addNodeBinaryPointData","_addNodeLegacyPointData","apply","numFeatures","length","_updateNodeMemory","ee","computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","resolve","d","geometry","set","addMany","_filterNode","update","isGeographic","renderSpatialReference","p","data","size","serviceObb","Q","g","center","extractBinaryPointData","h","c","m","y","b","Array","u","l","push","checkExtent","generateUID","ie","S","_","get","level","se","property","graphic","oldValue","newValue","graphicUpdateHandler","objectId","visible","pointData","featureDataPosition","geometries","re","params","vertexAttributes","position","memory","usedMemoryPerGraphic","reduce","put","_getMemCacheKey","forEach","_removeNodeStageData","removeMany","delete","pop","updateAttributes","sort","loadedAttributes","attributeData","_attributeValuesChanged","labelsEnabled","map","updateLabelingInfo","updateClippingArea","fieldsIndex","Set","collectRequiredFields","from","every","_reloadAllNodes","warn","restartNodeLoading","parsedDefinitionExpression","_evaluateClause","extent","oe","updateElevationChanged","outFields","returnGeometry","outSpatialReference","filter","createQuery","executeQuery","_ensureQuery","signal","executeQueryForIds","executeQueryForCount","executeQueryForExtent","_addDefinitionExpressionToQuery","usedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","N","sessions","forEachNode","attributeStorageInfo","i3slayer","attributeOverrides","getAttributeData","setAttributeData","recreateGraphics","clearMemCache","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","core","performanceInfo","updateStats","controller","numNodes","R","L","D","B","prototype","z","aliasOf","k","availableFields","Number","readOnly","Y","name","M","xmin","ymin","xmax","ymax","hasZ","zmin","zmax","hasM","mmin","mmax","parseInt","substring","lastIndexOf","geometryBuffers","compressedAttributes","encoding","traverse","mbs","ne","Math","max","ae","rotationScale","missingFields","originalFields","toLowerCase","ce","associatedLayer","ue","loaded","le","parsedUrl","path","all","pe","indices","indexOf","fields","fe","capabilities","query","maxRecordCount","objectIds","orderByFields","queryFeatures","features","resources","key","url","storageInfo","responseType","value","de","he","ye","store","indexCRS","geographicCRS","indexWKT","wkt","equals","ge","vertexCRS","projectedCRS","vertexWKT","be","wkid","we","isWGS84","isWebMercator","Se","ve","Me","defaultGeometrySchema","geometryType","topology","xe","je","Re","qe","ke","ze","Fe","Te","defaultSymbol","getSymbols","symbolLayers","items","material","colorMixMode","Ae","opacity","We","edgeMaterial","castShadows","Ie","enabled","edges","alpha","Ce","Ue","$e","Pe","Be","quaternion","halfSize","Oe","Ee","Ge","Ke","Le","Float64Array","He","Ze","sqrt","De","Xe","abs","radius","inverseFlattening","Qe","_e","Ne","Ve","Je","rings","min","Ye","popupTemplate","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","usage","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","encodings","textures","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","isArray","href","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","shaderTextureLOD","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","compressedTextureS3TC","compressedTextureETC","String","fromCharCode","byteOffset","byteCount","create","valueType","BYTES_PER_ELEMENT","count","valuesPerElement","header","entries","ordering","expectedSize","actualSize","isDraco","vertexCount","faceCount","faces","featureCount","featureAttributes","featureAttributeOrder","byteLength","isLegacy","normal","uv0","uvRegion","featureIndex","faceRange","featureId","region","attributeByteCounts","hasOwnProperty","attributeValues","Uint8Array","Float32","Float32Array","Float64","UInt8","Int8","Int8Array","UInt16","Uint16Array","Int16","Int16Array","UInt32","Uint32Array","Int32","Int32Array","DataView","getFloat32","getFloat64","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","_map","toArray","emit","added","removed","refCount","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","numIndexLoading","numNodesLoading","done","unshift","renderMbs","imModificationImpact","childCount","version","lodMetric","maxError","failed","hasModifications","cacheState","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","useAsHole","filterImpact","streamDataController","viewportQueries","logger","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","rootPage","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","catch","obb","mesh","attribute","hasSharedResource","hasFeatureData","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","isNodeVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","some","featureData","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","requiredAttributes","options","layerUrl","textureSetDefinitions","materialAndTextures","load","loadAttribute","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","loadFeatureData","loadTextures","geometryDescriptor","requiredTextures","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","textureEncodings","loadTexture","hrefConcat","vertexRegions","requester","apiKey","activeRequests","busy","abort","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","updatingProgress","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","_defaultGeometrySchema","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","hide","field","_getRequiredAttributes","setPointOfInterest","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","lodFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","target","disableUpdates","layerFilterChanged","constructOnly","dependsOn","factorIM","factor3dObject","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","where","cacheHint","ok","portalItem","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","identifier","checksum","sizeLo","sizeHi","minX","minY","minZ","maxX","maxY","maxZ","errorX","errorY","errorZ","reserved","colorMapCount","lookupMethod","compressionMethod","slice","scaleFactor","bitsPerPoint","log","LOG2E","round","cos","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","definitionExpression","isStandardized","join","testFeature","popupEnabled","_validateFetchPopupFeatures","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","setAttribute","createInteractiveEditSession","findIndex","updateFeatures","updatedFeatures","normalizeFieldName","asyncUpdateState","updateAsync","startAsyncUpdate","declaredClass","endAsyncUpdate","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","autoUpdateAsync","labelsVisible"],"mappings":"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","file":"static/js/49.e8a3870d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(r){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",r,{hasInitialize:!0})}getTransferList(r){return[r.geometryBuffer]}}export{e as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i,isSome as s,isNone as o,unwrap as a}from\"../../../core/maybe.js\";import{init as n}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as l}from\"../../../chunks/vec3.js\";import{f as u,c}from\"../../../chunks/vec3f64.js\";import{projectBuffer as p,projectVectorToVector as g,projectBoundingRect as m}from\"../../../geometry/projection.js\";import{create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{extentContainsCoords3D as f}from\"../../../geometry/support/contains.js\";import{makeDehydratedPoint as _,estimateSize as b}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as v}from\"../../../layers/graphics/hydratedFeatures.js\";import E from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{getRenderingInfo as x,getRenderingInfoAsync as I}from\"../../../renderers/support/renderingInfoUtils.js\";import{getGeometryZScaler as w}from\"../../../rest/query/operations/zscale.js\";import S from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import F from\"./graphics/Graphics3DFeatureLikeLayerView.js\";import A from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as O,processAttributeEdits as N}from\"./i3s/attributeEditing.js\";import{I3SAttributeOverrides as j}from\"./i3s/I3SAttributeOverrides.js\";import{checkSpatialReferences as T,containsDraco as G,whenGraphicAttributes as V,getCachedAttributeValue as M}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as R}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as P}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as L}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as U}from\"./support/SceneLayerViewRequiredFields.js\";import q from\"../support/debugFlags.js\";import{GraphicsMap as H}from\"../support/GraphicsMap.js\";import{compute as Q}from\"../support/orientedBoundingBox.js\";import{updatingProgress as k}from\"../support/updatingProperties.js\";import B from\"../../layers/SceneLayerView.js\";import z from\"../../layers/support/FeatureFilter.js\";import{TaskPriority as W}from\"../../support/Scheduler.js\";const K=r.getLogger(\"esri.views.3d.layers.SceneLayerGraphicsView3D\"),Z=P();let J=class extends(R(L(D(B)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._nodesAddedToStage=new Map,this.drapeSourceType=1,this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new H,this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}initialize(){var e;const t=this.layer;this.addResolvingPromise(t.indexInfo),this._attributeOverrides=new j(this.layer,null==(e=this.view.resourceController)?void 0:e.memoryController),T(t,this.view.spatialReference,this.view.viewingMode),this.fieldsHelper=new U({layerView:this}),this.updatingHandles.add(t,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(t,\"renderer\",((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add(this,\"parsedDefinitionExpression\",(()=>this._filterChange())),this.updatingHandles.add(this,\"view.floors\",(()=>this.graphics3d.filterVisibility.filterChanged())),this.handles.add(n(q,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&q.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||q.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}))),this._set(\"graphics3d\",new F({owner:this,layer:t,preferredUpdatePolicy:0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,suspendResumeExtentMode:\"data\",dataExtent:t.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.graphics3d.elevationAlignment&&this.graphics3d.elevationAlignment.events.on(\"invalidate-elevation\",(e=>this._invalidateElevation(e))),this.supportsHeightUnitConversion&&(this._verticalScale=w(\"point\",t.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.graphics3d.setup()),this._memCache=this.view.resourceController.memoryController.getMemCache(t.uid),this._controller=new E({layerView:this,scaleVisibilityEnabled:!1}),G(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{this._queryEngine=new A({layerView:this,priority:W.FEATURE_QUERY_ENGINE}),this.updatingHandles.add(this,\"maximumNumberOfFeatures\",(e=>this._controller.featureTarget=e),2),this.updatingHandles.add(this,\"suspended\",(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._attributeOverrides=i(this._attributeOverrides),this._set(\"graphics3d\",i(this.graphics3d)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this._nodesAddedToStage.clear(),this.fieldsHelper=i(this.fieldsHelper)}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get maximumNumberOfFeatures(){const e=this.graphics3d&&this.graphics3d.graphicsCore&&this.graphics3d.graphicsCore.displayFeatureLimit;return e?e.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller&&!this._controller.leavesReached)}get hasM(){return!1}get hasZ(){return!0}notifyGraphicGeometryChanged(e){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(e)}async whenGraphicAttributes(e,t){return V(this.layer,e,this._getObjectIdField(),t,(()=>[...this._nodesAddedToStage.values()]))}getGraphicFromGraphicUid(e){if(!this.loadedGraphics)return null;const t=v(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,t):null}whenGraphicBounds(e,t){return this.graphics3d.graphicsCore.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphics3d.graphicsCore.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){return!!(this._controller&&this._controller.updating||this.graphics3d&&this.graphics3d.updating)}getRenderingInfo(e,t,r){const i=x(e,{renderer:t,arcade:r});if(s(i)&&i.color){const e=i.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return i}async getRenderingInfoAsync(e,t,r,i){return I(e,{renderer:t,arcade:r,...i})}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}highlight(e){return this.graphics3d.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.graphics3d.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return O(this.attributeEditingContext,e)}async extractBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};return o(this._worker)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this._worker.invoke(r,t).then((e=>{if(s(e)){return{positionData:e.positions,featureIds:e.featureIds}}throw new Error(\"Failed to decompress Draco point data\")}))}checkExtent(e,t){e&&!f(e,t)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&K.error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&K.error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++)}async addNode(e,t,r){if(!X(t)&&!$(t))return Promise.reject();if(this._nodesAddedToStage.has(e.index))return void K.error(\"I3S node \"+e.id+\" already added\");const i=this.layer.fullExtent,s=i&&te(i.clone(),.5),o=this._controller.crsVertex,a=[],n={graphics:null,featureIds:null,attributeInfo:t.attributeDataInfo,node:e};if(X(t)?await this._addNodeBinaryPointData(e,n,t,s,a,r):$(t)&&this._addNodeLegacyPointData(e,n,t,s,a),await this._attributeOverrides.apply(n.featureIds,t.attributeDataInfo,r),e.numFeatures=n.graphics.length,this._updateNodeMemory(e),ee(n),a.length>0&&(this.computeObb(e,a,o),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return this._cacheNodeData(n),Promise.resolve();if(this._verticalScale)for(const d of n.graphics)this._verticalScale(d.geometry);return this._nodesAddedToStage.set(e.index,n),this.loadedGraphics.addMany(n.graphics),this._filterNode(n),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve()}computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;p(t,r,0,t,s,0,t.length/3);const o={data:t,size:3};e.serviceObb=Q(o),i.isGeographic&&g(e.serviceObb.center,s,e.serviceObb.center,i)}isNodeLoaded(e){return this._nodesAddedToStage.has(e)}isNodeReloading(){return!1}updateNodeState(){}async _addNodeBinaryPointData(e,r,i,o,n,d){const h=await this.extractBinaryPointData(i,d);if(null==h)return Promise.reject();const c=this._getObjectIdField(),g=this._controller.crsVertex,m=this.view.spatialReference,y=this.graphics3d.graphicsCore,{positionData:f,featureIds:b}=h,v=3,E=f.length/v,x=new Array;for(let I=0;I<E;I++){const r=s(e.serviceObb)?e.serviceObb.center:[0,0,0],i=I*v,d=u(f[i+0],f[i+1],f[i+2]);l(d,d,r),e.serviceObb||n.push(d[0],d[1],d[2]),o&&this.checkExtent(o,d);const h=b[I],E={};null!=h&&(E[c]=h);const w=null==h?t.generateUID():h;p(d,g,0,ie,m,0,1);const S=_(ie[0],ie[1],ie[2],m),C=this.loadedGraphics.get(w);if(s(C))C.level<e.level&&(se.property=\"geometry\",se.graphic=C,se.oldValue=a(C.geometry),se.newValue=S,C.geometry=S,y.graphicUpdateHandler(se)),x.push(C);else{const r=t.generateUID();x.push({objectId:w,uid:r,geometry:S,attributes:E,visible:!0,level:e.level})}}r.graphics=x,r.featureIds=b}_addNodeLegacyPointData(e,r,i,o,a){const n=this._getObjectIdField(),d=this._controller.crsVertex,h=this.view.spatialReference,l=[0,0,0],u=new Array,c=new Array;for(const g of i.pointData){const r=g.featureDataPosition,i=r.length,m=g.geometries&&g.geometries[0]||re[i],y=g.featureIds[0];if(\"points\"!==m.params.type)continue;o&&this.checkExtent(o,r);const f={};null!=y&&(f[n]=y);const b=null==y?t.generateUID():y;let v;\"Embedded\"===m.type&&(v=m.params.vertexAttributes.position);for(let o=0;o<v.length;o+=i){for(let e=0;e<i;e++)l[e]=r[e]+v[o+e];const n=3===i;e.serviceObb||a.push(l[0],l[1],n?l[2]:0),p(l,d,0,ie,h,0,1);const u=_(ie[0],ie[1],n?ie[2]:void 0,h),g=this.loadedGraphics.get(b);s(g)?c.push(g):c.push({objectId:b,uid:t.generateUID(),geometry:u,attributes:f,visible:!0})}u.push(y)}r.graphics=c,r.featureIds=u}_updateNodeMemory(e){e.memory=4096+(s(e.numFeatures)?e.numFeatures*this.graphics3d.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>b(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this._nodesAddedToStage.forEach((e=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}})),this._nodesAddedToStage.clear(),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this._nodesAddedToStage.get(e);return t?(this.loadedGraphics.removeMany(t.graphics),this._nodesAddedToStage.delete(e),this._treeDebugger&&this._treeDebugger.update(),t):null}async loadCachedNodeData(e){return this._memCache.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,i){if(!this._nodesAddedToStage.has(e.index))return this.loadedGraphics.addMany(t.graphics),this._nodesAddedToStage.set(e.index,t),this._updateNodeMemory(e),await this.updateAttributes(e.index,r,i),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve();K.error(\"I3S node \"+e.id+\" already added\")}getLoadedNodeIds(){const e=[];return this._nodesAddedToStage.forEach((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this._nodesAddedToStage.forEach((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this._nodesAddedToStage.forEach(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const r=this._nodesAddedToStage.get(e);r&&!o(r.attributeInfo)&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this._nodesAddedToStage.get(e);i&&(await this._attributeOverrides.apply(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(ee(e),this._filterNode(e),this.graphics3d.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.graphics3d.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||\"OBJECTID\"}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&K.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this._nodesAddedToStage.forEach((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression;for(const r of e.graphics){const e=r.visible;r.visible=!t||this._evaluateClause(t,r),e!==r.visible&&(se.graphic=r,se.property=\"visible\",se.oldValue=e,se.newValue=r.visible,this.graphics3d.graphicsCore.graphicUpdateHandler(se))}}_invalidateElevation(e){const t=this._controller.crsIndex;m(e.extent,e.spatialReference,oe,t),this._controller.updateElevationChanged(oe,t)}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new S(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),null==t?void 0:t.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():S.from(e))}getUsedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return e?e.usedMemory:0}getUnloadedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return.8*((this._controller?this._controller.unloadedMemoryEstimate:0)+(e?e.unprocessedMemoryEstimate:0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){N(this.attributeEditingContext,e)}get attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this._nodesAddedToStage.forEach((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this._attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this.setAttributeData(t,r);const o=this._nodesAddedToStage.get(t);if(s(i)){const t=this.loadedGraphics.get(i.attributes[e]);s(t)&&this.graphics3d.graphicsCore.recreateGraphics([t])}else s(o)&&this.graphics3d.graphicsCore.recreateGraphics(o.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this._nodesAddedToStage.size,core:this.graphics3d.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this._nodesAddedToStage.size,numFeatures:this.loadedGraphics.length}}};e([d()],J.prototype,\"graphics3d\",void 0),e([d({type:z})],J.prototype,\"filter\",void 0),e([d()],J.prototype,\"loadedGraphics\",void 0),e([d({aliasOf:\"layer\"})],J.prototype,\"i3slayer\",void 0),e([d()],J.prototype,\"_controller\",void 0),e([d()],J.prototype,\"updating\",void 0),e([d()],J.prototype,\"suspended\",void 0),e([d()],J.prototype,\"holeFilling\",void 0),e([d(k)],J.prototype,\"updatingProgress\",void 0),e([d({aliasOf:\"_controller.updatingProgress\"})],J.prototype,\"updatingProgressValue\",void 0),e([d(Z.requiredFields)],J.prototype,\"requiredFields\",null),e([d(Z.availableFields)],J.prototype,\"availableFields\",void 0),e([d()],J.prototype,\"fieldsHelper\",void 0),e([d({type:Number})],J.prototype,\"maximumNumberOfFeatures\",null),e([d({readOnly:!0})],J.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([d({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.point.lodFactor\"})],J.prototype,\"lodFactor\",void 0),e([d({readOnly:!0})],J.prototype,\"hasM\",null),e([d({readOnly:!0})],J.prototype,\"hasZ\",null),J=e([h(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],J);var Y=J;function $(e){return\"pointData\"in e}function X(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ee(e){const t=e.attributeInfo;for(let r=0;r<e.graphics.length;r++){const i=e.graphics[r];if(i.attributes||(i.attributes={}),s(t)&&s(t.loadedAttributes))for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(i.attributes[e]=M(t.attributeData[e],r))}}function te(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,e.hasZ&&(e.zmin-=t,e.zmax+=t),e.hasM&&(e.mmin-=t,e.mmax+=t),e}const re={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},ie=c(),se={graphic:null,property:null,oldValue:null,newValue:null},oe=y();export{Y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{binaryIndexOf as t,flatten as r,splitIntoChunks as o}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Error.js\";import a from\"../../../../core/has.js\";import{isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{eachAlways as c}from\"../../../../core/promiseUtils.js\";import{isInt16Array as l,isInt32Array as u}from\"../../../../core/typedArrayUtil.js\";import{h as f}from\"../../../../chunks/mat3.js\";import{c as p}from\"../../../../chunks/mat3f64.js\";import{b as m}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{a as d,m as y,c as g}from\"../../../../chunks/quat.js\";import{b}from\"../../../../chunks/quatf32.js\";import{s as w,g as S,w as v,q as x,a as M,b as j,m as q}from\"../../../../chunks/vec3.js\";import{c as R}from\"../../../../chunks/vec3f64.js\";import{c as k}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as T,canProjectWithoutEngine as z,projectBuffer as F,computeTranslationToOriginAndRotation as A,projectVectorToVector as W}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as I,getReferenceEllipsoid as C}from\"../../../../geometry/projectionEllipsoid.js\";import U from\"../../../../geometry/SpatialReference.js\";import{create as B}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as K,empty as L,expandPointInPlace as G,intersects as E}from\"../../../../geometry/support/aaBoundingRect.js\";import{isPlateCarree as O}from\"../../../../geometry/support/spatialReferenceUtils.js\";import P from\"../../../../rest/support/Query.js\";import{readBinaryAttribute as $}from\"./I3SBinaryReader.js\";import{computeGlobalTransformation as Q}from\"./I3SProjectionUtil.js\";import{createSolidEdgeMaterial as Z,createMaterialFromEdges as D}from\"../support/edgeUtils.js\";import{parseColorMixMode as H}from\"../support/symbolColorUtils.js\";import{create as J,compute as N,corners as V}from\"../../support/orientedBoundingBox.js\";function X(e){return e&&parseInt(e.substring(e.lastIndexOf(\"/\")+1,e.length),10)}function Y(e){if(a(\"disable-feature:i3s-draco\")||!e)return!1;for(const r of e)for(const e of r.geometryBuffers){var t;if(\"draco\"===(null==(t=e.compressedAttributes)?void 0:t.encoding))return!0}return!1}function _(e,t,r,o,n,a){n.traverse(r,(r=>{let n=r.mbs;t!==o&&(n=ne,T(r.mbs,o,n,t));const s=ae(e,n);return 0!==s&&(a(r,s),!0)}))}function ee(e,t,r){let o=0,n=0;for(let a=0;a<t.length&&o<e.length;a++)e[o]===t[a]&&(r(a)&&(e[n]=e[o],n++),o++);e.length=n}function te(e,r,o){let n=0,a=0;for(;n<o.length;){t(e,o[n])>=0===r&&(o[a]=o[n],a++),n++}o.length=a}const re=B();function oe(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return re[0]=(e[0]-t.position[0])/t.rotationScale[0],re[1]=(e[1]-t.position[1])/t.rotationScale[4],re[2]=(e[2]-t.position[2])/t.rotationScale[8],re[3]=(e[3]-t.position[0])/t.rotationScale[0],re[4]=(e[4]-t.position[1])/t.rotationScale[4],re[5]=(e[5]-t.position[2])/t.rotationScale[8],re}const ne=k();function ae(e,t){const r=t[0],o=t[1],n=t[3],a=e[0]-r,s=r-e[2],i=e[1]-o,c=o-e[3],l=Math.max(a,s,0),u=Math.max(i,c,0),f=l*l+u*u;if(f>n*n)return 0;if(f>0)return 1;return-Math.max(a,s,i,c)>n?3:2}function se(e,t){const r=t[0],o=t[1],n=t[2],a=t[3],s=e[0]-r,i=r-e[3],c=e[1]-o,l=o-e[4],u=e[2]-n,f=n-e[5],p=Math.max(s,i,0),m=Math.max(c,l,0),h=Math.max(u,f,0),d=p*p+m*m+h*h;if(d>a*a)return 0;if(d>0)return 1;return-Math.max(s,i,c,l,u,f)>a?3:2}function ie(e,t,r){const o=[],n=r&&r.missingFields,a=r&&r.originalFields;for(const s of e){const e=s.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,a&&a.push(s);break}!r&&n&&n.push(s)}return o}async function ce(e,t,o,a,c){if(0===t.length)return[];const l=e.attributeStorageInfo;if(s(e.associatedLayer))try{return await ue(e.associatedLayer,t,o,a)}catch(u){if(e.associatedLayer.loaded)throw u}if(l){const s=le(t,o,c);if(i(s))throw new n(\"scenelayer:features-not-loaded\",\"Tried to query attributes for unloaded features\");const u=e.parsedUrl.path,f=await Promise.all(s.map((e=>pe(u,l,e.node,e.indices,a).then((t=>{for(let r=0;r<e.graphics.length;r++){const o=e.graphics[r],n=t[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return e.graphics})))));return r(f)}throw new n(\"scenelayer:no-attribute-source\",\"This scene layer does not have a source for attributes available\")}function le(e,t,r){const o=new Map,n=[],a=r();for(const s of e){const e=s.attributes[t];for(let t=0;t<a.length;t++){const r=a[t],i=r.featureIds.indexOf(e);if(i>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(i),e.graphics.push(s);for(let r=t;r>0;r--)a[r]=a[r-1];a[0]=r;break}}}return n}async function ue(e,t,r,o){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const n=t.map((e=>e.attributes[r])),a=[],s=ie(o,e.fields,{originalFields:a}),i=await fe(e,n,s);for(let c=0;c<t.length;c++){const e=t[c],r=i[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<a.length;t++)o[a[t]]=r[s[t]];e.attributes=o}return t}function fe(e,t,a){const s=e.capabilities.query.maxRecordCount;if(null!=s&&t.length>s){const n=o(t,s);return Promise.all(n.map((t=>fe(e,t,a)))).then(r)}const i=new P({objectIds:t,outFields:a,orderByFields:[e.objectIdField]});return e.queryFeatures(i).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new n(\"scenelayer:feature-not-in-associated-layer\",\"Feature not found in associated feature layer\")}))}function pe(t,r,o,n,a){const s=[];for(const e of r)if(e&&-1!==a.indexOf(e.name)){const r=`${t}/nodes/${o.resources.attributes}/attributes/${e.key}/0`;s.push({url:r,storageInfo:e})}return c(s.map((t=>e(t.url,{responseType:\"array-buffer\"}).then((e=>$(t.storageInfo,e.data)))))).then((e=>{const t=[];for(const r of n){const o={};for(let t=0;t<e.length;t++)null!=e[t].value&&(o[s[t].storageInfo.name]=de(e[t].value,r));t.push(o)}return t}))}const me=-32768,he=-(2**31);function de(e,t){if(!e)return null;const r=e[t];if(l(e))return r===me?null:r;if(u(e))return r===he?null:r;return r!=r?null:r}function ye(e){const t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\",\"Found indeWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-index-incompatible\",\"The indeWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new U(X(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function ge(e){const t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\",\"Found vertexWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-vertex-incompatible\",\"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new U(X(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function be(e,t){return i(t)?\"@null\":t===I(t)?\"@ECEF\":e.equals(t)?\"\":null!=t.wkid?\"@\"+t.wkid:null}function we(e,t,r){if(!z(e,t))throw new n(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});if(\"local\"===r&&!Se(e,t))throw new n(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{})}function Se(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator}function ve(e,t,r){const o=ye(e),n=ge(e);we(o,t,r),we(n,t,r)}function xe(e){return(null==e.geometryType||\"triangles\"===e.geometryType)&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position))}function Me(e){if(null==e.store||null==e.store.defaultGeometrySchema||!xe(e.store.defaultGeometrySchema))throw new n(\"scenelayer:unsupported-geometry-schema\",\"The geometry schema of this scene layer is not supported.\",{url:e.parsedUrl.path})}function je(e,t){ve(e,t.spatialReference,t.viewingMode)}function qe(e){return null!=e.geometryType&&\"points\"===e.geometryType&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&((null==e.encoding||\"\"===e.encoding||\"lepcc-xyz\"===e.encoding)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position)))}function Re(e){if(null==e.store||null==e.store.defaultGeometrySchema||!qe(e.store.defaultGeometrySchema))throw new n(\"pointcloud:unsupported-geometry-schema\",\"The geometry schema of this point cloud scene layer is not supported.\",{})}function ke(e,t){we(e.spatialReference,t.spatialReference,t.viewingMode)}function Te(e){return\"simple\"===e.type||\"class-breaks\"===e.type||\"unique-value\"===e.type}function ze(e){return\"mesh-3d\"===e.type}function Fe(e){if(null==e||!Te(e))return!0;if((\"unique-value\"===e.type||\"class-breaks\"===e.type)&&null==e.defaultSymbol)return!0;const t=e.getSymbols();if(0===t.length)return!0;for(const r of t){if(!ze(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if(\"fill\"!==e.type||i(e.material)||i(e.material.color)||\"replace\"!==e.material.colorMixMode)return!0}return!1}const Ae=Z({color:[0,0,0,0],opacity:0});class We{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function Ie(e){const t=new We;let r=!1,o=!1;for(const n of e.symbolLayers.items)if(\"fill\"===n.type&&n.enabled){const e=n.material,a=n.edges;if(s(e)&&!r){const o=e.color,a=H(e.colorMixMode);s(o)?t.material={color:[o.r/255,o.g/255,o.b/255],alpha:o.a,colorMixMode:a}:t.material={color:[1,1,1],alpha:1,colorMixMode:1},t.castShadows=n.castShadows,r=!0}s(a)&&!o&&(t.edgeMaterial=D(a,{}),o=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:1}),t}function Ce(e,t){return(0|e)+(0|t)|0}function Ue(e,t,r,o,n=0){o===I(o)?t.isGeographic?$e(e,r,t,n):Pe(e,r,t,n):t.isWGS84&&(o.isWebMercator||O(o))?Be(t,e,o,r,n):e===r?(r.center[2]+=n,F(r.center,t,0,r.center,o,0,1)):(w(r.center,e.center[0],e.center[1],e.center[2]+n),F(r.center,t,0,r.center,o,0,1),d(r.quaternion,e.quaternion),S(r.halfSize,e.halfSize))}function Be(e,t,r,o,n){const a=f(Oe,t.quaternion);S(Ee,t.center),Ee[2]+=n;const s=I(r);F(Ee,e,0,Ee,s,0,1);for(let i=0;i<8;++i){for(let e=0;e<3;++e)Ge[e]=t.halfSize[e]*(0!=(i&1<<e)?-1:1);for(let e=0;e<3;++e){let t=Ee[e];for(let r=0;r<3;++r)t+=Ge[r]*a[3*r+e];Ke[3*i+e]=t}}F(Ke,s,0,Ke,r,0,8),N(Le,o)}const Ke=new Float64Array(24),Le={data:Ke,size:3},Ge=R(),Ee=R(),Oe=p();function Pe(e,t,r,o){V(e,He),w(t.center,e.center[0],e.center[1],e.center[2]+o),A(r,t.center,Ze,I(r)),w(t.center,Ze[12],Ze[13],Ze[14]);const n=2*Math.sqrt(1+Ze[0]+Ze[5]+Ze[10]);De[0]=(Ze[6]-Ze[9])/n,De[1]=(Ze[8]-Ze[2])/n,De[2]=(Ze[1]-Ze[4])/n,De[3]=.25*n,y(t.quaternion,De,e.quaternion),g(De,t.quaternion);let a=0,s=0,i=0;for(const c of He)c[2]+=o,F(c,r,0,c,I(r),0,1),v(Xe,c,t.center),x(Xe,Xe,De),a=Math.max(a,Math.abs(Xe[0])),s=Math.max(s,Math.abs(Xe[1])),i=Math.max(i,Math.abs(Xe[2]));w(t.halfSize,a,s,i)}function $e(e,t,r,o){const n=C(r),a=1+Math.max(0,o)/(n.radius+e.center[2]);w(t.center,e.center[0],e.center[1],e.center[2]+o),F(t.center,r,0,t.center,I(r),0,1),d(t.quaternion,e.quaternion),g(De,e.quaternion),w(Xe,0,0,1),x(Xe,Xe,De),w(Xe,e.halfSize[0]*Math.abs(Xe[0]),e.halfSize[1]*Math.abs(Xe[1]),e.halfSize[2]*Math.abs(Xe[2])),M(Xe,Xe,n.inverseFlattening),j(t.halfSize,e.halfSize,Xe),M(t.halfSize,t.halfSize,a)}function Qe(e,t,r,o,n,a){if(!a||0===a.length||i(t))return null;const c=Q(e.mbs,n,r,t);let l;m(_e,c);const u=()=>{if(!l)if(l=He,L(Ne),s(e.serviceObb)){Ue(e.serviceObb,r,Ve,t,n),V(Ve,l);for(const e of l)q(e,e,_e),G(Ne,e)}else{const o=e.mbs,a=o[3];W(o,r,Xe,t),q(Xe,Xe,_e),Xe[2]+=n;for(let e=0;e<8;++e){const t=1&e?a:-a,r=2&e?a:-a,o=4&e?a:-a,n=l[e];S(n,[Xe[0]+t,Xe[1]+r,Xe[2]+o]),G(Ne,n)}}};let f=1/0,p=-1/0;const h=e=>{if(\"replace\"!==e.type)return;const r=e.geometry;if(!r.hasZ)return;L(Je);const n=r.spatialReference||o,a=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>(W(r,n,Xe,t),q(Xe,Xe,_e),G(Je,Xe),Math.min(Xe[2],e))),e)),1/0);u(),E(Ne,Je)&&(f=Math.min(f,a),p=Math.max(p,a))};if(a.forEach((e=>h(e))),f===1/0)return null;const d=(e,t,r)=>{q(Xe,r,c),e[t+0]=Xe[0],e[t+1]=Xe[1],e[t+2]=Xe[2],t+=24,r[2]=f,q(Xe,r,c),e[t+0]=Xe[0],e[t+1]=Xe[1],e[t+2]=Xe[2],t+=24,r[2]=p,q(Xe,r,c),e[t+0]=Xe[0],e[t+1]=Xe[1],e[t+2]=Xe[2]};for(let s=0;s<8;++s)d(Ye.data,3*s,l[s]);return N(Ye)}const Ze=h(),De=b(),He=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Je=K(),Ne=K(),Ve=J(),Xe=[0,0,0],Ye={data:new Array(72),size:3},_e=h();export{We as SymbolInfo,Ce as addWraparound,ke as checkPointCloudLayerCompatibleWithView,Re as checkPointCloudLayerValid,je as checkSceneLayerCompatibleWithView,Me as checkSceneLayerValid,we as checkSpatialReference,ve as checkSpatialReferences,Qe as computeVisibilityObb,Y as containsDraco,X as extractWkid,ee as filterInPlace,ie as findFieldsCaseInsensitive,_ as findIntersectingNodes,be as getCacheKeySuffix,de as getCachedAttributeValue,oe as getClipAABB,ye as getIndexCrs,Ie as getSymbolInfo,ge as getVertexCrs,se as intersectBoundingBoxWithMbs,ae as intersectBoundingRectWithMbs,Se as isSupportedLocalModeProjection,te as objectIdFilter,Fe as rendererNeedsTextures,Ue as transformObb,Ae as transparentEdgeMaterial,ce as whenGraphicAttributes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{clone as t}from\"../../../../core/lang.js\";import n from\"../../../../core/Logger.js\";import{decodeRGB as r,decodeIntensity as o}from\"./LEPCC.js\";const i=n.getLogger(\"esri.views.3d.layers.i3s.I3SBinaryReader\");function u(t,n,r){let o=\"\",i=0;for(;i<r;){const u=t[n+i];if(u<128)o+=String.fromCharCode(u),i++;else if(u>=192&&u<224){if(i+1>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Two byte character was truncated.\");const a=(31&u)<<6|63&t[n+i+1];o+=String.fromCharCode(a),i+=2}else if(u>=224&&u<240){if(i+2>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(15&u)<<12|(63&t[n+i+1])<<6|63&t[n+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(u>=240&&u<248))throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Invalid multi byte sequence.\");{if(i+3>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(7&u)<<18|(63&t[n+i+1])<<12|(63&t[n+i+2])<<6|63&t[n+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function a(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],u=i.valueType||i.type,a=I[u];n.fields[i.property]=a(e,r),r+=m[u].BYTES_PER_ELEMENT}return n.byteCount=r,n}function s(t,n,r){const o=[];let i,a,s=0;for(a=0;a<t;a+=1){if(i=n[a],i>0){if(o.push(u(r,s,i-1)),0!==r[s+i-1])throw new e(\"string-array-error\",\"Invalid string array: missing null termination.\")}else o.push(null);s+=i}return o}function c(e,t){return new(0,m[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function l(n,r,o){const i=null!=r.header?a(n,r.header):{byteOffset:0,byteCount:0,fields:{count:o}},u={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let s=i.byteCount;for(let a=0;a<r.ordering.length;a++){const n=r.ordering[a],o=t(r[n]);if(o.count=i.fields.count,\"String\"===o.valueType){if(o.byteOffset=s,o.byteCount=i.fields[n+\"ByteCount\"],\"UTF-8\"!==o.encoding)throw new e(\"unsupported-encoding\",\"Unsupported String encoding.\",{encoding:o.encoding})}else{if(!h(o.valueType))throw new e(\"unsupported-value-type\",\"Unsupported binary valueType\",{valueType:o.valueType});{const e=A(o.valueType);s+=s%e!=0?e-s%e:0,o.byteOffset=s,o.byteCount=e*o.valuesPerElement*o.count}}s+=o.byteCount,u.entries[n]=o}return u.byteCount=s-u.byteOffset,u}function b(t,n,r){if(n!==t&&i.error(`Invalid ${r} buffer size\\n expected: ${t}, actual: ${n})`),n<t)throw new e(\"buffer-too-small\",\"Binary buffer is too small\",{expectedSize:t,actualSize:n})}function d(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function y(e,t){const n=a(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const a of t.ordering){if(!t.vertexAttributes[a])continue;const e={...t.vertexAttributes[a],byteOffset:r,count:u},n=p[a]?p[a]:\"_\"+a;o.vertexAttributes[n]=e,r+=A(e.valueType)*e.valuesPerElement*u}const s=i.faceCount;if(t.faces&&s){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:s};o.faces[e]=n,r+=A(n.valueType)*n.valuesPerElement*s}}const c=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&c){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:c};o.featureAttributes[e]=n;r+=(\"UInt64\"===n.valueType?8:A(n.valueType))*n.valuesPerElement*c}}return b(r,e.byteLength,\"geometry\"),o.byteCount=r-o.byteOffset,o}function g(e,t){return!(!e||!e.compressedAttributes||\"draco\"!==e.compressedAttributes.encoding)?v(e.compressedAttributes.attributes):e?d(e):w(t)}function w(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e.ordering)if(e.vertexAttributes[n])switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"color\":t.color=!0;break;case\"uv0\":t.uv0=!0;break;case\"region\":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function v(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e)switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"uv0\":t.uv0=!0;break;case\"color\":t.color=!0;break;case\"uv-region\":t.uvRegion=!0;break;case\"feature-index\":t.featureIndex=!0}return t}const p={position:\"position\",normal:\"normal\",color:\"color\",uv0:\"uv0\",region:\"uvRegion\"};function C(t,n,u){if(\"lepcc-rgb\"===t.encoding)return r(n);if(\"lepcc-intensity\"===t.encoding)return o(n);if(null!=t.encoding&&\"\"!==t.encoding)throw new e(\"unknown-attribute-storage-info-encoding\",\"Unknown Attribute Storage Info Encoding\");t[\"attributeByteCounts \"]&&!t.attributeByteCounts&&(i.warn(\"Warning: Trailing space in 'attributeByteCounts '.\"),t.attributeByteCounts=t[\"attributeByteCounts \"]),\"ObjectIds\"===t.ordering[0]&&t.hasOwnProperty(\"objectIds\")&&(i.warn(\"Warning: Case error in objectIds\"),t.ordering[0]=\"objectIds\");const a=l(n,t,u);b(a.byteOffset+a.byteCount,n.byteLength,\"attribute\");const d=a.entries.attributeValues||a.entries.objectIds;if(d){if(\"String\"===d.valueType){const e=a.entries.attributeByteCounts,t=c(n,e),r=f(n,d);return s(e.count,t,r)}return c(n,d)}throw new e(\"bad-attribute-storage-info\",\"Bad attributeStorageInfo specification.\")}const m={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function h(e){return m.hasOwnProperty(e)}function A(e){return h(e)?m[e].BYTES_PER_ELEMENT:0}export{l as createAttributeDataIndex,g as createGeometryDescriptor,v as createGeometryDescriptorForDraco,d as createGeometryDescriptorFromDefinition,w as createGeometryDescriptorFromSchema,y as createGeometryIndexFromSchema,f as createRawView,c as createTypedView,A as getBytesPerValue,h as isValueType,C as readBinaryAttribute,a as readHeader,s as readStringArray,I as valueType2ArrayBufferReader,m as valueType2TypedArrayClassMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";const t=!0,o={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function r(e,r,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,n+o.identifierOffset,o.identifierLength)),version:r.getUint16(n+o.versionOffset,t),checksum:r.getUint32(n+o.checksumOffset,t)}}const n={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function i(e,o){return{sizeLo:e.getUint32(o+n.sizeLo,t),sizeHi:e.getUint32(o+n.sizeHi,t),minX:e.getFloat64(o+n.minX,t),minY:e.getFloat64(o+n.minY,t),minZ:e.getFloat64(o+n.minZ,t),maxX:e.getFloat64(o+n.maxX,t),maxY:e.getFloat64(o+n.maxY,t),maxZ:e.getFloat64(o+n.maxZ,t),errorX:e.getFloat64(o+n.errorX,t),errorY:e.getFloat64(o+n.errorY,t),errorZ:e.getFloat64(o+n.errorZ,t),count:e.getUint32(o+n.count,t),reserved:e.getUint32(o+n.reserved,t)}}function c(t){const c=new DataView(t,0);let d=0;const{identifier:l,version:a}=r(t,c,d);if(d+=o.byteCount,\"LEPCC     \"!==l)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(a>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const u=i(c,d);d+=n.byteCount;if(u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const f=new Float64Array(3*u.count),h=[],w=[],g=[],p=[];if(d=s(t,d,h),d=s(t,d,w),d=s(t,d,g),d=s(t,d,p),d!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad length\");let m=0,U=0;for(let e=0;e<h.length;e++){U+=h[e];let t=0;for(let o=0;o<w[e];o++){t+=g[m];const e=p[m];f[3*m]=Math.min(u.maxX,u.minX+2*u.errorX*t),f[3*m+1]=Math.min(u.maxY,u.minY+2*u.errorY*U),f[3*m+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*e),m++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:f}}function s(e,t,o){const r=[];t=d(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=d(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function d(o,r,n){const i=new DataView(o,r),c=i.getUint8(0),s=31&c,d=!!(32&c),l=(192&c)>>6;let a=0;if(0===l)a=i.getUint32(1,t),r+=5;else if(1===l)a=i.getUint16(1,t),r+=3;else{if(2!==l)throw new e(\"lepcc-decode-error\",\"Bad count type\");a=i.getUint8(1),r+=2}if(d)throw new e(\"lepcc-decode-error\",\"LUT not implemented\");const u=Math.ceil(a*s/8),f=new Uint8Array(o,r,u);let h=0,w=0,g=0;const p=-1>>>32-s;for(let e=0;e<a;e++){for(;w<s;)h|=f[g]<<w,w+=8,g+=1;n[e]=h&p,h>>>=s,w-=s,w+s>32&&(h|=f[g-1]>>8-w)}return r+g}const l={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function a(e,o){return{sizeLo:e.getUint32(o+l.sizeLo,t),sizeHi:e.getUint32(o+l.sizeHi,t),count:e.getUint32(o+l.count,t),colorMapCount:e.getUint16(o+l.colorMapCount,t),lookupMethod:e.getUint8(o+l.lookupMethod),compressionMethod:e.getUint8(o+l.compressionMethod)}}function u(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"ClusterRGB\"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const d=a(n,i);i+=l.byteCount;if(d.sizeHi*2**32+d.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");if((2===d.lookupMethod||1===d.lookupMethod)&&0===d.compressionMethod){if(3*d.colorMapCount+d.count+i!==t.byteLength||d.colorMapCount>256)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=new Uint8Array(t,i,3*d.colorMapCount),r=new Uint8Array(t,i+3*d.colorMapCount,d.count),n=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++){const t=r[e];n[3*e]=o[3*t],n[3*e+1]=o[3*t+1],n[3*e+2]=o[3*t+2]}return n}if(0===d.lookupMethod&&0===d.compressionMethod){if(3*d.count+i!==t.byteLength||0!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");return new Uint8Array(t,i).slice()}if(d.lookupMethod<=2&&1===d.compressionMethod){if(i+3!==t.byteLength||1!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=n.getUint8(i),r=n.getUint8(i+1),c=n.getUint8(i+2),s=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++)s[3*e]=o,s[3*e+1]=r,s[3*e+2]=c;return s}throw new e(\"lepcc-decode-error\",\"Bad method \"+d.lookupMethod+\",\"+d.compressionMethod)}const f={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(e,o){return{sizeLo:e.getUint32(o+f.sizeLo,t),sizeHi:e.getUint32(o+f.sizeHi,t),count:e.getUint32(o+f.count,t),scaleFactor:e.getUint16(o+f.scaleFactor,t),bitsPerPoint:e.getUint8(o+f.bitsPerPoint),reserved:e.getUint8(o+f.reserved)}}function w(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"Intensity \"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const l=h(n,i);i+=f.byteCount;if(l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const a=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint8Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint16Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else{const o=[];if(d(t,i,o)!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}return a}export{w as decodeIntensity,u as decodeRGB,c as decodeXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4f64.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as r}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/projectionEllipsoid.js\";function a(o,n,a,s){const c=h(o,n,a),i=t();return r(a,c,i,s),i}const s=1,c=5-s;function h(t,r,a){const h=o(),i=t[3],e=2**(Math.ceil(Math.log(i)*Math.LOG2E/c)*c+s);if(a.isGeographic){const o=e/n(a).radius*180/Math.PI,r=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,r*o)),c=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),i=Math.round(t[0]/c)*c;h[0]=i,h[1]=s}else{const o=Math.round(t[0]/e),r=Math.round(t[1]/e);h[0]=o*e,h[1]=r*e}const M=t[2]+r,m=Math.round(M/e);return h[2]=m*e,h}export{a as computeGlobalTransformation,h as getLocalOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],n=[],l=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fieldsIndex,await i(l,a(this.layer,r)));await this.prepareFetchPopupFeatures(h);const y=new Set;for(const s of c)p(h,s,y)?n.push(s):u.push(s);return 0===n.length?Promise.resolve(u):this.whenGraphicAttributes(n,[...y]).catch((()=>n)).then((e=>u.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};function s(e,r){const s=r.attributes[e.objectIdField],i=e.sessions.get(s);if(i)return i;const a=t(r.attributes),u=new Set;if(null==s)return o;const c=e.attributeOverrides.createInteractiveEditSession(s),f=new Map,l=(t,e)=>{const n=f.get(t);if(null==n){const n=e.indexOf(s);return f.set(t,n),n}return n};let d=0;const b={setAttribute(t,o){if(0!==d)return;const s=e.fieldsIndex.get(t);if(n(s))return;const i=e.attributeStorageInfo.findIndex((t=>t.name===s.name));if(i<0)return;c.set(i,o);const a=e.attributeStorageInfo[i];let f=!1;u.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[a.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),f=!0)}})),f&&e.clearMemCache()},rollback(){if(0===d){for(const t of u)this.setAttribute(t,a[t]);c.rollback(),d=1,e.sessions.delete(s)}},commit(){0===d&&(c.commit(),d=2,e.sessions.delete(s))}};return e.sessions.set(s,b),b}function i(t,n){const r=a(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function a(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new d;const o=f(e),s=new d,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,c=t.objectIdField,l=n.filter((t=>{const e=r(a,t.attributes,c);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of l){const f=r(a,i.attributes,c);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=u(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function u(t,e,n){const r=c(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function c(t,e){const n=t.get(e);if(n)return n;const r=new l;return t.set(e,r),r}function f(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}const l=Map,d=Map;export{s as createInteractiveEditSession,i as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import e from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as n}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=s=>{let a=class extends s{constructor(){super(...arguments),this.asyncUpdateState=new Map}autoUpdateAsync(t,s){return o((s=>this.updateAsync(t,s)),s)}async updateAsync(t,s){if(!this.startAsyncUpdate(t)){try{const e=await s();this._set(t,e)}catch(a){e.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(t)&&this.updateAsync(t,s)}}startAsyncUpdate(t){var s;const e=null!=(s=this.asyncUpdateState.get(t))?s:0;return 1&e?(this.asyncUpdateState.set(t,2|e),!0):(this.asyncUpdateState.set(t,1|e),!1)}endAsyncUpdate(t){var s;const e=-2&(null!=(s=this.asyncUpdateState.get(t))?s:0);return 2&e?(this.asyncUpdateState.set(t,-3&e),!0):(this.asyncUpdateState.set(t,e),!1)}};return a=t([r(\"esri.core.AsyncUpdate\")],a),a};function o(t,s){const e=()=>{o&&!p&&t(r)},r=()=>{if(!o||p)return s();o.clear(),p=!0;const t=a(o,s);return p=!1,t},c=()=>{o&&(o.destroy(),o=null)};let o=new n(e),p=!1;return t(r),{remove:c}}let p=class extends(c(s)){};p=t([r(\"esri.core.AsyncUpdate\")],p);export{p as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as d,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return d(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>a(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n"],"sourceRoot":""}