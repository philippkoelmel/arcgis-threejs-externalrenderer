{"version":3,"sources":["../node_modules/@arcgis/core/symbols/cim/SDFHelper.js","../node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js"],"names":["r","t","type","n","symbolLayers","length","markerGraphics","o","geometry","l","symbol","geom","asFill","s","e","f","rings","paths","xmin","ymin","xmax","ymax","a","i","m","y","Math","floor","h","max","x","round","M","g","p","d","width","height","push","Array","u","c","sqrt","Uint8Array","getLogger","b","N","markerPlacement","angleToLine","k","error","primitiveOverrides","valueExpressionInfo","expression","spatialReference","fields","then","primitiveName","propertyName","value","Promise","all","O","getSize","angleAlignment","enable","findApplicableOverrides","C","P","L","X","I","w","z","J","color","T","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","F","j","angle","offsetX","offsetY","scaleX","effects","tintColor","url","colorSubstitutions","rotation","filter","indexOf","separation","lineSymbol","W","capStyle","joinStyle","miterLimit","S","v","isOutline","cap","join","referenceWidth","zOrder","A","name","isDashed","stepY","gridAngle","size","scaleSymbolsProportionally","alignment","anchorPoint","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","frame","Y","H","underline","strikethrough","toLowerCase","style","weight","fontStyleName","font","family","fontFamilyName","decoration","getFillColor","getStrokeColor","getStrokeWidth","haloSymbol","haloSize","$","Number","R","fontName","horizontalAlignment","verticalAlignment","text","textString","textCase","outlineSize","billboardMode3D","depth3D","respectFrame","clippingPath","getTextureAnchor","parseInt","substr","NaN","toRgba","call","$view","geometryType","fn","buildOverrideKey","D","parse","applyOverrides"],"mappings":"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","file":"static/js/19.6cea1c4a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isExtent as t}from\"../../geometry/support/jsonUtils.js\";import{packFloatRGBA as n}from\"./packingUtils.js\";import o from\"./Rect.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||\"CIMPolygonSymbol\"!==l.type&&\"CIMLineSymbol\"!==l.type?null:{geom:r,asFill:\"CIMPolygonSymbol\"===l.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let n=1/0,r=-1/0,l=1/0,e=-1/0;for(const o of t)for(const t of o)t[0]<n&&(n=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new o(n,l,r-n,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):t(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function a(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const a=s-e,m=f-i,u=128,c=1,y=Math.floor(.5*(.5*u-c)),h=(u-2*(y+c))/Math.max(a,m),x=Math.round(a*h)+2*y,M=Math.round(m*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function m(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),a=Math.round(o.width*f)+2*s,m=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const r of e){let[l,e]=r;l-=o.x,e-=o.y,l*=f,e*=f,l+=s-.5,e+=s-.5,t.asFill?n.push([l,e]):n.push([Math.round(l),Math.round(e)])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=u(h,a,m,s);return t.asFill&&c(h,a,m,s,x),[y(x,s),a,m]}function u(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,a,m,u;t[0]<i[0]?(f=t[0],a=i[0]):(f=i[0],a=t[0]),t[1]<i[1]?(m=t[1],u=i[1]):(m=i[1],u=t[1]);let c=Math.floor(f)-r,y=Math.floor(a)+r,h=Math.floor(m)-r,x=Math.floor(u)+r;c<0&&(c=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=c;r<y;r++)for(let l=h;l<x;l++){let s,f,a=(r-t[0])*M+(l-t[1])*g;a<0?(s=t[0],f=t[1]):a>p?(s=i[0],f=i[1]):(a/=p,s=t[0]+a*M,f=t[1]+a*g);const m=(r-s)*(r-s)+(l-f)*(l-f),u=(o-l-1)*n+r;m<e[u]&&(e[u]=m)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function c(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,a,m,u;t[0]<s[0]?(f=t[0],a=s[0]):(f=s[0],a=t[0]),t[1]<s[1]?(m=t[1],u=s[1]):(m=s[1],u=t[1]);let c=Math.floor(f),y=Math.floor(a)+1,h=Math.floor(m),x=Math.floor(u)+1;c<r&&(c=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=c;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<c;++t)l[i+t]=-l[i+t]}}}}function y(t,o){const r=2*o,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const o=.5-t[i]/r;n(o,e,4*i)}return e}export{m as buildSDF,f as getExtent,r as getSDFInfo,a as getSDFMetrics,l as getSDFSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Logger.js\";import{pt2px as i}from\"../../core/screenUtils.js\";import{numericHash as o}from\"../../core/string.js\";import{createRendererExpression as r,ArcadeExpression as n}from\"../../support/arcadeOnDemand.js\";import{CIMSymbolHelper as a,OverrideHelper as l}from\"./CIMSymbolHelper.js\";import{getExtent as s,getSDFMetrics as c}from\"./SDFHelper.js\";import{fromCIMColor as f,_adjustTextCase as m}from\"./utils.js\";import p from\"../../views/2d/arcade/callExpressionWithFeature.js\";const u=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function y(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;default:return 1}}function h(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;default:return 1}}function g(e){switch(e){default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function d(e){switch(e){default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function S(e){let t=\"normal\",i=\"normal\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}function v(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function b(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function N(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,i,o){const n=null!=i?i:[];if(!e)return n;let a,l;const s={};if(\"CIMSymbolReference\"!==e.type)return u.error(\"Expect cim type to be 'CIMSymbolReference'\"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const i of l){const o=i.valueExpressionInfo;if(o&&t){const n=o.expression,a=r(n,t.spatialReference,t.fields).then((e=>{e&&b(s,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&b(s,i.primitiveName,i.propertyName,i.value)}await Promise.all(e)}switch(a.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":O(a,l,s,t,n,o)}return n}function O(e,t,i,o,r,n){if(!e)return;const s=e.symbolLayers;if(!s)return;let c;const f=a.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(c=1);let m=s.length;for(;m--;){const a=s[m];if(!a||!1===a.enable)continue;const p=[];switch(l.findApplicableOverrides(a,t,p),a.type){case\"CIMSolidFill\":C(a,i,p,o,r);break;case\"CIMPictureFill\":P(a,i,p,o,r);break;case\"CIMHatchFill\":L(a,i,p,o,r);break;case\"CIMGradientFill\":M(a,i,p,o,r);break;case\"CIMSolidStroke\":X(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMPictureStroke\":I(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMGradientStroke\":x(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMCharacterMarker\":if(w(a,i,p,o,r))break;break;case\"CIMPictureMarker\":if(w(a,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(c=N(a)),z(a,i,p,o,r,c,f);break;case\"CIMVectorMarker\":if(w(a,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(c=N(a)),J(a,i,p,o,r,c,f,n);break;default:u.error(\"Cannot analyze CIM layer\",a.type)}}}function C(e,t,i,r,n){const a=e.primitiveName,l=f(e.color),[s,c]=T(i,a),m=o(JSON.stringify(e)+c).toString();n.push({type:\"fill\",templateHash:m,materialHash:s?()=>m:m,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:F(a,t,\"Color\",r,l,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:e.effects})}function P(e,t,i,r,n){const a=e.primitiveName,l=e.tintColor?f(e.tintColor):{r:255,g:255,b:255,a:1},[s,c]=T(i,a),m=o(JSON.stringify(e)+c).toString(),p=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();n.push({type:\"fill\",templateHash:m,materialHash:s?()=>p:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:F(a,t,\"TintColor\",r,l,j),height:F(a,t,\"Height\",r,e.height),scaleX:F(a,t,\"ScaleX\",r,e.scaleX),angle:F(a,t,\"Rotation\",r,e.rotation),offsetX:F(a,t,\"OffsetX\",r,e.offsetX),offsetY:F(a,t,\"OffsetY\",r,e.offsetY)})}function L(e,t,i,r,n){const a=[\"Rotation\",\"OffsetX\",\"OffsetY\"],l=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===a.indexOf(t.propertyName))),s=e.primitiveName,[c,f]=T(i,s),m=o(JSON.stringify(e)+f).toString(),p=o(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();n.push({type:\"fill\",templateHash:m,materialHash:c?W(p,t,l,r):p,cim:e,materialOverrides:l,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(s,t,\"Separation\",r,e.separation),scaleX:1,angle:F(s,t,\"Rotation\",r,e.rotation),offsetX:F(s,t,\"OffsetX\",r,e.offsetX),offsetY:F(s,t,\"OffsetY\",r,e.offsetY)})}function M(e,t,i,r,n){const a=e.primitiveName,[l,s]=T(i,a),c=o(JSON.stringify(e)+s).toString();n.push({type:\"fill\",templateHash:c,materialHash:l?W(c,t,i,r):c,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(e,t,i,r,n,a,l){const s=e.primitiveName,c=f(e.color),m=void 0!==e.width?e.width:4,p=y(e.capStyle),u=h(e.joinStyle),g=e.miterLimit,[d,S]=T(i,s),v=o(JSON.stringify(e)+S).toString();n.push({type:\"line\",templateHash:v,materialHash:d?()=>v:v,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(s,t,\"Color\",r,c,j),width:F(s,t,\"Width\",r,m),cap:F(s,t,\"CapStyle\",r,p),join:F(s,t,\"JoinStyle\",r,u),miterLimit:F(s,t,\"MiterLimit\",r,g),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function I(e,t,i,r,n,a,l){const s=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),c=e.primitiveName,m=f(e.tintColor),p=void 0!==e.width?e.width:4,u=y(e.capStyle),g=h(e.joinStyle),d=e.miterLimit,[S,v]=T(i,c),b=o(JSON.stringify(e)+v).toString();n.push({type:\"line\",templateHash:b,materialHash:S?()=>s:s,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(c,t,\"TintColor\",r,m,j),width:F(c,t,\"Width\",r,p),cap:F(c,t,\"CapStyle\",r,u),join:F(c,t,\"JoinStyle\",r,g),miterLimit:F(c,t,\"MiterLimit\",r,d),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function x(e,t,i,r,n,a,l){const s=e.primitiveName,c=void 0!==e.width?e.width:4,f=y(e.capStyle),m=h(e.joinStyle),p=e.miterLimit,[u,g]=T(i,s),d=o(JSON.stringify(e)+g).toString();n.push({type:\"line\",templateHash:d,materialHash:u?W(d,t,i,r):d,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},width:F(s,t,\"Width\",r,c),cap:F(s,t,\"CapStyle\",r,f),join:F(s,t,\"JoinStyle\",r,m),miterLimit:F(s,t,\"MiterLimit\",r,p),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function w(e,t,i,r,n){const a=e.markerPlacement;if(!a||\"CIMMarkerPlacementInsidePolygon\"!==a.type)return!1;const l=a,s=[\"Rotation\",\"OffsetX\",\"OffsetY\"],c=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===s.indexOf(t.propertyName))),[f,m]=T(i,l.primitiveName),p=o(JSON.stringify(e)+m).toString();return n.push({type:\"fill\",templateHash:p,materialHash:f?W(p,t,c,r):p,cim:e,materialOverrides:c,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,t,\"StepY\",r,l.stepY),scaleX:1,angle:F(l.primitiveName,t,\"GridAngle\",r,l.gridAngle),offsetX:F(l.primitiveName,t,\"OffsetX\",r,l.offsetX),offsetY:F(l.primitiveName,t,\"OffsetY\",r,l.offsetY)}),!0}function z(e,t,i,r,n,a,l){const s=e.primitiveName,c=e.size,m=e.scaleX,p=e.rotation,u=e.offsetX,y=e.offsetY,h=e.tintColor?f(e.tintColor):{r:255,g:255,b:255,a:1},g=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[d,S]=T(i,s),v=o(JSON.stringify(e)+S).toString();n.push({type:\"marker\",templateHash:v,materialHash:d?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:!1,alignment:a,size:F(s,t,\"Size\",r,c),scaleX:F(s,t,\"ScaleX\",r,m),rotation:F(s,t,\"Rotation\",r,p),offsetX:F(s,t,\"OffsetX\",r,u),offsetY:F(s,t,\"OffsetY\",r,y),color:F(s,t,\"TintColor\",r,h,j),anchorPoint:e.anchorPoint,isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:l,sizeRatio:1,markerPlacement:e.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":Y(e,f,i,t,o,r,n,a,c,l);break;case\"CIMTextSymbol\":H(e,f,t,i,o,r,n,a,c)}}}function H(e,t,i,r,n,s,c,p,u){const y=[];l.findApplicableOverrides(t,r,y);const h=t.geometry;if(!(\"x\"in h)||!(\"y\"in h))return;const b=t.symbol,N=v(b),k=S(b.fontStyleName);b.font={family:b.fontFamilyName,decoration:N,...k};const O=e.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=e.size/u,M=e.primitiveName,X=(b.height||0)*L,I=b.angle||0,x=((b.offsetX||0)+C)*L,w=((b.offsetY||0)+P)*L,z=f(a.getFillColor(b));let J=f(a.getStrokeColor(b)),H=a.getStrokeWidth(b);H||(J=f(a.getFillColor(b.haloSymbol)),H=b.haloSize*L);let Y=\"\";for(const o of r)o.primitiveName===M&&void 0!==o.value&&(Y+=`-${o.primitiveName}-${o.propertyName}-${JSON.stringify(o.value)}`);const $=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),R=o(JSON.stringify(t)+$+Y).toString();s.push({type:\"text\",templateHash:R,materialHash:()=>o(JSON.stringify(b.font)).toString(),cim:b,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,alignment:c,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,fontName:b.fontFamilyName,decoration:\"none\",weight:\"normal\",style:\"normal\",size:F(M,i,\"Size\",n,X),angle:F(M,i,\"Rotation\",n,I),offsetX:F(M,i,\"OffsetX\",n,x),offsetY:F(M,i,\"OffsetY\",n,w),horizontalAlignment:g(b.horizontalAlignment),verticalAlignment:d(b.verticalAlignment),text:F(t.primitiveName,i,\"TextString\",n,t.textString,m,b.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:e.markerPlacement})}function Y(e,t,i,r,n,l,m,p,u,y){const h=t.symbol,g=t.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void $(e,t,r,i,n,l,m,p,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const h=s(g);if(!h)continue;const[d,S,v]=c(h,e.frame,e.size,e.anchorPoint,\"Relative\"!==e.anchorPointUnits),b=\"CIMSolidFill\"===y.type,N={type:\"sdf\",geom:g,asFill:b},k=e.primitiveName,O=e.size,C=e.rotation||0,P=e.offsetX,L=e.offsetY,M=y.primitiveName,X=f(b?a.getFillColor(y):a.getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:f(a.getStrokeColor(y)),x=a.getStrokeWidth(y);if(!b&&!x)break;let w=!1,z=\"\";for(const e of i)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...e,markerGraphics:null}),H=o(JSON.stringify(N)).toString(),Y={type:\"marker\",templateHash:o(JSON.stringify(t)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:m,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(e.primitiveName,r,\"Size\",n,O),rotation:F(e.primitiveName,r,\"Rotation\",n,C),offsetX:F(e.primitiveName,r,\"OffsetX\",n,P),offsetY:F(e.primitiveName,r,\"OffsetY\",n,L),scaleX:1,frameHeight:u,rotateClockwise:e.rotateClockwise,referenceSize:p,sizeRatio:d,color:F(M,r,\"Color\",n,X,j),outlineColor:F(M,r,\"Color\",n,I,j),outlineWidth:F(M,r,\"Width\",n,x),markerPlacement:e.markerPlacement};l.push(Y);break}default:$(e,t,r,i,n,l,m,p,u)}}}function $(e,t,r,n,l,s,c,f,m){const p=R(e,t);let u=[];const y=[\"Rotation\",\"OffsetX\",\"OffsetY\"];u=n.filter((t=>t.primitiveName!==e.primitiveName||-1===y.indexOf(t.propertyName)));let h=\"\";for(const i of n)void 0!==i.value&&(h+=`-${i.primitiveName}-${i.propertyName}-${JSON.stringify(i.value)}`);const[g,d,S]=a.getTextureAnchor(p),v=e.primitiveName,b=e.rotation||0,N=e.offsetX||0,k=e.offsetY||0,O=o(JSON.stringify(p)+h).toString(),C={type:\"marker\",templateHash:O,materialHash:0===u.length?O:W(O,r,u,l),cim:p,materialOverrides:u,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:c,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:e.size,rotation:F(v,r,\"Rotation\",l,b),offsetX:F(v,r,\"OffsetX\",l,N),offsetY:F(v,r,\"OffsetY\",l,k),color:{r:255,g:255,b:255,a:1},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:S/i(e.size),markerPlacement:e.markerPlacement};s.push(C)}function R(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(t){if(!t||0===t.length)return null;const i=new e(t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function F(e,t,i,o,r,a,l){const s=t[e];if(s){const e=s[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof n)return(t,i,n)=>{let s=p(e,t,{$view:n},o.geometryType,i);return null!==s&&a&&(s=a.call(null,s,l)),null!==s?s:r}}return r}function W(e,t,i,r){for(const o of i){if(o.valueExpressionInfo){const e=t[o.primitiveName]&&t[o.primitiveName][o.propertyName];e instanceof n&&(o.fn=(t,i,o)=>p(e,t,{$view:o},r.geometryType,i))}}return(t,r,n)=>{for(const e of i)e.fn&&(e.value=e.fn(t,r,n));return o(e+l.buildOverrideKey(i)).toString()}}function D(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return l.applyOverrides(i,t),i}function T(e,t){let i=!1,o=\"\";for(const r of e)r.primitiveName===t&&(void 0!==r.value?o+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(i=!0));return[i,o]}export{D as analyzeCIMResource,k as analyzeCIMSymbol};\n"],"sourceRoot":""}