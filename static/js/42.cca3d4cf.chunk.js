(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[42],{1021:function(e,t,a){"use strict";a.r(t),a.d(t,"CIMSymbolRasterizer",(function(){return S})),a.d(t,"GeometryStyle",(function(){return O}));var r=a(13),i=a(8),n=a.n(i),s=a(16),o=a(2),c=a(4),l=a(101),h=a(23),m=a(31),u=a(150),f=a(102),g=a(901),d=a(34),y=a(845),v=a(860),p=a(966),b=a(180),x=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"dispose",value:function(){this._rasterizationCanvas=null}},{key:"rasterizeJSONResource",value:function(e,t,a){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===e.type||"esriSFS"===e.type){var r=y.c.rasterizeSimpleFill(this._rasterizationCanvas,e.style,t),i=Object(d.a)(r,3),n=i[0];return{size:[i[1],i[2]],image:new Uint32Array(n.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===e.type||"esriSLS"===e.type){var s=y.c.rasterizeSimpleLine(e.style,e.cap),o=Object(d.a)(s,3),c=o[0];return{size:[o[1],o[2]],image:new Uint32Array(c.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}var l,h,m;if("simple-marker"===e.type||"esriSMS"===e.type||"line-marker"===e.type?(l=y.a.fromSimpleMarker(e),m=Object(p.c)(l)):"CIMHatchFill"===e.type?(l=y.a.fromCIMHatchFill(e),h=new v.a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):e.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===e.markerPlacement.type?(l=y.a.fromCIMInsidePolygon(e),h=new v.a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):(l=e,m=Object(p.c)(l)),m&&!a){var u=Object(p.a)(m),f=Object(d.a)(u,3),g=f[0],b=f[1],x=f[2];return g?{size:[b,x],image:new Uint32Array(g.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}var C=y.a.rasterize(this._rasterizationCanvas,l,h,!a),z=Object(d.a)(C,5),M=z[0],O=z[1],j=z[2],w=z[3],k=z[4];return M?{size:[O,j],image:new Uint32Array(M.buffer),sdf:!1,simplePattern:!1,anchorX:w,anchorY:k}:null}},{key:"rasterizeImageResource",value:function(e,t,a,i){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;var n=this._rasterizationCanvas.getContext("2d");a instanceof ImageData?n.putImageData(a,0,0):(a.setAttribute("width","".concat(e,"px")),a.setAttribute("height","".concat(t,"px")),n.drawImage(a,0,0,e,t));var s,o=n.getImageData(0,0,e,t),c=new Uint8Array(o.data);if(i){var l,h=Object(r.a)(i);try{for(h.s();!(l=h.n()).done;){var m=l.value;if(m&&m.oldColor&&4===m.oldColor.length&&m.newColor&&4===m.newColor.length){var u=Object(d.a)(m.oldColor,4),f=u[0],g=u[1],y=u[2],v=u[3],p=Object(d.a)(m.newColor,4),x=p[0],C=p[1],z=p[2],M=p[3];if(f===x&&g===C&&y===z&&v===M)continue;for(var O=0;O<c.length;O+=4)f===c[O]&&g===c[O+1]&&y===c[O+2]&&v===c[O+3]&&(c[O]=x,c[O+1]=C,c[O+2]=z,c[O+3]=M)}}}catch(R){h.e(R)}finally{h.f()}}for(var j=0;j<c.length;j+=4)s=c[j+3]/255,c[j]=c[j]*s,c[j+1]=c[j+1]*s,c[j+2]=c[j+2]*s;var w=c,k=e,I=t,P=512;if(k>=P||I>=P){var S=k/I;S>1?(k=P,I=Math.round(P/S)):(I=P,k=Math.round(P*S)),w=new Uint8Array(4*k*I);var _=new Uint8ClampedArray(w.buffer);Object(b.j)(c,e,t,_,k,I,!1)}return{size:[k,I],image:new Uint32Array(w.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}]),e}();var C=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"rasterizeText",value:function(e,t){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));var a=this._textRasterizationCanvas,i=a.getContext("2d");this.setFontProperties(i,t),this.parameters=t,this.textLines=e.split(/\r?\n/),this.lineHeight=this.computeLineHeight();var n=this.computeTextWidth(i,t),s=this.lineHeight*this.textLines.length;a.width=n,a.height=s,this.renderedLineHeight=Math.round(this.lineHeight*t.pixelRatio),this.renderedHaloSize=t.halo.size*t.pixelRatio,this.renderedWidth=n*t.pixelRatio,this.renderedHeight=s*t.pixelRatio,this.fillStyle=function(e){return"rgba(".concat(e.slice(0,3).toString(),",").concat(e[3],")")}(t.color),this.haloStyle=function(e){return"rgb(".concat(e.slice(0,3).toString(),")")}(t.halo.color);var o=this.renderedLineHeight,c=this.renderedHaloSize;this.setFontProperties(i,t);var l=function(e,t){return"center"===e?.5*t:"right"===e?t:0}(i.textAlign,this.renderedWidth)+c,h=c,m=0,u=0;c>0&&this.renderHalo(i,l,h,m,u,t),u+=h,m+=l;var f,g=Object(r.a)(this.textLines);try{for(g.s();!(f=g.n()).done;){var d=f.value;i.globalCompositeOperation="destination-out",i.fillStyle="rgb(0, 0, 0)",i.fillText(d,m,u),i.globalCompositeOperation="source-over",i.fillStyle=this.fillStyle,i.fillText(d,m,u),u+=o}}catch(x){g.e(x)}finally{g.f()}var y=i.getImageData(0,0,this.renderedWidth,this.renderedHeight),v=new Uint8Array(y.data);if(t.premultiplyColors)for(var p,b=0;b<v.length;b+=4)p=v[b+3]/255,v[b]=v[b]*p,v[b+1]=v[b+1]*p,v[b+2]=v[b+2]*p;return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(v.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}},{key:"renderHalo",value:function(e,t,a,r,i,n){var s=this.renderedWidth,o=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas")),this._haloRasterizationCanvas.width=s,this._haloRasterizationCanvas.height=o;var c=this._haloRasterizationCanvas,l=c.getContext("2d");l.clearRect(0,0,s,o),this.setFontProperties(l,n),l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;var h=this.renderedHaloSize<3;l.lineJoin=h?"miter":"round",h?this.renderHaloEmulated(l,t,a):this.renderHaloNative(l,t,a),e.globalAlpha=this.parameters.halo.color[3],e.drawImage(c,0,0,s,o,r,i,s,o),e.globalAlpha=1}},{key:"renderHaloEmulated",value:function(e,t,a){var i,n=this.renderedLineHeight,s=this.renderedHaloSize,o=Object(r.a)(this.textLines);try{for(o.s();!(i=o.n()).done;){var c,l=i.value,h=Object(r.a)(z);try{for(h.s();!(c=h.n()).done;){var m=Object(d.a)(c.value,2),u=m[0],f=m[1];e.fillText(l,t+s*u,a+s*f)}}catch(g){h.e(g)}finally{h.f()}a+=n}}catch(g){o.e(g)}finally{o.f()}}},{key:"renderHaloNative",value:function(e,t,a){var i,n=this.renderedLineHeight,s=this.renderedHaloSize,o=Object(r.a)(this.textLines);try{for(o.s();!(i=o.n()).done;){for(var c=i.value,l=2*s,h=0;h<5;h++){var m=.6+.1*h;e.lineWidth=m*l,e.strokeText(c,t,a)}a+=n}}catch(u){o.e(u)}finally{o.f()}}},{key:"setFontProperties",value:function(e,t){var a,r=t.font,i="".concat(r.style," ").concat(r.weight," ").concat(Object(m.g)(t.size*t.pixelRatio),"px ").concat(r.family,", sans-serif");switch(e.font=i,e.textBaseline="top",t.horizontalAlignment){case"left":default:a="left";break;case"right":a="right";break;case"center":a="center"}e.textAlign=a}},{key:"computeTextWidth",value:function(e,t){var a,i=0,n=Object(r.a)(this.textLines);try{for(n.s();!(a=n.n()).done;){var s=a.value;i=Math.max(i,e.measureText(s).width)}}catch(c){n.e(c)}finally{n.f()}var o=t.font;return("italic"===o.style||"oblique"===o.style||"string"==typeof o.weight&&("bold"===o.weight||"bolder"===o.weight)||"number"==typeof o.weight&&o.weight>600)&&(i+=.3*e.measureText("A").width),i+=2*this.parameters.halo.size,Math.round(i)}},{key:"computeLineHeight",value:function(){var e=1.275*this.parameters.size;return Math.round(e+2*this.parameters.halo.size)}}]),e}();for(var z=[],M=0;M<360;M+=22.5)z.push([Math.cos(Math.PI*M/180),Math.sin(Math.PI*M/180)]);var O,j,w=a(617),k=a(563);(j=O||(O={})).Legend="legend",j.Preview="preview";var I=function(e,t,a){if(e&&e.targetSize){var r;if(a){var i=Math.max(a.frame.xmax-a.frame.xmin,a.frame.ymax-a.frame.ymin);r=e.targetSize/Object(m.g)(i)}else r=e.targetSize/t.referenceSize;return r}return e&&e.scaleFactor?e.scaleFactor:1},P={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}},S=function(){function e(t,a){Object(o.a)(this,e),this._spatialReference=t,this._avoidSDF=a,this._resourceCache=new Map,this._rasterizer=new x,this._textRasterizer=new C,this._pictureMarkerCache=new Map}return Object(c.a)(e,[{key:"rasterizeCIMSymbolAsync",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r,i,s,o,c,l){var h;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||(a?null!=a.centroid?"esriGeometryPolygon":Object(f.c)(a.geometry):null)||R(t),e.next=3,this.analyzeCIMSymbol(t,a?_(a.attributes):null,r,i,l);case 3:return h=e.sent,e.abrupt("return",this.rasterizeCIMSymbol(h,a,i,s,o,c));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r,i,n,s,o,c){return e.apply(this,arguments)}}()},{key:"analyzeCIMSymbol",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r,i,s){var o,c,l,m,u,f;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],c=a?{geometryType:i,spatialReference:this._spatialReference,fields:a}:null,e.next=3,Object(g.b)(t.data,c,o,this._avoidSDF);case 3:for(Object(h.x)(s),m=0,u=o;m<u.length;m++)"CIMPictureMarker"!==(f=u[m]).cim.type&&"CIMPictureFill"!==f.cim.type&&"CIMPictureStroke"!==f.cim.type||(l||(l=[]),l.push(this.fetchPictureMarkerResource(f,s))),r&&"text"===f.type&&"string"==typeof f.text&&f.text.indexOf("[")>-1&&(f.text=Object(b.c)(r,f.text,f.cim.textCase));if(e.t0=l,!e.t0){e.next=9;break}return e.next=9,Promise.all(l);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,r,i,n){return e.apply(this,arguments)}}()},{key:"fetchPictureMarkerResource",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a){var r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.materialHash,this._pictureMarkerCache.get(r)){e.next=6;break}return e.next=4,Object(l.default)(t.cim.url,{responseType:"image",signal:a&&a.signal});case 4:i=e.sent.data,this._pictureMarkerCache.set(r,i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"rasterizeCIMSymbol",value:function(e,t,a,i,n,s){var o,c=[],l=Object(r.a)(e);try{for(l.s();!(o=l.n()).done;){var h=o.value;i&&"function"==typeof i.scaleFactor&&(i.scaleFactor=i.scaleFactor(t,n,s));var m=this._getRasterizedResource(h,t,a,i,n,s);if(m){var u=0,f=m.anchorX||0,g=m.anchorY||0,d=!1,y=0,v=0;if("esriGeometryPoint"===a){var p=I(i,h,null);if(y=Object(b.d)(h.offsetX,t,n,s)*p||0,v=Object(b.d)(h.offsetY,t,n,s)*p||0,"marker"===h.type)u=Object(b.d)(h.rotation,t,n,s)||0,d=!!h.rotateClockwise&&h.rotateClockwise;else if("text"===h.type){if(u=Object(b.d)(h.angle,t,n,s)||0,void 0!==h.horizontalAlignment)switch(h.horizontalAlignment){case"left":f=-.5;break;case"right":f=.5;break;default:f=0}if(void 0!==h.verticalAlignment)switch(h.verticalAlignment){case"top":g=.5;break;case"bottom":g=-.5;break;case"baseline":g=-.25;break;default:g=0}}}null!=m&&c.push({angle:u,rotateClockWise:d,anchorX:f,anchorY:g,offsetX:y,offsetY:v,rasterizedResource:m})}}}catch(x){l.e(x)}finally{l.f()}return this.getSymbolImage(c)}},{key:"getSymbolImage",value:function(e){for(var t=document.createElement("canvas"),a=t.getContext("2d"),r=0,i=0,n=0,s=0,o=[],c=0;c<e.length;c++){var l=e[c],h=l.rasterizedResource;if(h){var u=h.size,f=l.offsetX,g=l.offsetY,d=l.anchorX,y=l.anchorY,v=l.rotateClockWise||!1,p=l.angle,b=Object(m.g)(f)-u[0]*(.5+d),x=Object(m.g)(g)-u[1]*(.5+y),C=b+u[0],z=x+u[1];if(p){v&&(p=-p);var M=Math.sin(p*Math.PI/180),O=Math.cos(p*Math.PI/180),j=b*O-x*M,w=b*M+x*O,I=b*O-z*M,P=b*M+z*O,S=C*O-z*M,_=C*M+z*O,R=C*O-x*M,A=C*M+x*O;b=Math.min(j,I,S,R),x=Math.min(w,P,_,A),C=Math.max(j,I,S,R),z=Math.max(w,P,_,A)}r=b<r?b:r,i=x<i?x:i,n=C>n?C:n,s=z>s?z:s;var H=a.createImageData(h.size[0],h.size[1]);H.data.set(new Uint8ClampedArray(h.image.buffer));var D={offsetX:f,offsetY:g,rotateClockwise:v,angle:p,rasterizedImage:H,anchorX:d,anchorY:y};o.push(D)}}t.width=n-r,t.height=s-i;for(var F=-r,T=s,L=0;L<o.length;L++){var X=o[L],Y=this._imageDataToCanvas(X.rasterizedImage),U=X.rasterizedImage.width,W=X.rasterizedImage.height,G=F-U*(.5+X.anchorX),E=T-W*(.5-X.anchorY);if(X.angle){var J=(360-X.angle)*Math.PI/180;a.save(),a.translate(Object(m.g)(X.offsetX),-Object(m.g)(X.offsetY)),a.translate(F,T),a.rotate(J),a.translate(-F,-T),a.drawImage(Y,G,E),a.restore()}else a.drawImage(Y,G+Object(m.g)(X.offsetX),E-Object(m.g)(X.offsetY))}var N=new k.b({x:F/t.width-.5,y:T/t.height-.5});return{imageData:0!==t.width&&0!==t.height?a.getImageData(0,0,t.width,t.height):a.createImageData(1,1),anchorPosition:N}}},{key:"_imageDataToCanvas",value:function(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));var t=this._imageDataCanvas,a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.putImageData(e,0,0),t}},{key:"_imageTo32Array",value:function(e,t,a){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));var r=this._imageDataCanvas,i=r.getContext("2d");return r.width=t,r.height=a,i.drawImage(e,0,0,t,a),new Uint32Array(i.getImageData(0,0,t,a).data.buffer)}},{key:"_getRasterizedResource",value:function(e,t,a,r,i,n){var s,o,c,l;if("esriGeometryPolyline"===a||"esriGeometryPolygon"===a){var h=r&&r.style?r.style:O.Legend,m="esriGeometryPolyline"===a?P.stroke[h]:P.fill[h];if("line"===e.type){var f;if("CIMSolidStroke"!==e.cim.type){if("CIMPictureStroke"===e.cim.type){var g=Object(b.d)(e.width,t,i,n),d=this._getPictureResource(e,g),y=d.image,v=d.width,p=d.height;return this._rasterizePictureResource(e,y,v,p,m,g)}return null}s=(f=A(e,t,i,n)).analyzedCIM,c=f.hash,o=this._embedCIMLayerInVectorMarker(s,m)}else if("marker"===e.type){if("CIMPictureMarker"===e.cim.type)return null;if("CIMVectorMarker"!==e.cim.type)return null;e.cim.offsetX=Object(b.d)(e.offsetX,t,i,n),e.cim.offsetY=Object(b.d)(e.offsetY,t,i,n),e.cim.rotation=Object(b.d)(e.rotation,t,i,n),e.cim.markerPlacement=e.markerPlacement,s=A(e,t,i,n).analyzedCIM,c=Object(u.b)(JSON.stringify(s)).toString(),o=this._embedCIMLayerInVectorMarker(s,m)}else{if("text"===e.type)return null;if("fill"===e.type){var x;if("CIMHatchFill"===e.cim.type||"CIMVectorMarker"===e.cim.type||"CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type){var C,z,M,j=e.cim.size||e.cim.height;if("CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type){var k=this._getPictureResource(e,j);C=k.image,z=k.width,M=k.height}else{var S=A(e,t,i,n);s=S.analyzedCIM,c=S.hash;var _=this._rasterizer.rasterizeJSONResource(s,1,this._avoidSDF);C=_.image,z=_.size[0],M=_.size[1]}return this._rasterizePictureResource(e,C,z,M,m,null)}if("CIMSolidFill"!==e.cim.type)return null;s=(x=A(e,t,i,n)).analyzedCIM,c=x.hash,o=this._embedCIMLayerInVectorMarker(s,m)}}}else{if("text"===e.type)return l=this._rasterizeTextResource(e,t,r,i,n);var R=A(e,t,i,n);s=R.analyzedCIM,c=R.hash;var H=I(r,e,null);if("CIMPictureMarker"===e.cim.type){var D=Object(b.d)(e.size,t,i,n)*H,F=this._getPictureResource(e,D);return l={image:F.image,size:[F.width,F.height],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0}}Object(w.c)(s,H,{preserveOutlineWidth:!1}),o=s}c+=a,r&&(c+=JSON.stringify(r));var T=this._resourceCache;return T.has(c)?T.get(c):(l=this._rasterizer.rasterizeJSONResource(o,window.devicePixelRatio||1,this._avoidSDF),T.set(c,l),l)}},{key:"_rasterizeTextResource",value:function(e,t,a,r,i){var n=I(a,e,null),s=Object(b.d)(e.text,t,r,i);if(!s||0===s.length)return null;var o=Object(b.d)(e.fontName,t,r,i),c=Object(b.d)(e.style,t,r,i),l=Object(b.d)(e.weight,t,r,i),h=Object(b.d)(e.decoration,t,r,i),m=Object(b.d)(e.size,t,r,i)*n,u=Object(b.d)(e.horizontalAlignment,t,r,i),f=Object(b.d)(e.verticalAlignment,t,r,i),g=Object(b.b)(Object(b.d)(e.color,t,r,i)),d=Object(b.b)(Object(b.d)(e.outlineColor,t,r,i)),y={color:g,size:m,horizontalAlignment:u,verticalAlignment:f,font:{family:o,style:c,weight:l,decoration:h},halo:{size:Object(b.d)(e.outlineSize,t,r,i)||0,color:d,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(s,y)}},{key:"_rasterizePictureResource",value:function(e,t,a,i,n,s){var o=document.createElement("canvas"),c=o.getContext("2d");o.height=Object(m.g)(Math.max(Math.abs(n.frame.ymax-n.frame.ymin),s)),o.width=Object(m.g)(Math.abs(n.frame.xmax-n.frame.xmin));var l=c.createImageData(a,i);l.data.set(new Uint8ClampedArray(t.buffer));var h=this._imageDataToCanvas(l),u=c.createPattern(h,"repeat"),g=Math.cos((-e.cim.rotation||0)*Math.PI/180),d=Math.sin((-e.cim.rotation||0)*Math.PI/180);u.setTransform({m11:g,m12:d,m21:-d,m22:g,m41:Object(m.g)(e.cim.offsetX)||0,m42:Object(m.g)(e.cim.offsetY)||0});var y,v,p,b=n.canvasPaths;Object(f.g)(b)?(y=b.rings,c.fillStyle=u,v=c.fill,p=["evenodd"]):Object(f.h)(b)&&(y=b.paths,c.strokeStyle=u,c.lineWidth=s,v=c.stroke,y[0][0][1]=o.height/2,y[0][1][1]=o.height/2),c.beginPath();var x,C=Object(r.a)(y);try{for(C.s();!(x=C.n()).done;){var z=x.value,M=z?z.length:0;if(M>1){var O=z[0];c.moveTo(Object(m.g)(O[0]),Object(m.g)(O[1]));for(var j=1;j<M;++j)O=z[j],c.lineTo(Object(m.g)(O[0]),Object(m.g)(O[1]));c.closePath()}}}catch(I){C.e(I)}finally{C.f()}v.apply(c,p);var w=c.getImageData(0,0,o.width,o.height),k=new Uint8Array(w.data);return{size:[o.width,o.height],image:new Uint32Array(k.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}},{key:"_getPictureResource",value:function(e,t){var a=this._pictureMarkerCache.get(e.materialHash);if(!a)return null;var r=a.height/a.width,i=t?r>1?Object(m.g)(t):Object(m.g)(t)/r:a.width,n=t?r>1?Object(m.g)(t)*r:Object(m.g)(t):a.height;return{image:this._imageTo32Array(a,i,n),width:i,height:n}}},{key:"_embedCIMLayerInVectorMarker",value:function(e,t){var a=Object(f.g)(t.geometry)?"CIMPolygonSymbol":"CIMLineSymbol";return{type:"CIMVectorMarker",frame:t.frame,markerGraphics:[{type:"CIMMarkerGraphic",geometry:t.geometry,symbol:{type:a,symbolLayers:[e]}}]}}}]),e}();function _(e){return(e?Object.keys(e):[]).map((function(t){return{name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"}}))}function R(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function A(e,t,a,r){var i,n;return"function"==typeof e.materialHash?(i=(0,e.materialHash)(t,a,r),n=Object(g.a)(e.cim,e.materialOverrides)):(i=e.materialHash,n=e.cim),{analyzedCIM:n,hash:i}}}}]);
//# sourceMappingURL=42.cca3d4cf.chunk.js.map