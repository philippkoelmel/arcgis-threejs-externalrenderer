{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/support/floorFilterUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js"],"names":["Q","r","getLogger","q","_","D","arguments","type","lodFactor","progressiveLoadFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","_interactiveEditingSessions","Map","_queryEngine","i","this","viewFilter","filter","e","s","f","checkSupport","layerFieldsIndex","layer","fieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","t","logError","fieldsHelper","requiredFields","x","a","create","view","qualitySettings","sceneService","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","j","layerView","updatingHandles","add","_rangeInfosChanged","addPromise","_rendererChange","_filterChange","_geometryFilterChange","handles","on","result","_handleEdits","o","length","warn","outFields","returnGeometry","outSpatialReference","spatialReference","createQuery","u","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","then","features","sourceLayer","executeQueryForIds","_createQueryEngine","y","renderSpatialReference","_collection","g","priority","C","FEATURE_QUERY_ENGINE","spatialIndex","F","featureAdapter","m","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","sourceSpatialReference","v","viewSpatialReference","_highlights","acquireSet","set","handle","queryObjectIds","setFeatureIds","p","attributeEditingContext","_controller","rootNodeVisible","floorFilterClause","parsedDefinitionExpression","addFilters","crsIndex","_addDefinitionExpressionToQuery","from","sessions","_getObjectIdField","forEachNode","_forAllNodes","node","featureIds","i3slayer","attributeOverrides","getAttributeData","setAttributeData","clearMemCache","c","parsedGeometry","isMBSGeoemtryVisible","d","w","S","h","I","n","aliasOf","prototype","E","b","availableFields","readOnly","O","l","geometryBuffer","transferList","byteLength","_malloc","Uint8Array","HEAPU8","buffer","dracoDecompressPointCloudData","_free","error","positions","push","setLegacySchema","context","jsonSchema","modifications","Float64Array","setModifications","isGeodetic","localOrigin","globalTrafo","mbs","obb","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","A","byteOffset","center","halfSize","quaternion","L","T","isDraco","isLegacy","color","layouts","some","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","P","componentOffsets","U","B","interleavedVertedData","indicesType","Uint16Array","indices","Uint32Array","positionIndicesType","positionIndices","M","layout","interleavedVertexData","hasColors","hasModifications","positionData","data","transformedGeometry","filterOBBs","destroy","Promise","resolve","default","locateFile","onRuntimeInitialized","catch","reject","transform","popupTemplate","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","has","indexOf","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","where","geometry","spatialRelationship","hiddenIds","Set","distance","objectIds","units","timeExtent","enabled","_set","String","types","json","read","write","source","reader","target","writer","Array","Number","overridePolicy","floorInfo","floorField","floors","definitionExpression","map","join","getComponentAabb","getObjectTransform","rotationScale","position","featureExtents","POSITIVE_INFINITY","objectHandle","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","get","usage","size","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","encoding","encodings","material","textures","sort","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","pop","isArray","href","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","compressedTextureS3TC","compressedTextureETC","find","Blob","url","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","resources","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","itemRelativeUrl","toAdd","content","finish","R","JSON","stringify","toJSON","responseType","toLowerCase","equals","messages","modification","nonNullable","_map","toArray","clear","emit","added","removed","objectId","refCount","delete","values","referenceCount","callbacks","runIndex","registerTask","I3S_CONTROLLER","remove","needsUpdate","numIndexLoading","numNodesLoading","done","update","unshift","renderMbs","imModificationImpact","childCount","level","version","lodMetric","maxError","numFeatures","failed","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","N","rootPage","nodes","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","mesh","attribute","hasSharedResource","hasFeatureData","attributes","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","Math","max","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","attributeData","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","sqrt","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","geometryDefinitions","textureSetDefinitions","materialAndTextures","key","load","loadAttribute","value","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","$","loadFeatureData","geometries","featureDataPosition","loadTextures","k","loadedAttributes","attributeDataInfo","requiredTextures","pointData","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","loadTexture","hrefConcat","substring","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","apiKey","activeRequests","busy","abort","query","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","hide","field","_getRequiredAttributes","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","suspended","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","visible","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","updateStats","disableUpdates","layerFilterChanged","constructOnly","dependsOn","every","factorIM","factor3dObject","J","clone","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","associatedLayer","cacheHint","reduce","ok","loaded","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","_definitionExpressionErrors","_maxDefinitionExpressionErrors","isStandardized","missingFields","testFeature","popupEnabled","_validateFetchPopupFeatures","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","_limit","_all","_active","_pending","_handle","_handleChanges","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","offset","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeographic","broadcast","rings","getItemAt","ids","paused","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","viewingMode","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","EventedMixin","layerUid","sublayerUid","traverseNodeHierarchy","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","metadata","nodeIndex","componentIndex","dist","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","preLoadBasis","oe","_worker","X","promise","be","ye","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","componentObjectCollection","re","_forAllFeaturesOfNode","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_updatePBR","_suspendedChange","_labelingChanged","_modificationsChanged","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_addMetaToLabeler","_hasModifications","Z","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","mask","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","Ue","hasTexture","Ye","hasNormals","hasRegions","Pe","He","_getGeometryParameters","De","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","ge","Te","extents","orientation","slice","call","Me","_getVertexBufferLayout","crsVertex","pe","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","_materialParameters","stride","vertices","count","layoutParameters","geometryParams","transformation","G","errorOnce","createObject","toMapSpace","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","W","isOpaque","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","castShadows","pickable","getSymbol","arcade","we","Je","colorMixMode","edgeMaterial","Se","_getSymbolInfo","Qe","se","alpha","opacity","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","getUnloadedMemory","MemCache","hitRate","IDBCache","getHitRate","controller","visibleObjectIds","numNodes","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","te","ie","Ae","Boolean","_projectionEngineLoaded","_geometryEngine","sortedObjectIds","parsedWhereClause","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangle","triangleTest","geometryTest","getComponentPositions","_geVersion","isWGS84","geodesicBuffer","WGS84","wkid","aabr","splice","isWebMercator","_dataQueryEngineInstance","ensureDataQueryEngine","dataQueryEngine","_ensureQueryJSON","fromJSON","returnCentroid","defaultQueryJSON","geometryType","timeInfo","featureStore","setAttribute","createInteractiveEditSession","findIndex","updateFeatures","updatedFeatures","normalizeFieldName","featureId","Error","asyncUpdateState","updateAsync","startAsyncUpdate","declaredClass","endAsyncUpdate","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","autoUpdateAsync","renderer","collectRequiredFields","labelsVisible"],"mappings":"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","file":"static/js/47.9dd28bb3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isSome as i,isNone as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import u from\"../../../rest/support/Query.js\";import{I3SMeshView3D as d}from\"./I3SMeshView3D.js\";import{LayerView3D as h}from\"./LayerView3D.js\";import{createInteractiveEditSession as p,processAttributeEdits as c}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as y}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as f}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as m}from\"./i3s/I3SQueryFeatureAdapter.js\";import F from\"./i3s/I3SQueryFeatureStore.js\";import{getIndexCrs as v}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as w}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as _}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as j}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as E}from\"../support/updatingProperties.js\";import I from\"../../layers/SceneLayerView.js\";import b from\"../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as x}from\"../../support/floorFilterUtils.js\";import{TaskPriority as C}from\"../../support/Scheduler.js\";const Q=r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),q=_();let D=class extends(d(w(S(h(I))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.lodFactor=1,this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get filter(){return i(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!s(e)&&f.checkSupport(e)?i(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new f({filter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):this.viewFilter=null}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get floorFilterClause(){const e=x(this);return i(e)?a.create(e,this.layer.fieldsIndex):null}get lodCrossfadeinDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration)?e:0}get lodCrossfadeoutDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration)?e:0}get lodCrossfadeUncoveredDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration)?e:0}initialize(){this.fieldsHelper=new j({layerView:this}),this.updatingHandles.add(this.layer,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(this.layer,\"renderer\",(e=>this.updatingHandles.addPromise(this._rendererChange(e))),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\",\"floorFilterClause\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));for(const e of[\"filter\",\"viewFilter.parsedGeometry\"])this.updatingHandles.add(this,e,(()=>this._geometryFilterChange()));this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this.fieldsHelper=o(this.fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&Q.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return i(this.filter)?this.filter.createQuery(e):new u(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==t?void 0:t.signal).then((e=>{if(null==e||!e.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=y(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:C.FEATURE_QUERY_ENGINE,spatialIndex:new F({featureAdapter:new m({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,2),getFeatureExtent:e,sourceSpatialReference:v(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof u){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return p(this.attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters();return this.floorFilterClause&&this.addSqlFilter(e,this.floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),i(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}_ensureQuery(e){return this._addDefinitionExpressionToQuery(s(e)?this.createQuery():u.from(e))}get attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>i(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this.attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){c(this.attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return i(e)&&i(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return s(t)||t.isMBSGeoemtryVisible(e,this.view.spatialReference,this._controller.crsIndex)?0:1}};e([n({aliasOf:\"layer\"})],D.prototype,\"i3slayer\",void 0),e([n()],D.prototype,\"suspended\",void 0),e([n(E)],D.prototype,\"updatingProgress\",void 0),e([n({type:b})],D.prototype,\"filter\",null),e([n()],D.prototype,\"viewFilter\",void 0),e([n(q.requiredFields)],D.prototype,\"requiredFields\",null),e([n(q.availableFields)],D.prototype,\"availableFields\",void 0),e([n()],D.prototype,\"fieldsHelper\",void 0),e([n()],D.prototype,\"floorFilterClause\",null),e([n({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],D.prototype,\"lodFactor\",void 0),e([n({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],D.prototype,\"updatingProgressValue\",void 0),D=e([l(\"esri.views.3d.layers.SceneLayerView3D\")],D);var O=D;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if(\"floorInfo\"in l&&null!=(n=l.floorInfo)&&n.floorField&&\"floors\"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return\"floorInfo\"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{l as combineFloorsDefinitionExpression,o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],n=[],l=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fieldsIndex,await i(l,a(this.layer,r)));await this.prepareFetchPopupFeatures(h);const y=new Set;for(const s of c)p(h,s,y)?n.push(s):u.push(s);return 0===n.length?Promise.resolve(u):this.whenGraphicAttributes(n,[...y]).catch((()=>n)).then((e=>u.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{project as F}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as E,filterInPlace as I}from\"./I3SUtil.js\";import x from\"../../../layers/support/FeatureFilter.js\";import M from\"../../../../geometry/SpatialReference.js\";const _=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let v,O=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(G().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){_.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>E(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>A(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,T,i))return _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return C(T,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return L(n,s);const c=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return L(this._geometryEngine.geodesicBuffer(n,t,c),s)}const l=F(n,M.WGS84);if(o(l)){return L(F(this._geometryEngine.geodesicBuffer(l,t,c),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=m(n,M.WGS84)}catch(u){}if(p)try{p=m(this._geometryEngine.geodesicBuffer(p,t,c),n.spatialReference)}catch(u){p=null}return p||_.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),L(p,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(_.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!B(e.spatialRelationship)||(_.warn(`Filters with spatialRelationship other than ${W.join(\", \")} are not supported for mesh scene layers`),!1)}};function k(){return!!v}async function G(){return k()||(v=await import(\"../../../../geometry/geometryEngine.js\")),v}e([l({type:x})],O.prototype,\"filter\",void 0),e([l()],O.prototype,\"layerFieldsIndex\",void 0),e([l()],O.prototype,\"loadAsyncModule\",void 0),e([l()],O.prototype,\"applyFilters\",void 0),e([l()],O.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],O.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],O.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],O.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],O.prototype,\"spatialRelationship\",null),e([l()],O.prototype,\"_projectionEngineLoaded\",void 0),e([l()],O.prototype,\"_geometryEngine\",void 0),O=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],O);const W=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function B(e){return null!=e&&W.indexOf(e)>=0}function L(e,t){if(i(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new r;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;n.add(e)}n.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])n.delete(e);else if(v.intersects(r,e)){r.rings=r.rings.concat(e.rings),w(r.aabr,e.aabr,r.aabr),delete r._geVersion,n.delete(e);const o=s(t,e,t.length,i);t.splice(o,1)}})),n.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function C(e,t,r,s){const n=U(e,r);return t.every((e=>1!==q(e,n,s)))}function A(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,T,a))return void _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(T,a),l=V(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(q(p,c,o)){case 1:return void(e.length=0);case 0:continue}I(e,t.featureIds,(e=>H(p,e,l)))}}const T=[0,0,0,0];function V(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>v.intersects(e,t)?0:2,p=Z;break;case\"contains\":l=(e,t)=>v.contains(e,t)?2:1,p=Z;break;default:l=(e,t)=>v.disjoint(e,t)?2:1,p=$}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?v.buffer(r,e[3],1):v.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return Z(e,t);case\"disjoint\":return $(e,t)}}function Z(e,t){return v.intersects(e,t)?v.contains(e,t)?0:2:1}function $(e,t){return v.intersects(e,t)?v.contains(e,t)?1:2:0}const z=2**-32;function H(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,P);const r=[[P[0],P[1],0],[P[0],P[4],0],[P[3],P[4],0],[P[3],P[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<z))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}return\"intersects\"!==r.type}const P=b();export{O as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:i.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([a(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export{p as I3SQueryEngine,d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{create as n,toRect as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as i,intersects as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return u(e,p(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=n(),d=i();var h=m;export{m as I3SQueryFeatureStore,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};function s(e,r){const s=r.attributes[e.objectIdField],i=e.sessions.get(s);if(i)return i;const a=t(r.attributes),u=new Set;if(null==s)return o;const c=e.attributeOverrides.createInteractiveEditSession(s),f=new Map,l=(t,e)=>{const n=f.get(t);if(null==n){const n=e.indexOf(s);return f.set(t,n),n}return n};let d=0;const b={setAttribute(t,o){if(0!==d)return;const s=e.fieldsIndex.get(t);if(n(s))return;const i=e.attributeStorageInfo.findIndex((t=>t.name===s.name));if(i<0)return;c.set(i,o);const a=e.attributeStorageInfo[i];let f=!1;u.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[a.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),f=!0)}})),f&&e.clearMemCache()},rollback(){if(0===d){for(const t of u)this.setAttribute(t,a[t]);c.rollback(),d=1,e.sessions.delete(s)}},commit(){0===d&&(c.commit(),d=2,e.sessions.delete(s))}};return e.sessions.set(s,b),b}function i(t,n){const r=a(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function a(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new d;const o=f(e),s=new d,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,c=t.objectIdField,l=n.filter((t=>{const e=r(a,t.attributes,c);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of l){const f=r(a,i.attributes,c);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=u(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function u(t,e,n){const r=c(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function c(t,e){const n=t.get(e);if(n)return n;const r=new l;return t.set(e,r),r}function f(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}const l=Map,d=Map;export{s as createInteractiveEditSession,i as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import e from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as n}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=s=>{let a=class extends s{constructor(){super(...arguments),this.asyncUpdateState=new Map}autoUpdateAsync(t,s){return o((s=>this.updateAsync(t,s)),s)}async updateAsync(t,s){if(!this.startAsyncUpdate(t)){try{const e=await s();this._set(t,e)}catch(a){e.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(t)&&this.updateAsync(t,s)}}startAsyncUpdate(t){var s;const e=null!=(s=this.asyncUpdateState.get(t))?s:0;return 1&e?(this.asyncUpdateState.set(t,2|e),!0):(this.asyncUpdateState.set(t,1|e),!1)}endAsyncUpdate(t){var s;const e=-2&(null!=(s=this.asyncUpdateState.get(t))?s:0);return 2&e?(this.asyncUpdateState.set(t,-3&e),!0):(this.asyncUpdateState.set(t,e),!1)}};return a=t([r(\"esri.core.AsyncUpdate\")],a),a};function o(t,s){const e=()=>{o&&!p&&t(r)},r=()=>{if(!o||p)return s();o.clear(),p=!0;const t=a(o,s);return p=!1,t},c=()=>{o&&(o.destroy(),o=null)};let o=new n(e),p=!1;return t(r),{remove:c}}let p=class extends(c(s)){};p=t([r(\"esri.core.AsyncUpdate\")],p);export{p as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as d,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return d(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>a(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n"],"sourceRoot":""}