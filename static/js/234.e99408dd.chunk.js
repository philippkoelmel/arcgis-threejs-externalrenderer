/*! For license information please see 234.e99408dd.chunk.js.LICENSE.txt */
(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[234],{1201:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m_}));var r,o,i,a,s,l=n(2),c=n(6),u=n(7),d=n(267),f=n(14),h=n(11),p=n(3),v=n(62),g=n(255),m=n(703),b=n(233),y=n(700),w=n(444),O=n(111),_=n(122),k=n(195),j=n(196),x=n(141),S=n(79),T=(n(138),n(118),n(125)),A=n(155),E=n(433),I=n(490),$=null!=(r=null==(o=O.a.esriConfig)?void 0:o.locale)?r:null==(i=O.a.dojoConfig)?void 0:i.locale;function M(){var e,t;return null!=(e=null!=$?$:null==(t=O.a.navigator)?void 0:t.language)?e:"en"}function C(){return void 0===s&&(s=M()),s}var D=[];var L=[];function N(e){return L.push(e),{remove:function(){D.splice(L.indexOf(e),1)}}}function P(){var e,t=null!=(e=a)?e:M();s!==t&&(s=t,[].concat(L).forEach((function(e){e.call(null,t)})),[].concat(D).forEach((function(e){e.call(null,t)})))}null==O.a.addEventListener||O.a.addEventListener("languagechange",P);var R={year:"numeric",month:"numeric",day:"numeric"},U={year:"numeric",month:"long",day:"numeric"},H={year:"numeric",month:"short",day:"numeric"},F={year:"numeric",month:"long",weekday:"long",day:"numeric"},B={hour:"numeric",minute:"numeric"},q=Object(f.a)(Object(f.a)({},B),{},{second:"numeric"}),z={"short-date":R,"short-date-short-time":Object(f.a)(Object(f.a)({},R),B),"short-date-short-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},R),B),{},{hour12:!1}),"short-date-long-time":Object(f.a)(Object(f.a)({},R),q),"short-date-long-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},R),q),{},{hour12:!1}),"short-date-le":R,"short-date-le-short-time":Object(f.a)(Object(f.a)({},R),B),"short-date-le-short-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},R),B),{},{hour12:!1}),"short-date-le-long-time":Object(f.a)(Object(f.a)({},R),q),"short-date-le-long-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},R),q),{},{hour12:!1}),"long-month-day-year":U,"long-month-day-year-short-time":Object(f.a)(Object(f.a)({},U),B),"long-month-day-year-short-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},U),B),{},{hour12:!1}),"long-month-day-year-long-time":Object(f.a)(Object(f.a)({},U),q),"long-month-day-year-long-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},U),q),{},{hour12:!1}),"day-short-month-year":H,"day-short-month-year-short-time":Object(f.a)(Object(f.a)({},H),B),"day-short-month-year-short-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},H),B),{},{hour12:!1}),"day-short-month-year-long-time":Object(f.a)(Object(f.a)({},H),q),"day-short-month-year-long-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},H),q),{},{hour12:!1}),"long-date":F,"long-date-short-time":Object(f.a)(Object(f.a)({},F),B),"long-date-short-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},F),B),{},{hour12:!1}),"long-date-long-time":Object(f.a)(Object(f.a)({},F),q),"long-date-long-time-24":Object(f.a)(Object(f.a)(Object(f.a)({},F),q),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":B,"long-time":q},W=Object(I.a)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),V=(W.apiValues,W.toJSON.bind(W),W.fromJSON.bind(W),{ar:"ar-u-nu-latn-ca-gregory"}),G=new WeakMap,Y=z["short-date-short-time"];function X(e,t){return function(e){var t=e||Y;if(!G.has(t)){var n=C(),r=V[C()]||n;G.set(t,new Intl.DateTimeFormat(r,t))}return G.get(t)}(t).format(e)}N((function(){G=new WeakMap,Y=z["short-date-short-time"]}));var J=n(48),K={ar:"ar-u-nu-latn"},Z=new WeakMap,Q={};function ee(e,t){return function(e){var t=e||Q;if(!Z.has(t)){var n=C(),r=K[C()]||n;Z.set(t,new Intl.NumberFormat(r,e))}return Object(J.a)(Z.get(t))}(t).format(e)}N((function(){Z=new WeakMap,Q={}}));var te=T.a.getLogger("esri.intl");function ne(e,t,n){var r,o,i=e.indexOf(":");if(-1===i?r=e.trim():(r=e.slice(0,i).trim(),o=e.slice(i+1).trim()),!r)return"";var a=Object(k.b)(r,t);if(null==a)return"";var s=n[o]||n[r];return s?function(e,t){switch(t.type){case"date":return X(e,t.intlOptions);case"number":return ee(e,t.intlOptions);default:return te.warn("missing format descriptor for key {key}"),re(e)}}(a,s):o?function(e,t){switch(t.toLowerCase()){case"dateformat":return X(e);case"numberformat":return ee(e);default:return te.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?X(e):/^numberformat/i.test(t)?ee(e):re(e)}}(a,o):re(a)}function re(e){switch(typeof e){case"string":return e;case"number":return ee(e);case"boolean":return""+e;default:return e instanceof Date?X(e):""}}var oe=n(8),ie=n.n(oe),ae=n(15),se=n(19),le=n(29),ce=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ue={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function de(e){var t;return null!=(t=ue[e])&&t}var fe=[],he=new Map;function pe(e){var t,n=Object(h.a)(he.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;we(e.pattern,r)&&he.delete(r)}}catch(o){n.e(o)}finally{n.f()}}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(ae.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),he.has(t)||he.set(t,be(t,n)),r=he.get(t),e.next=5,Oe.add(r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){if(!ce.test(e))return null;var t=ce.exec(e),n=Object(le.a)(t,3),r=n[1],o=n[2],i=r+(o?"-"+o.toUpperCase():"");return de(i)?i:de(r)?r:null}function be(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(ae.a)(ie.a.mark((function e(t,n){var r,o,i,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=Object(h.a)(fe),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=18;break}if(!we((a=i.value).pattern,t)){e.next=16;break}return e.prev=7,e.next=10,a.fetchMessageBundle(t,n);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7),r.push(e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),o.e(e.t1);case 23:return e.prev=23,o.f(),e.finish(23);case 26:if(!r.length){e.next=28;break}throw new b.a("intl:message-bundle-error",'Errors occurred while loading "'.concat(t,'"'),{errors:r});case 28:throw new b.a("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(t,'"'));case 29:case"end":return e.stop()}}),e,null,[[2,20,23,26],[7,13]])})))).apply(this,arguments)}function we(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}N((function(){he.clear()}));var Oe=new(function(){function e(){Object(l.a)(this,e),this._numLoading=0}return Object(p.a)(e,[{key:"waitForAll",value:function(){var e=Object(ae.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._dfd,!e.t0){e.next=4;break}return e.next=4,this._dfd.promise;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e){var t=this;return this._increase(),e.then((function(){return t._decrease()}),(function(){return t._decrease()})),this.waitForAll()}},{key:"_increase",value:function(){this._numLoading++,this._dfd||(this._dfd=Object(j.c)())}},{key:"_decrease",value:function(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}]),e}());function _e(){return(_e=Object(ae.a)(ie.a.mark((function e(t,n,r,o){var i,a,s,l,c,u,d;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.exec(r)){e.next=3;break}throw new b.a("esri-intl:invalid-bundle",'Bundle id "'.concat(r,'" is not compatible with the pattern "').concat(n,'"'));case 3:return a=i[1]?"".concat(i[1],"/"):"",s=i[2],l=me(o),c="".concat(a).concat(s,".json"),u=l?"".concat(a).concat(s,"_").concat(l,".json"):c,e.prev=4,e.next=7,ke(t(u));case 7:case 17:d=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),u!==c){e.next=14;break}throw new b.a("intl:unknown-bundle",'Bundle "'.concat(r,'" cannot be loaded'),{error:e.t0});case 14:return e.prev=14,e.next=17,ke(t(c));case 20:throw e.prev=20,e.t1=e.catch(14),new b.a("intl:unknown-bundle",'Bundle "'.concat(r,'" cannot be loaded'),{error:e.t1});case 23:return e.abrupt("return",d);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])})))).apply(this,arguments)}function ke(e){return je.apply(this,arguments)}function je(){return(je=Object(ae.a)(ie.a.mark((function e(t){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(J.c)(Ae.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",Ae.fetchBundleAsset(t));case 2:return e.next=4,Object(m.default)(t,{responseType:"text"});case 4:return n=e.sent,e.abrupt("return",JSON.parse(n.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=function(){function e(t){var n,r=t.base,o=void 0===r?"":r,i=t.pattern,a=t.location,s=void 0===a?new URL(window.location.href):a;Object(l.a)(this,e),n="string"==typeof s?function(e){return new URL(e,new URL(s,O.a.location)).href}:s instanceof URL?function(e){return new URL(e,s).href}:s,this.pattern="string"==typeof i?new RegExp("^".concat(i)):i,this.getAssetUrl=n,o=o?o.endsWith("/")?o:o+"/":"",this.matcher=new RegExp("^".concat(o,"(?:(.*)/)?(.*)$"))}return Object(p.a)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,n,r){return _e.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();var Se,Te,Ae={},Ee=n(699);Te={pattern:"esri/",location:Ee.a},Se=new xe(Te),fe.includes(Se)||(pe(Se),fe.unshift(Se));var Ie=n(698);!function(){if("function"==typeof Element.prototype.closest)return function(e,t){return e.closest(t)};var e=Element.prototype.matches||Element.prototype.msMatchesSelector}();var $e=n(525),Me=n(623),Ce=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._groups=new Map,r}return Object(p.a)(n,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var n=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!Me.a.isCollection(e))return this;var r=this._getOrCreateGroup(t);return Array.isArray(e)||Me.a.isCollection(e)?e.forEach((function(e){return n._isHandle(e)&&r.push(e)})):r.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var n=this._getGroup(e);n&&t&&n.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||Me.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),n=0;n<t.length;n++)t[n].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return Object(J.a)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),n}($e.a);Object(v.a)([Object(S.a)({readOnly:!0})],Ce.prototype,"size",null);var De=Ce=Object(v.a)([Object(A.a)("esri.core.Handles")],Ce),Le=n(42),Ne=function(){function e(t){var n=this;Object(l.a)(this,e),this.instance=t,this._resolver=Object(j.c)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((function(){n._status=1,n._cleanUp()}),(function(){n._status=2,n._cleanUp()}))}return Object(p.a)(e,[{key:"addResolvingPromise",value:function(e){this._resolvingPromises.push(e),this._tryResolve()}},{key:"isResolved",value:function(){return 1===this._status}},{key:"isRejected",value:function(){return 2===this._status}},{key:"isFulfilled",value:function(){return 0!==this._status}},{key:"abort",value:function(){this._resolver.reject(Object(j.b)())}},{key:"when",value:function(e,t){return this._resolver.promise.then(e,t)}},{key:"_cleanUp",value:function(){this._allPromise=this._resolvingPromises=this._allPromise=null}},{key:"_tryResolve",value:function(){var e=this;if(!this.isFulfilled()){var t=Object(j.c)(),n=[].concat(Object(Le.a)(this._resolvingPromises),[Object(J.a)(t.promise)]),r=this._allPromise=Promise.all(n);r.then((function(){e.isFulfilled()||e._allPromise!==r||e._resolver.resolve(e.instance)}),(function(t){e.isFulfilled()||e._allPromise!==r||Object(j.g)(t)||e._resolver.reject(t)})),t.resolve()}}}]),e}(),Pe=function(e){var t=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._promiseProps=new Ne(Object(se.a)(e)),e.addResolvingPromise(Promise.resolve()),e}return Object(p.a)(n,[{key:"isResolved",value:function(){return this._promiseProps.isResolved()}},{key:"isRejected",value:function(){return this._promiseProps.isRejected()}},{key:"isFulfilled",value:function(){return this._promiseProps.isFulfilled()}},{key:"when",value:function(e,t){var n=this;return new Promise((function(e,t){n._promiseProps.when(e,t)})).then(e,t)}},{key:"catch",value:function(e){return this.when(null,e)}},{key:"addResolvingPromise",value:function(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}}]),n}(e);return t=Object(v.a)([Object(A.a)("esri.core.Promise")],t)},Re=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return n}(Pe($e.a));Re=Object(v.a)([Object(A.a)("esri.core.Promise")],Re);var Ue=O.a.crypto||O.a.msCrypto,He=n(748),Fe=n(745),Be=n(91),qe=n(587);var ze,We,Ve=Function.prototype,Ge=Object.prototype,Ye=Ve.toString,Xe=Ge.hasOwnProperty,Je=Ye.call(Object),Ke=Ge.toString,Ze=(ze=Object.getPrototypeOf,We=Object,function(e){return ze(We(e))});var Qe=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=Ke.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(Te){}return t}(e))return!1;var t=Ze(e);if(null===t)return!0;var n=Xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ye.call(n)==Je},et={exports:{}},tt={},nt={exports:{}},rt={};function ot(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var it=/javascript\s*\:/gim;rt.whiteList=ot(),rt.getDefaultWhiteList=ot,rt.onAttr=function(e,t,n){},rt.onIgnoreAttr=function(e,t,n){},rt.safeAttrValue=function(e,t){return it.test(t)?"":t};var at={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var st=function(e,t){";"!==(e=at.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,o=0,i=0,a="";function s(){if(!r){var n=at.trim(e.slice(o,i)),s=n.indexOf(":");if(-1!==s){var l=at.trim(n.slice(0,s)),c=at.trim(n.slice(s+1));if(l){var u=t(o,a.length,l,c,n);u&&(a+=u+"; ")}}}o=i+1}for(;i<n;i++){var l=e[i];if("/"===l&&"*"===e[i+1]){var c=e.indexOf("*/",i+2);if(-1===c)break;o=(i=c+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||s():"\n"===l&&s()}return at.trim(a)},lt=rt,ct=st;function ut(e){return void 0===e||null===e}function dt(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||lt.whiteList,e.onAttr=e.onAttr||lt.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||lt.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||lt.safeAttrValue,this.options=e}dt.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr,i=t.safeAttrValue;return ct(e,(function(e,t,a,s,l){var c=n[a],u=!1;if(!0===c?u=c:"function"===typeof c?u=c(s):c instanceof RegExp&&(u=c.test(s)),!0!==u&&(u=!1),s=i(a,s)){var d,f={position:t,sourcePosition:e,source:l,isWhite:u};return u?ut(d=r(a,s,f))?a+":"+s:d:ut(d=o(a,s,f))?void 0:d}}))};var ft=dt;!function(e,t){var n=rt,r=ft;for(var o in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,n)t[o]=n[o]}(nt,nt.exports);var ht={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},pt=nt.exports.FilterCSS,vt=nt.exports.getDefaultWhiteList,gt=ht;function mt(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var bt=new pt;function yt(e){return e.replace(wt,"&lt;").replace(Ot,"&gt;")}var wt=/</g,Ot=/>/g,_t=/"/g,kt=/&quot;/g,jt=/&#([a-zA-Z0-9]*);?/gim,xt=/&colon;?/gim,St=/&newline;?/gim,Tt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,At=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Et=/u\s*r\s*l\s*\(.*/gi;function It(e){return e.replace(_t,"&quot;")}function $t(e){return e.replace(kt,'"')}function Mt(e){return e.replace(jt,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Ct(e){return e.replace(xt,":").replace(St," ")}function Dt(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return gt.trim(t)}function Lt(e){return e=Dt(e=Ct(e=Mt(e=$t(e))))}function Nt(e){return e=yt(e=It(e))}var Pt=/<!--[\s\S]*?-->/g;tt.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},tt.getDefaultWhiteList=mt,tt.onTag=function(e,t,n){},tt.onIgnoreTag=function(e,t,n){},tt.onTagAttr=function(e,t,n){},tt.onIgnoreTagAttr=function(e,t,n){},tt.safeAttrValue=function(e,t,n,r){if(n=Lt(n),"href"===t||"src"===t){if("#"===(n=gt.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(Tt.lastIndex=0,Tt.test(n))return""}else if("style"===t){if(At.lastIndex=0,At.test(n))return"";if(Et.lastIndex=0,Et.test(n)&&(Tt.lastIndex=0,Tt.test(n)))return"";!1!==r&&(n=(r=r||bt).process(n))}return n=Nt(n)},tt.escapeHtml=yt,tt.escapeQuote=It,tt.unescapeQuote=$t,tt.escapeHtmlEntities=Mt,tt.escapeDangerHtml5Entities=Ct,tt.clearNonPrintableCharacter=Dt,tt.friendlyAttrValue=Lt,tt.escapeAttrValue=Nt,tt.onIgnoreTagStripAll=function(){return""},tt.StripTagBody=function(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(i,a,s){if(function(t){return!!n||-1!==gt.indexOf(e,t)}(i)){if(s.isClosing){var l="[/removed]",c=s.position+l.length;return r.push([!1!==o?o:s.position,c]),o=!1,l}return o||(o=s.position),"[removed]"}return t(i,a,s)},remove:function(e){var t="",n=0;return gt.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},tt.stripCommentTag=function(e){return e.replace(Pt,"")},tt.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},tt.cssFilter=bt,tt.getDefaultCSSWhiteList=vt;var Rt={},Ut=ht;function Ht(e){var t=Ut.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=Ut.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function Ft(e){return"</"===e.slice(0,2)}var Bt=/[^a-zA-Z0-9_:\.\-]/gim;function qt(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function zt(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function Wt(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Rt.parseTag=function(e,t,n){var r="",o=0,i=!1,a=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(!1===i){if("<"===d){i=s;continue}}else if(!1===a){if("<"===d){r+=n(e.slice(o,s)),i=s,o=s;continue}if(">"===d){r+=n(e.slice(o,i)),c=Ht(u=e.slice(i,s+1)),r+=t(i,r.length,c,u,Ft(u)),o=s+1,i=!1;continue}if('"'===d||"'"===d)for(var f=1,h=e.charAt(s-f);""===h.trim()||"="===h;){if("="===h){a=d;continue e}h=e.charAt(s-++f)}}else if(d===a){a=!1;continue}}return o<e.length&&(r+=n(e.substr(o))),r},Rt.parseAttr=function(e,t){var n=0,r=[],o=!1,i=e.length;function a(e,n){if(!((e=(e=Ut.trim(e)).replace(Bt,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var s=0;s<i;s++){var l,c=e.charAt(s);if(!1!==o||"="!==c)if(!1===o||s!==n||'"'!==c&&"'"!==c||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(l=qt(e,s))){a(Ut.trim(e.slice(n,s))),o=!1,n=s+1;continue}s=l-1;continue}if(-1===(l=zt(e,s-1))){a(o,Wt(Ut.trim(e.slice(n,s)))),o=!1,n=s+1;continue}}else;else{if(-1===(l=e.indexOf(c,s+1)))break;a(o,Ut.trim(e.slice(n+1,l))),o=!1,n=(s=l)+1}else o=e.slice(n,s),n=s+1}return n<e.length&&(!1===o?a(e.slice(n)):a(o,Wt(Ut.trim(e.slice(n))))),Ut.trim(r.join(" "))};var Vt=nt.exports.FilterCSS,Gt=tt,Yt=Rt,Xt=Yt.parseTag,Jt=Yt.parseAttr,Kt=ht;function Zt(e){return void 0===e||null===e}function Qt(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Gt.onIgnoreTagStripAll),e.whiteList=e.whiteList||Gt.whiteList,e.onTag=e.onTag||Gt.onTag,e.onTagAttr=e.onTagAttr||Gt.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Gt.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Gt.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Gt.safeAttrValue,e.escapeHtml=e.escapeHtml||Gt.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Vt(e.css))}Qt.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,i=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Gt.stripBlankChar(e)),t.allowCommentTag||(e=Gt.stripCommentTag(e));var u=!1;if(t.stripIgnoreTagBody){u=Gt.StripTagBody(t.stripIgnoreTagBody,o);o=u.onIgnoreTag}var d=Xt(e,(function(e,t,u,d,f){var h,p={sourcePosition:e,position:t,isClosing:f,isWhite:n.hasOwnProperty(u)};if(!Zt(h=r(u,d,p)))return h;if(p.isWhite){if(p.isClosing)return"</"+u+">";var v=function(e){var t=Kt.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=Kt.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=Kt.trim(e.slice(0,-1))),{html:e,closing:n}}(d),g=n[u],m=Jt(v.html,(function(e,t){var n,r=-1!==Kt.indexOf(g,e);return Zt(n=i(u,e,t,r))?r?(t=s(u,e,t,c))?e+'="'+t+'"':e:Zt(n=a(u,e,t,r))?void 0:n:n}));d="<"+u;return m&&(d+=" "+m),v.closing&&(d+=" /"),d+=">"}return Zt(h=o(u,d,p))?l(d):h}),l);return u&&(d=u.remove(d)),d};var en=Qt;!function(e,t){var n=tt,r=Rt,o=en;function i(e,t){return new o(t).process(e)}for(var a in(t=e.exports=i).filterXSS=i,t.FilterXSS=o,n)t[a]=n[a];for(var a in r)t[a]=r[a];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(et,et.exports);var tn=function(){function e(e,t){var n,r=this;this.arcgisWhiteList={a:["href","target","style"],abbr:["title"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style","face"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,o){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?r.sanitizeUrl(n):et.exports.safeAttrValue(e,t,n,o)}},e&&!t?n=e:e&&t?(n=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]):n[t]=e[t]}))):(n=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=n,this._xssFilter=new et.exports.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?et.exports.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,n,r){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,n,r):et.exports.safeAttrValue(e,t,n,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this;void 0===t&&(t={});try{var r=!1,o=void 0;if(Array.isArray(e))o=e.reduce((function(e,o){var i=n.validate(o,t);return i.isValid?e.concat([o]):(r=!0,e.concat([i.sanitized]))}),[]);else{if(!Qe(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}o=Object.keys(e).reduce((function(o,i){var a=e[i],s=n.validate(a,t);return s.isValid?o[i]=a:(r=!0,o[i]=s.sanitized),o}),{})}return r?o:e}catch(i){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),nn=n(344);function rn(e){for(var t=nn.a.acquire(),n=0;n<arguments.length;n++){var r=arguments[n],o=typeof r;if("string"===o)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if("object"===o)for(var i in r)r[i]&&t.push(i)}var a=t.join(" ");return nn.a.release(t),a}function on(e){this[e.getAttribute("data-node-ref")]=e}T.a.getLogger("esri.widgets.support.widgetUtils");var an=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup"].concat(["animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"]).reduce((function(e,t){return e[t]=[],e}),{}),sn=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ln=new tn({whiteList:an,onTagAttr:function(e,t,n){var r="".concat(t,'="').concat(n,'"');if(sn.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function cn(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}var un,dn="http://www.w3.org/",fn="".concat(dn,"2000/svg"),hn="".concat(dn,"1999/xlink"),pn=[],vn=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),n},gn=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},mn=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},bn=function(e,t,n){if(""!==t.vnodeSelector)for(var r=n;r<e.length;r++)if(gn(e[r],t))return r;return-1},yn=function(e,t,n,r){var o=e[t];if(""!==o.vnodeSelector){var i=o.properties;if(!(i?void 0===i.key?i.bind:i.key:void 0))for(var a=0;a<e.length;a++)if(a!==t){var s=e[a];if(gn(s,o))throw new Error("".concat(n.vnodeSelector," had a ").concat(o.vnodeSelector," child ").concat("added"===r?r:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},wn=function(e){if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},On=[],_n=!1,kn=function e(t){(t.children||[]).forEach(e),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},jn=function(){_n=!1,On.forEach(kn),On.length=0},xn=function(e){On.push(e),_n||(_n=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(jn,{timeout:16}):setTimeout(jn,16))},Sn=function(e){var t=e.domNode;if(e.properties){var n=e.properties.exitAnimation;if(n){t.style.pointerEvents="none";return void n(t,(function(){t.parentNode&&(t.parentNode.removeChild(t),xn(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),xn(e))},Tn=function(e,t,n){(function(e,t,n){if(t){var r,o=Object(h.a)(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;An(i,e,void 0,n)}}catch(a){o.e(a)}finally{o.f()}}})(e,t.children,n),t.text&&(e.textContent=t.text),function(e,t,n){if(t)for(var r=n.eventHandlerInterceptor,o=Object.keys(t),i=o.length,a=function(i){var a=o[i],s=t[a];if("className"===a)throw new Error('Property "className" is not supported, use "class".');if("class"===a)En(e,s,!0);else if("classes"===a)for(var l=Object.keys(s),c=l.length,u=0;u<c;u++){var d=l[u];s[d]&&e.classList.add(d)}else if("styles"===a)for(var f=Object.keys(s),h=f.length,p=0;p<h;p++){var v=f[p],g=s[v];g&&(mn(g),n.styleApplyer(e,v,g))}else if("key"!==a&&null!=s){var m=typeof s;"function"===m?(0===a.lastIndexOf("on",0)&&(r&&(s=r(a,s,e,t)),"oninput"===a&&function(){var e=s;s=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[a]=s):n.namespace===fn?"href"===a?e.setAttributeNS(hn,a,s):e.setAttribute(a,s):"string"===m&&"value"!==a?"innerHTML"===a?e[a]=ln.sanitize(s):e.setAttribute(a,s):e[a]=s}},s=0;s<i;s++)a(s)}(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},An=function(e,t,n,r){var o,i=0,a=e.vnodeSelector,s=t.ownerDocument;if(""===a)o=e.domNode=s.createTextNode(e.text),void 0!==n?t.insertBefore(o,n):t.appendChild(o);else{for(var l=0;l<=a.length;++l){var c=a.charAt(l);if(l===a.length||"."===c||"#"===c){var u=a.charAt(i-1),d=a.slice(i,l);"."===u?o.classList.add(d):"#"===u?o.id=d:("svg"===d&&(r=vn(r,{namespace:fn})),void 0!==r.namespace?o=e.domNode=s.createElementNS(r.namespace,d):(o=e.domNode=e.domNode||s.createElement(d),"input"===d&&e.properties&&void 0!==e.properties.type&&o.setAttribute("type",e.properties.type)),void 0!==n?t.insertBefore(o,n):o.parentNode!==t&&t.appendChild(o)),i=l+1}}Tn(o,e,r)}},En=function(e,t,n){t&&t.split(" ").forEach((function(t){t&&e.classList.toggle(t,n)}))};un=function(e,t,n){var r=e.domNode,o=!1;if(e===t)return!1;var i=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var a=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(a,r),t.domNode=a,o=!0}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(n=vn(n,{namespace:fn})),e.text!==t.text&&(i=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,i=function(e,t,n,r,o){if(n===r)return!1;r=r||pn;for(var i,a=(n=n||pn).length,s=r.length,l=0,c=0,u=!1;c<s;){var d=l<a?n[l]:void 0,f=r[c];if(void 0!==d&&gn(d,f))u=un(d,f,o)||u,l++;else{var h=bn(n,f,l+1);if(h>=0){for(i=l;i<h;i++)Sn(n[i]),yn(n,i,e,"removed");u=un(n[h],f,o)||u,l=h+1}else An(f,t,l<a?n[l].domNode:void 0,o),wn(f),yn(r,c,e,"added")}c++}if(a>l)for(i=l;i<a;i++)Sn(n[i]),yn(n,i,e,"removed");return u}(t,r,e.children,t.children,n)||i,i=function(e,t,n,r){if(n){for(var o=!1,i=Object.keys(n),a=i.length,s=0;s<a;s++){var l=i[s],c=n[l],u=t[l];if("class"===l)u!==c&&(En(e,u,!1),En(e,c,!0));else if("classes"===l)for(var d=e.classList,f=Object.keys(c),h=f.length,p=0;p<h;p++){var v=f[p],g=!!c[v];g!==!!u[v]&&(o=!0,g?d.add(v):d.remove(v))}else if("styles"===l)for(var m=Object.keys(c),b=m.length,y=0;y<b;y++){var w=m[y],O=c[w];O!==u[w]&&(o=!0,O?(mn(O),r.styleApplyer(e,w,O)):r.styleApplyer(e,w,""))}else if(c||"string"!=typeof u||(c=""),"value"===l){var _=e[l];_!==c&&(e["oninput-value"]?_===e["oninput-value"]:c!==u)&&(e[l]=c,e["oninput-value"]=void 0),c!==u&&(o=!0)}else if(c!==u){var k=typeof c;"function"===k&&r.eventHandlerInterceptor||(r.namespace===fn?"href"===l?e.setAttributeNS(hn,l,c):e.setAttribute(l,c):"string"===k?"innerHTML"===l?e[l]=ln.sanitize(c):"role"===l&&""===c?e.removeAttribute(l):e.setAttribute(l,c):e[l]!==c&&(e[l]=c),o=!0)}}return o}}(r,e.properties,t.properties,n)||i,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,n,t.vnodeSelector,t.properties,t.children]);return i&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),o};var In=function(e,t){return{getLastRender:function(){return e},update:function(n){if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var r=e;e=n,un(r,n,t)},domNode:e.domNode}},$n={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,n){"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}},Mn=function(e){return vn($n,e)},Cn=function(e,t,n){return n=Mn(n),An(t,e,void 0,n),In(t,n)},Dn=function(e,t,n){return n=Mn(n),An(t,e.parentNode,e,n),In(t,n)},Ln=function(e,t,n){return n=Mn(n),t.domNode=e,Tn(e,t,n),In(t,n)},Nn=function(e,t,n){return n=Mn(n),An(t,e.parentNode,e,n),e.parentNode.removeChild(e),In(t,n)};Array.prototype.find;var Pn,Rn,Un,Hn,Fn={handleInterceptedEvent:function(e,t,n,r){return e.scheduleRender(),t.properties["on".concat(r.type)].apply(t.properties.bind||n,[r])}},Bn={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,n){e.style[t]=n}},qn=function(e,t){return e.find(t)},zn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;return t.forEach((function(e,o){var i,a=null!=(i=r)&&i.children?qn(r.children,(function(t){return t.domNode===e})):void 0;n&&!a&&o!==t.length-1||(r=a)})),r},Wn=n(20),Vn=n(59),Gn=!1,Yn=!0,Xn=!0,Jn=!0,Kn=!0,Zn=!0,Qn=!0,er=!0,tr=!0,nr=!0,rr=!0,or=!0,ir=!0,ar=!0,sr=!0,lr=!0,cr=!0,ur=!0,dr=!0,fr=!0,hr=!0,pr=!0,vr=!0,gr=!0,mr=!0,br=!0,yr=!0,wr=!0,Or=!0,_r=!0,kr=!0,jr=!1,xr=!1,Sr=!1,Tr=!1,Ar=!1,Er=!1,Ir=!1,$r=!1,Mr=!1,Cr=!0,Dr=!1,Lr=!0,Nr=!1,Pr=!1,Rr=!0,Ur=!1,Hr=!1,Fr=!0,Br="app",qr=0,zr=!1,Wr=!1,Vr=!1,Gr=!1,Yr=0,Xr=!1,Jr="undefined"!==typeof window?window:{},Kr=(Pr&&Jr.CSS,Jr.document||{head:{}}),Zr=(Jr.HTMLElement,{$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}}),Qr=!Nr||!ar||function(){return(Kr.head.attachShadow+"").indexOf("[native")>-1}(),eo="sty-id",to="http://www.w3.org/1999/xlink",no=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Mr&&performance.mark){var n="st:".concat(e,":").concat(t,":").concat(qr++);return performance.mark(n),function(){return performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),n)}}return function(){}},ro=new WeakMap,oo=function(e,t,n,r){var o=ao(t,n),i=ci.get(o);if(!Fr)return o;if(e=11===e.nodeType?e:Kr,i)if("string"===typeof i){e=e.head||e;var a,s=ro.get(e);if(s||ro.set(e,s=new Set),!s.has(o)){if(Er&&e.host&&(a=e.querySelector("[".concat(eo,'="').concat(o,'"]'))))a.innerHTML=i;else{if(Pr&&Zr.$cssShim$){var l=(a=Zr.$cssShim$.createHostStyle(r,o,i,!!(10&t.$flags$)))["s-sc"];l&&(o=l,s=null)}else(a=Kr.createElement("style")).innerHTML=i;(Ar||jr)&&a.setAttribute(eo,o),e.insertBefore(a,e.querySelector("link"))}s&&s.add(o)}}else Rr&&!e.adoptedStyleSheets.includes(i)&&(e.adoptedStyleSheets=[].concat(Object(Le.a)(e.adoptedStyleSheets),[i]));return o},io=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,o=no("attachStyles",t.$tagName$),i=oo(ar&&Qr&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);(ar||ir)&&lr&&10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),ir&&2&r&&n.classList.add(i+"-s")),o()},ao=function(e,t){return"sc-"+(rr&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},so={},lo=function(e){return"object"===(e=typeof e)||"function"===e},co=function(e,t){for(var n=null,r=null,o=null,i=!1,a=!1,s=[],l=function t(r){for(var o=0;o<r.length;o++)n=r[o],Array.isArray(n)?t(n):null!=n&&"boolean"!==typeof n&&((i="function"!==typeof e&&!lo(n))?n=String(n):Sr&&"function"!==typeof e&&void 0===n.$flags$&&si("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),i&&a?s[s.length-1].$text$+=n:s.push(i?uo(null,n):n),a=i)},c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];if(l(u),t&&(Sr&&"input"===e&&mo(t),gr&&t.key&&(r=t.key),Cr&&t.name&&(o=t.name),pr)){var f=t.className||t.class;f&&(t.class="object"!==typeof f?f:Object.keys(f).filter((function(e){return f[e]})).join(" "))}if(Sr&&s.some(ho)&&si("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),vr&&"function"===typeof e)return e(null===t?{}:t,s,po);var h=uo(e,null);return h.$attrs$=t,s.length>0&&(h.$children$=s),gr&&(h.$key$=r),Cr&&(h.$name$=o),h},uo=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return fr&&(n.$attrs$=null),gr&&(n.$key$=null),Cr&&(n.$name$=null),n},fo={},ho=function(e){return e&&e.$tag$===fo},po={forEach:function(e,t){return e.map(vo).forEach(t)},map:function(e,t){return e.map(vo).map(t).map(go)}},vo=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},go=function(e){if("function"===typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),co.apply(void 0,[e.vtag,t].concat(Object(Le.a)(e.vchildren||[])))}var n=uo(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},mo=function(e){var t=Object.keys(e),n=t.indexOf("type"),r=t.indexOf("min"),o=t.indexOf("max"),i=t.indexOf("min"),a=t.indexOf("value");-1!==a&&(a<n||a<r||a<o||a<i)&&li('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},bo=function(e,t,n,r,o,i){if(n!==r){var a=oi(e,t),s=t.toLowerCase();if(pr&&"class"===t){var l=e.classList,c=wo(n),u=wo(r);l.remove.apply(l,Object(Le.a)(c.filter((function(e){return e&&!u.includes(e)})))),l.add.apply(l,Object(Le.a)(u.filter((function(e){return e&&!c.includes(e)}))))}else if(Or&&"style"===t){if(dr)for(var d in n)r&&null!=r[d]||(!Ar&&d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var f in r)n&&r[f]===n[f]||(!Ar&&f.includes("-")?e.style.setProperty(f,r[f]):e.style[f]=r[f])}else if(gr&&"key"===t);else if(br&&"ref"===t)r&&r(e);else if(!mr||($r?a:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(yr){var h=lo(r);if((a||h&&null!==r)&&!o)try{if(e.tagName.includes("-"))e[t]=r;else{var p=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==p||(e[t]=p)}}catch(Te){}var v=!1;hr&&s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,v=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(hr&&v?e.removeAttributeNS(to,t):e.removeAttribute(t)):(!a||4&i||o)&&!h&&(r=!0===r?"":r,hr&&v?e.setAttributeNS(to,t,r):e.setAttribute(t,r))}}else t="-"===t[2]?t.slice(3):oi(Jr,s)?s.slice(2):s[2]+t.slice(3),n&&Zr.rel(e,t,n,!1),r&&Zr.ael(e,t,r,!1)}},yo=/\s/,wo=function(e){return e?e.split(yo):[]},Oo=function(e,t,n,r){var o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||so,a=t.$attrs$||so;if(dr)for(r in i)r in a||bo(o,r,i[r],void 0,n,t.$flags$);for(r in a)bo(o,r,i[r],a[r],n,t.$flags$)},_o=function e(t,n,r,o){var i,a,s,l=n.$children$[r],c=0;if(Cr&&!zr&&(Vr=!0,"slot"===l.$tag$&&(Pn&&o.classList.add(Pn+"-s"),l.$flags$|=l.$children$?2:1)),Sr&&l.$elm$&&si("The JSX ".concat(null!==l.$text$?'"'.concat(l.$text$,'" text'):'"'.concat(l.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),_r&&null!==l.$text$)i=l.$elm$=Kr.createTextNode(l.$text$);else if(Cr&&1&l.$flags$)i=l.$elm$=xr||Ar?No(l):Kr.createTextNode("");else{if(ur&&!Gr&&(Gr="svg"===l.$tag$),i=l.$elm$=ur?Kr.createElementNS(Gr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Cr&&2&l.$flags$?"slot-fb":l.$tag$):Kr.createElement(Cr&&2&l.$flags$?"slot-fb":l.$tag$),ur&&Gr&&"foreignObject"===l.$tag$&&(Gr=!1),fr&&Oo(null,l,Gr),(ar||ir)&&null!=Pn&&i["s-si"]!==Pn&&i.classList.add(i["s-si"]=Pn),l.$children$)for(c=0;c<l.$children$.length;++c)(a=e(t,l,c,i))&&i.appendChild(a);ur&&("svg"===l.$tag$?Gr=!1:"foreignObject"===i.tagName&&(Gr=!0))}return Cr&&(i["s-hn"]=Un,3&l.$flags$&&(i["s-sr"]=!0,i["s-cr"]=Rn,i["s-sn"]=l.$name$||"",(s=t&&t.$children$&&t.$children$[r])&&s.$tag$===l.$tag$&&t.$elm$&&ko(t.$elm$,!1))),i},ko=function e(t,n){Zr.$flags$|=1;for(var r=t.childNodes,o=r.length-1;o>=0;o--){var i=r[o];i["s-hn"]!==Un&&i["s-ol"]&&(Ao(i).insertBefore(i,To(i)),i["s-ol"].remove(),i["s-ol"]=void 0,Vr=!0),n&&e(i,n)}Zr.$flags$&=-2},jo=function(e,t,n,r,o,i){var a,s=Cr&&e["s-cr"]&&e["s-cr"].parentNode||e;for(ar&&s.shadowRoot&&s.tagName===Un&&(s=s.shadowRoot);o<=i;++o)r[o]&&(a=_o(null,n,o,e))&&(r[o].$elm$=a,s.insertBefore(a,Cr?To(t):t))},xo=function(e,t,n,r,o){for(;t<=n;++t)(r=e[t])&&(o=r.$elm$,Do(r),Cr&&(Wr=!0,o["s-ol"]?o["s-ol"].remove():ko(o,!0)),o.remove())},So=function(e,t){return e.$tag$===t.$tag$&&(Cr&&"slot"===e.$tag$?e.$name$===t.$name$:!gr||e.$key$===t.$key$)},To=function(e){return e&&e["s-ol"]||e},Ao=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},Eo=function(e,t){var n,r=t.$elm$=e.$elm$,o=e.$children$,i=t.$children$,a=t.$tag$,s=t.$text$;_r&&null!==s?_r&&Cr&&(n=r["s-cr"])?n.parentNode.textContent=s:_r&&e.$text$!==s&&(r.data=s):(ur&&(Gr="svg"===a||"foreignObject"!==a&&Gr),(fr||or)&&(sr&&"slot"===a||Oo(e,t,Gr)),dr&&null!==o&&null!==i?function(e,t,n,r){for(var o,i,a=0,s=0,l=0,c=0,u=t.length-1,d=t[0],f=t[u],h=r.length-1,p=r[0],v=r[h];a<=u&&s<=h;)if(null==d)d=t[++a];else if(null==f)f=t[--u];else if(null==p)p=r[++s];else if(null==v)v=r[--h];else if(So(d,p))Eo(d,p),d=t[++a],p=r[++s];else if(So(f,v))Eo(f,v),f=t[--u],v=r[--h];else if(So(d,v))!Cr||"slot"!==d.$tag$&&"slot"!==v.$tag$||ko(d.$elm$.parentNode,!1),Eo(d,v),e.insertBefore(d.$elm$,f.$elm$.nextSibling),d=t[++a],v=r[--h];else if(So(f,p))!Cr||"slot"!==d.$tag$&&"slot"!==v.$tag$||ko(f.$elm$.parentNode,!1),Eo(f,p),e.insertBefore(f.$elm$,d.$elm$),f=t[--u],p=r[++s];else{if(l=-1,gr)for(c=a;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===p.$key$){l=c;break}gr&&l>=0?((i=t[l]).$tag$!==p.$tag$?o=_o(t&&t[s],n,l,e):(Eo(i,p),t[l]=void 0,o=i.$elm$),p=r[++s]):(o=_o(t&&t[s],n,s,e),p=r[++s]),o&&(Cr?Ao(d.$elm$).insertBefore(o,To(d.$elm$)):d.$elm$.parentNode.insertBefore(o,d.$elm$))}a>u?jo(e,null==r[h+1]?null:r[h+1].$elm$,n,r,s,h):dr&&s>h&&xo(t,a,u)}(r,o,t,i):null!==i?(dr&&_r&&null!==e.$text$&&(r.textContent=""),jo(r,null,t,i,0,i.length-1)):dr&&null!==o&&xo(o,0,o.length-1),ur&&Gr&&"svg"===a&&(Gr=!1))},Io=function e(t){var n,r,o,i,a,s,l=t.childNodes;for(r=0,o=l.length;r<o;r++)if(1===(n=l[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,i=0;i<o;i++)if(s=l[i].nodeType,l[i]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===l[i].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==l[i].textContent.trim()){n.hidden=!0;break}e(n)}},$o=[],Mo=function e(t){for(var n,r,o,i,a,s,l=0,c=t.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(o=r.parentNode.childNodes,i=n["s-sn"],s=o.length-1;s>=0;s--)(r=o[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(Co(r,i)?(a=$o.find((function(e){return e.$nodeToRelocate$===r})),Wr=!0,r["s-sn"]=r["s-sn"]||i,a?a.$slotRefNode$=n:$o.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&$o.map((function(e){Co(e.$nodeToRelocate$,r["s-sn"])&&(a=$o.find((function(e){return e.$nodeToRelocate$===r})))&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$)}))):$o.some((function(e){return e.$nodeToRelocate$===r}))||$o.push({$nodeToRelocate$:r}));1===n.nodeType&&e(n)}},Co=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},Do=function e(t){br&&(t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e))},Lo=function(e,t){var n=e.$hostElement$,r=e.$cmpMeta$,o=e.$vnode$||uo(null,null),i=ho(t)?t:co(null,null,t);if(Un=n.tagName,Sr&&Array.isArray(t)&&t.some(ho))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(Un.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(or&&r.$attrsToReflect$&&(i.$attrs$=i.$attrs$||{},r.$attrsToReflect$.map((function(e){var t=Object(le.a)(e,2),r=t[0],o=t[1];return i.$attrs$[o]=n[r]}))),i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=o.$elm$=ar&&n.shadowRoot||n,(ir||ar)&&(Pn=n["s-sc"]),Cr&&(Rn=n["s-cr"],zr=Qr&&0!==(1&r.$flags$),Wr=!1),Eo(o,i),Cr){if(Zr.$flags$|=1,Vr){var a,s,l,c,u,d;Mo(i.$elm$);for(var f=0;f<$o.length;f++)(s=(a=$o[f]).$nodeToRelocate$)["s-ol"]||((l=xr||Ar?Po(s):Kr.createTextNode(""))["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<$o.length;f++)if(s=(a=$o[f]).$nodeToRelocate$,a.$slotRefNode$){for(c=a.$slotRefNode$.parentNode,u=a.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if((d=l["s-nr"])&&d["s-sn"]===s["s-sn"]&&c===d.parentNode&&(!(d=d.nextSibling)||!d["s-nr"])){u=d;break}(!u&&c!==s.parentNode||s.nextSibling!==u)&&s!==u&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),c.insertBefore(s,u))}else 1===s.nodeType&&(s.hidden=!0)}Wr&&Io(i.$elm$),Zr.$flags$&=-2,$o.length=0}},No=function(e){return Kr.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(Un.toLowerCase(),")"))},Po=function(e){return Kr.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]")))},Ro=function(e,t,n){var r=function(e){return $r?ri(e).$hostElement$:e}(e);return{emit:function(e){return Sr&&!r.isConnected&&li('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),Uo(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},Uo=function(e,t,n){var r=Zr.ce(t,n);return e.dispatchEvent(r),r},Ho=function(e,t){Ur&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},Fo=function(e,t){if(kr&&dr&&(e.$flags$|=16),!(Ur&&4&e.$flags$)){Ho(e,e.$ancestorComponent$);var n=function(){return Bo(e,t)};return kr?bi(n):n()}e.$flags$|=512},Bo=function(e,t){var n,r=e.$hostElement$,o=no("scheduleUpdate",e.$cmpMeta$.$tagName$),i=$r?e.$lazyInstance$:r;return t?($r&&tr&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=Object(le.a)(e,2),n=t[0],r=t[1];return Yo(i,n,r)})),e.$queuedListeners$=null)),Jo(r,"componentWillLoad"),Kn&&(n=Yo(i,"componentWillLoad"))):(Jo(r,"componentWillUpdate"),Zn&&(n=Yo(i,"componentWillUpdate"))),Jo(r,"componentWillRender"),Qn&&(n=Xo(n,(function(){return Yo(i,"componentWillRender")}))),o(),Xo(n,(function(){return qo(e,i,t)}))},qo=function(){var e=Object(ae.a)(ie.a.mark((function e(t,n,r){var o,i,a,s,l,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.$hostElement$,i=no("update",t.$cmpMeta$.$tagName$),a=o["s-rc"],cr&&r&&io(t),s=no("render",t.$cmpMeta$.$tagName$),Sr&&(t.$flags$|=1024),!Ar){e.next=11;break}return e.next=9,zo(t,n,o);case 9:e.next=12;break;case 11:zo(t,n,o);case 12:if(Pr&&Zr.$cssShim$&&Zr.$cssShim$.updateHost(o),Sr&&(t.$renderCount$++,t.$flags$&=-1025),Ar)try{Zo(o),r&&(1&t.$cmpMeta$.$flags$?o["s-en"]="":2&t.$cmpMeta$.$flags$&&(o["s-en"]="c"))}catch(Te){ii(Te,o)}Ur&&a&&(a.map((function(e){return e()})),o["s-rc"]=void 0),s(),i(),Ur?(l=o["s-p"],c=function(){return Wo(t)},0===l.length?c():(Promise.all(l).then(c),t.$flags$|=4,l.length=0)):Wo(t);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),zo=function(e,t,n){var r=!!Gn,o=!!$r,i=!!kr,a=!!dr;try{if(t,t=(r||t.render)&&t.render(),a&&i&&(e.$flags$&=-17),(a||o)&&(e.$flags$|=2),er||or)if(wr||or){if(Ar)return Promise.resolve(t).then((function(t){return Lo(e,t)}));Lo(e,t)}else n.textContent=t}catch(Te){ii(Te,e.$hostElement$)}return null,null},Wo=function(e){var t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=no("postUpdate",t),o=$r?e.$lazyInstance$:n,i=e.$ancestorComponent$;Jn&&(Sr&&(e.$flags$|=1024),Yo(o,"componentDidRender"),Sr&&(e.$flags$&=-1025)),Jo(n,"componentDidRender"),64&e.$flags$?(Xn&&(Sr&&(e.$flags$|=1024),Yo(o,"componentDidUpdate"),Sr&&(e.$flags$&=-1025)),Jo(n,"componentDidUpdate"),r()):(e.$flags$|=64,Ur&&lr&&Ko(n),Yn&&(Sr&&(e.$flags$|=2048),Yo(o,"componentDidLoad"),Sr&&(e.$flags$&=-2049)),Jo(n,"componentDidLoad"),r(),Ur&&(e.$onReadyResolve$(n),i||Go(t))),jr&&n["s-hmr-load"]&&n["s-hmr-load"](),nr&&$r&&e.$onInstanceResolve$(n),Ur&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&mi((function(){return Fo(e,!1)})),e.$flags$&=-517)},Vo=function(e){if(dr){var t=ri(e),n=t.$hostElement$.isConnected;return n&&2===(18&t.$flags$)&&Fo(t,!1),n}return!1},Go=function(e){lr&&Ko(Kr.documentElement),Hr&&(Zr.$flags$|=2),mi((function(){return Uo(Jr,"appload",{detail:{namespace:Br}})})),Mr&&performance.measure&&performance.measure("[Stencil] ".concat(Br," initial load (by ").concat(e,")"),"st:app:start")},Yo=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(Te){ii(Te)}},Xo=function(e,t){return e&&e.then?e.then(t):t()},Jo=function(e,t){Ir&&Uo(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:Br}})},Ko=function(e){return Lr?e.classList.add("hydrated"):Dr?e.setAttribute("hydrated",""):void 0},Zo=function e(t){var n=t.children;if(null!=n)for(var r=0,o=n.length;r<o;r++){var i=n[r];"function"===typeof i.connectedCallback&&i.connectedCallback(),e(i)}},Qo=function(e){Qr?e.attachShadow({mode:"open"}):e.shadowRoot=e},ei=function(e){var t=new URL(e,Zr.$resourcesUrl$);return t.origin!==Jr.location.origin?t.href:t.pathname},ti=function(e,t){return t},ni=new WeakMap,ri=function(e){return ni.get(e)},oi=function(e,t){return t in e},ii=function(e,t){return(Hn||console.error)(e,t)},ai=Tr?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],si=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,ai.concat(n))},li=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,ai.concat(n))},ci=new Map,ui=[],di=[],fi=[],hi=function(e,t){return function(n){e.push(n),Xr||(Xr=!0,t&&4&Zr.$flags$?mi(gi):Zr.raf(gi))}},pi=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(Te){ii(Te)}e.length=0},vi=function(e,t){for(var n=0,r=0;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(Te){ii(Te)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},gi=function e(){if(Hr&&Yr++,pi(ui),Hr){var t=2===(6&Zr.$flags$)?performance.now()+14*Math.ceil(.1*Yr):1/0;vi(di,t),vi(fi,t),di.length>0&&(fi.push.apply(fi,di),di.length=0),(Xr=ui.length+di.length+fi.length>0)?Zr.raf(e):Yr=0}else pi(di),(Xr=ui.length>0)&&Zr.raf(e)},mi=function(e){return Promise.resolve(t).then(e);var t},bi=hi(di,!0),yi=!0;function wi(e,t){var n={Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Spacebar:" ",Esc:"Escape"}[e]||e,r="rtl"===t;return r&&"ArrowLeft"===n?"ArrowRight":r&&"ArrowRight"===n?"ArrowLeft":n}var Oi=["0","1","2","3","4","5","6","7","8","9"],_i=(HTMLElement,"calcite-theme-dark"),ki="calcite--rtl",ji="Loading";var xi=function(){return[2,1,1,1,3].map((function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")};function Si(e){return e?e.id=e.id||"".concat(e.tagName.toLowerCase(),"-").concat(xi()):""}function Ti(e){return Array.isArray(e)?e:Array.from(e)}function Ai(e){return Di(e,".".concat(_i))?"dark":"light"}function Ei(e){var t=Di(e,"[".concat("dir","]"));return t?t.getAttribute("dir"):"ltr"}function Ii(e,t,n){var r="[".concat(t,"]"),o=e.closest(r);return o?o.getAttribute(t):n}function $i(e){return e.getRootNode()}function Mi(e){return e.host||null}function Ci(e,t){return function e(n){if(!n)return null;n.assignedSlot&&(n=n.assignedSlot);var r=$i(n),o=r.querySelector(t),i=Mi(r);return o||(i?e(i):null)}(e)}function Di(e,t){return function e(n){return n?n.closest(t)||e(Mi($i(n))):null}(e)}function Li(e){return"function"===typeof(null===e||void 0===e?void 0:e.setFocus)}function Ni(e){return Pi.apply(this,arguments)}function Pi(){return(Pi=Object(ae.a)(oe.mark((function e(t){return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Li(t)?t.setFocus():t.focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t,n){var r='[slot="'.concat(t,'"]');return(null===n||void 0===n?void 0:n.all)?function(e,t,n){var r=Array.from(e.querySelectorAll(t));r=n&&!1===n.direct?r:r.filter((function(t){return t.parentElement===e}));var o=null===n||void 0===n?void 0:n.selector;return o?r.map((function(e){return Array.from(e.querySelectorAll(o))})).reduce((function(e,t){return[].concat(Object(Le.a)(e),Object(Le.a)(t))}),[]).filter((function(e){return!!e})):r}(e,r,n):function(e,t,n){var r=e.querySelector(t);r=n&&!1===n.direct||(null===r||void 0===r?void 0:r.parentElement)===e?r:null;var o=null===n||void 0===n?void 0:n.selector;return o?r.querySelector(o):r}(e,r,n)}function Ui(e,t){return Array.from(e.children).filter((function(e){return e.matches(t)}))}function Hi(e,t){return e.contains(t)}function Fi(e,t,n){return"string"===typeof t&&""!==t?t:""===t?e[n]:void 0}function Bi(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}HTMLElement;var qi="button",zi="button--text-visible",Wi="button--compact",Vi="icon-container",Gi="slot-container",Yi="slot-container--hidden",Xi="text-container",Ji="text-container--visible",Ki="Loading",Zi=(HTMLElement,"chevrons-left"),Qi="chevrons-right";function ea(e){var t=e.parent,n=e.expanded;Array.from(t.querySelectorAll("calcite-action")).filter((function(e){return"menu-actions"!==e.slot})).forEach((function(e){return e.textEnabled=n})),t.querySelectorAll("calcite-action-group").forEach((function(e){return e.expanded=n}))}var ta=function(e){var t=e.expanded,n=e.intlExpand,r=e.intlCollapse,o=e.toggle,i=e.el,a=e.position,s=e.tooltip,l=e.ref,c="rtl"===Ei(i),u=t?r:n,d=[Zi,Qi];c&&d.reverse();var f="end"===function(e,t){var n;return e||(null===(n=t.closest("calcite-shell-panel"))||void 0===n?void 0:n.position)||"start"}(a,i),h=f?d[1]:d[0],p=f?d[0]:d[1],v=co("calcite-action",{dir:c?"rtl":"ltr",icon:t?h:p,onClick:o,ref:function(e){return function(e){var t=e.tooltip,n=e.referenceElement,r=e.expanded,o=e.ref;return t&&(t.referenceElement=!r&&n),o&&o(n),n}({tooltip:s,referenceElement:e,expanded:t,ref:l})},text:u,textEnabled:t});return s?co("calcite-tooltip-manager",null,v):v},na="action-group--bottom",ra="bottom-actions",oa="expand-tooltip",ia="Expand",aa="Collapse",sa="menu",la="default-trigger",ca="tooltip",ua="trigger",da="ellipsis",fa="menu-actions",ha="menu-tooltip",pa="More",va="ellipsis",ga=function(e){var t=e.actionCount,n=e.actionHeight,r=e.height,o=e.groupCount;return Math.max(t-function(e){var t=e.height,n=e.actionHeight,r=e.groupCount;return Math.floor((t-2*r)/n)}({height:r,actionHeight:n,groupCount:o}),0)},ma=function(e){return Array.from(e.querySelectorAll("calcite-action")).filter((function(e){return!e.closest("calcite-action-menu")||e.slot===ua}))};HTMLElement,HTMLElement;function ba(e,t){return(e+t)%t}var ya,wa=["ArrowUp","ArrowDown"],Oa=["ArrowUp","ArrowDown","End","Home"],_a=(HTMLElement,"action-group--bottom"),ka="container",ja="Expand",xa="Collapse",Sa="expand-tooltip",Ta=(HTMLElement,"close"),Aa={slow:14e3,medium:1e4,fast:6e3},Ea="title",Ia="message",$a="link";!function(e){e.green="checkCircle",e.yellow="exclamationMarkTriangle",e.red="exclamationMarkTriangle",e.blue="lightbulb"}(ya||(ya={}));HTMLElement;function Ma(e){var t=e.r,n=e.g,r=e.b;return"#".concat(t.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0")).toLowerCase()}var Ca=/^[0-9A-F]$/i,Da=/^#[0-9A-F]{3}$/i,La=/^#[0-9A-F]{6}$/i;function Na(e){return Pa(e)||Ra(e)}function Pa(e){return e&&4===e.length&&Da.test(e)}function Ra(e){return e&&7===e.length&&La.test(e)}function Ua(e){return(e=e.toLowerCase()).startsWith("#")||(e="#".concat(e)),Pa(e)?Ma(Ha(e)):e}function Ha(e){if(!Na(e))return null;if(3===(e=e.replace("#","")).length){var t=e.split(""),n=Object(le.a)(t,3),r=n[0],o=n[1],i=n[2];return{r:parseInt("".concat(r).concat(r),16),g:parseInt("".concat(o).concat(o),16),b:parseInt("".concat(i).concat(i),16)}}return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}var Fa={HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"},Ba={RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"};function qa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.every((function(t){return t&&e&&"".concat(t)in e}))}function za(e,t){return(null===e||void 0===e?void 0:e.rgbNumber())===(null===t||void 0===t?void 0:t.rgbNumber())}function Wa(e){return function(e){var t=e.r,n=e.g,r=e.b;t/=255,n/=255,r/=255;var o=Math.max(t,n,r),i=Math.min(t,n,r),a=o-i;if(o===i)return 0;var s=(o+i)/2;switch(o){case t:s=(n-r)/a+(n<r?6:0);break;case n:s=(r-t)/a+2;break;case r:s=(t-n)/a+4}return Math.round(60*s)}(Ha(e))}HTMLElement;var Va="article",Ga="content",Ya="header-container",Xa="icon",Ja="status-icon",Ka="toggle",Za="toggle-icon",Qa="title",es="heading",ts="header",ns="summary",rs="control-container",os="valid",is="invalid",as="Collapse",ss="Expand",ls="Loading",cs="Options",us="icon",ds="control",fs="header-menu-actions",hs={opened:"chevron-up",closed:"chevron-down",valid:"check-circle",invalid:"exclamation-mark-triangle"};function ps(e){return Math.min(Math.max(Math.ceil(e),1),6)}var vs=function(e,t){var n="h".concat(e.level);return delete e.level,co(n,Object.assign({},e),t)},gs=(HTMLElement,"content"),ms="invalid",bs="toggle",ys="toggle--switch",ws="toggle--switch__content",Os="toggle--switch__text",_s="section-header",ks="section-header__text",js="status-icon",xs="valid",Ss="Collapse",Ts="Expand",As={menuOpen:"chevron-down",menuClosedLeft:"chevron-left",menuClosedRight:"chevron-right",valid:"check-circle",invalid:"exclamation-mark-triangle"},Es=(HTMLElement,"calcite-button--loader"),Is="content",$s="content--slotted",Ms="icon",Cs="icon--start",Ds="icon--end",Ls="loading-in",Ns="loading-out",Ps="Loading",Rs=(HTMLElement,"container"),Us="header",Hs="footer",Fs="thumbnail-wrapper",Bs="checkbox-wrapper",qs="thumbnail",zs="title",Ws="subtitle",Vs="footer-leading",Gs="footer-trailing",Ys="Select",Xs="Deselect",Js="Loading",Ks=(HTMLElement,"\n  bottom: 0 !important;\n  left: 0 !important;\n  margin: 0 !important;\n  opacity: 0 !important;\n  outline: none !important;\n  padding: 0 !important;\n  position: absolute !important;\n  right: 0 !important;\n  top: 0 !important;\n  transform: none !important;\n  -webkit-appearance: none !important;\n  z-index: -1 !important;\n"),Zs=(HTMLElement,"title"),Qs="close",el="close";HTMLElement;function tl(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}for(var nl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rl=tl((function(e){var t=Array.prototype.concat,n=Array.prototype.slice,r=e.exports=function(e){for(var r,o=[],i=0,a=e.length;i<a;i++){var s=e[i];(r=s)&&"string"!==typeof r&&(r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&"String"!==r.constructor.name))?o=t.call(o,n.call(s)):o.push(s)}return o};r.wrap=function(e){return function(){return e(r(arguments))}}})),ol=tl((function(e){var t={};for(var n in nl)nl.hasOwnProperty(n)&&(t[nl[n]]=n);var r=e.exports={to:{},get:{}};function o(e,t,n){return Math.min(Math.max(t,e),n)}function i(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}r.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=r.get.hsl(e),n="hsl";break;case"hwb":t=r.get.hwb(e),n="hwb";break;default:t=r.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},r.get.rgb=function(e){if(!e)return null;var t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var a=2*n;i[n]=parseInt(t.slice(a,a+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(i=nl[t[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=o(i[n],0,255);return i[3]=o(i[3],0,1),i},r.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,o(parseFloat(t[2]),0,100),o(parseFloat(t[3]),0,100),o(isNaN(n)?1:n,0,1)]}return null},r.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,o(parseFloat(t[2]),0,100),o(parseFloat(t[3]),0,100),o(isNaN(n)?1:n,0,1)]}return null},r.to.hex=function(){var e=rl(arguments);return"#"+i(e[0])+i(e[1])+i(e[2])+(e[3]<1?i(Math.round(255*e[3])):"")},r.to.rgb=function(){var e=rl(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},r.to.rgb.percent=function(){var e=rl(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},r.to.hsl=function(){var e=rl(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},r.to.hwb=function(){var e=rl(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},r.to.keyword=function(e){return t[e.slice(0,3)]}})),il={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},al={},sl=0,ll=Object.keys(il);sl<ll.length;sl++){var cl=ll[sl];al[il[cl]]=cl}for(var ul={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},dl=ul,fl=0,hl=Object.keys(ul);fl<hl.length;fl++){var pl=hl[fl];if(!("channels"in ul[pl]))throw new Error("missing channels property: "+pl);if(!("labels"in ul[pl]))throw new Error("missing channel labels property: "+pl);if(ul[pl].labels.length!==ul[pl].channels)throw new Error("channel and label counts mismatch: "+pl);var vl=ul[pl],gl=vl.channels,ml=vl.labels;delete ul[pl].channels,delete ul[pl].labels,Object.defineProperty(ul[pl],"channels",{value:gl}),Object.defineProperty(ul[pl],"labels",{value:ml})}function bl(e){var t=function(){for(var e={},t=Object.keys(dl),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),o=Object.keys(dl[r]),i=o.length,a=0;a<i;a++){var s=o[a],l=t[s];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(s))}return t}function yl(e,t){return function(n){return t(e(n))}}function wl(e,t){for(var n=[t[e].parent,e],r=dl[t[e].parent][e],o=t[e].parent;t[o].parent;)n.unshift(t[o].parent),r=yl(dl[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}ul.rgb.hsl=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.min(n,r,o),a=Math.max(n,r,o),s=a-i;a===i?t=0:n===a?t=(r-o)/s:r===a?t=2+(o-n)/s:o===a&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);var l=(i+a)/2;return[t,100*(a===i?0:l<=.5?s/(a+i):s/(2-a-i)),100*l]},ul.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(a,s,l),u=c-Math.min(a,s,l),d=function(e){return(c-e)/6/u+.5};return 0===u?(o=0,i=0):(i=u/c,t=d(a),n=d(s),r=d(l),a===c?o=r-n:s===c?o=1/3+t-r:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},ul.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[ul.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},ul.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},ul.rgb.keyword=function(e){var t=al[e];if(t)return t;for(var n,r,o,i=1/0,a=0,s=Object.keys(il);a<s.length;a++){var l=s[a],c=(r=e,o=il[l],Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2));c<i&&(i=c,n=l)}return n},ul.keyword.rgb=function(e){return il[e]},ul.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},ul.rgb.lab=function(e){var t=ul.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},ul.hsl.rgb=function(e){var t,n,r,o=e[0]/360,i=e[1]/100,a=e[2]/100;if(0===i)return[r=255*a,r,r];for(var s=2*a-(t=a<.5?a*(1+i):a+i-a*i),l=[0,0,0],c=0;c<3;c++)(n=o+1/3*-(c-1))<0&&n++,n>1&&n--,r=6*n<1?s+6*(t-s)*n:2*n<1?t:3*n<2?s+(t-s)*(2/3-n)*6:s,l[c]=255*r;return l},ul.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},ul.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},ul.hsv.hsl=function(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100,a=Math.max(i,.01);n=(2-o)*i;var s=(2-o)*a;return t=o*a,[r,100*(t=(t/=s<=1?s:2-s)||0),100*(n/=2)]},ul.hwb.rgb=function(e){var t,n=e[0]/360,r=e[1]/100,o=e[2]/100,i=r+o;i>1&&(r/=i,o/=i);var a=Math.floor(6*n),s=1-o;t=6*n-a,0!==(1&a)&&(t=1-t);var l,c,u,d=r+t*(s-r);switch(a){default:case 6:case 0:l=s,c=d,u=r;break;case 1:l=d,c=s,u=r;break;case 2:l=r,c=s,u=d;break;case 3:l=r,c=d,u=s;break;case 4:l=d,c=r,u=s;break;case 5:l=s,c=r,u=d}return[255*l,255*c,255*u]},ul.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},ul.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},ul.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},ul.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},ul.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},ul.lch.lab=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},ul.rgb.ansi16=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(le.a)(e,3),r=n[0],o=n[1],i=n[2],a=null===t?ul.rgb.hsv(e)[2]:t;if(0===(a=Math.round(a/50)))return 30;var s=30+(Math.round(i/255)<<2|Math.round(o/255)<<1|Math.round(r/255));return 2===a&&(s+=60),s},ul.hsv.ansi16=function(e){return ul.rgb.ansi16(ul.hsv.rgb(e),e[2])},ul.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},ul.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},ul.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},ul.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},ul.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},ul.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),s=i-a;return t=s<=0?0:i===n?(r-o)/s%6:i===r?2+(o-n)/s:4+(n-r)/s,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},ul.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},ul.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},ul.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},ul.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},ul.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},ul.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},ul.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},ul.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},ul.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},ul.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},ul.gray.hsl=function(e){return[0,0,e[0]]},ul.gray.hsv=ul.gray.hsl,ul.gray.hwb=function(e){return[0,100,e[0]]},ul.gray.cmyk=function(e){return[0,0,0,e[0]]},ul.gray.lab=function(e){return[e[0],0,0]},ul.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},ul.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var Ol={};Object.keys(dl).forEach((function(e){Ol[e]={},Object.defineProperty(Ol[e],"channels",{value:dl[e].channels}),Object.defineProperty(Ol[e],"labels",{value:dl[e].labels});var t=function(e){for(var t=bl(e),n={},r=Object.keys(t),o=r.length,i=0;i<o;i++){var a=r[i];null!==t[a].parent&&(n[a]=wl(a,t))}return n}(e);Object.keys(t).forEach((function(n){var r=t[n];Ol[e][n]=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(void 0===o||null===o)return o;o.length>1&&(n=o);var i=e(n);if("object"===typeof i)for(var a=i.length,s=0;s<a;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}(r),Ol[e][n].raw=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return void 0===o||null===o?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))}));for(var _l=Ol,kl=[].slice,jl=["keyword","gray","hex"],xl={},Sl=0,Tl=Object.keys(_l);Sl<Tl.length;Sl++){var Al=Tl[Sl];xl[kl.call(_l[Al].labels).sort().join("")]=Al}var El={};function Il(e,t){if(!(this instanceof Il))return new Il(e,t);if(t&&t in jl&&(t=null),t&&!(t in _l))throw new Error("Unknown model: "+t);var n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Il)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var o=ol.get(e);if(null===o)throw new Error("Unable to parse color from string: "+e);this.model=o.model,r=_l[this.model].channels,this.color=o.value.slice(0,r),this.valpha="number"===typeof o.value[r]?o.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=_l[this.model].channels;var i=kl.call(e,0,r);this.color=Pl(i,r),this.valpha="number"===typeof e[r]?e[r]:1}else if("number"===typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var s=a.sort().join("");if(!(s in xl))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=xl[s];var l=_l[this.model].labels,c=[];for(n=0;n<l.length;n++)c.push(e[l[n]]);this.color=Pl(c)}if(El[this.model])for(r=_l[this.model].channels,n=0;n<r;n++){var u=El[this.model][n];u&&(this.color[n]=u(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Il.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in ol.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return ol.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return ol.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=_l[this.model].channels,n=_l[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new Il(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length>0?new Il(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:Dl("rgb",0,Ll(255)),green:Dl("rgb",1,Ll(255)),blue:Dl("rgb",2,Ll(255)),hue:Dl(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:Dl("hsl",1,Ll(100)),lightness:Dl("hsl",2,Ll(100)),saturationv:Dl("hsv",1,Ll(100)),value:Dl("hsv",2,Ll(100)),chroma:Dl("hcg",1,Ll(100)),gray:Dl("hcg",2,Ll(100)),white:Dl("hwb",1,Ll(100)),wblack:Dl("hwb",2,Ll(100)),cyan:Dl("cmyk",0,Ll(100)),magenta:Dl("cmyk",1,Ll(100)),yellow:Dl("cmyk",2,Ll(100)),black:Dl("cmyk",3,Ll(100)),x:Dl("xyz",0,Ll(100)),y:Dl("xyz",1,Ll(100)),z:Dl("xyz",2,Ll(100)),l:Dl("lab",0,Ll(100)),a:Dl("lab",1),b:Dl("lab",2),keyword:function(e){return arguments.length>0?new Il(e):_l[this.model].keyword(this.color)},hex:function(e){return arguments.length>0?new Il(e):ol.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){var e,t=this.rgb().color,n=[],r=Object(h.a)(t.entries());try{for(r.s();!(e=r.n()).done;){var o=Object(le.a)(e.value,2),i=o[0],a=o[1]/255;n[i]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}}catch(s){r.e(s)}finally{r.f()}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return Il.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return Il.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};for(var $l=function(){var e=Cl[Ml];if(jl.includes(e))return"continue";var t=_l[e].channels;Il.prototype[e]=function(){if(this.model===e)return new Il(this);if(arguments.length>0)return new Il(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new Il(Nl(_l[this.model][e].raw(this.color)).concat(n),e)},Il[e]=function(n){return"number"===typeof n&&(n=Pl(kl.call(arguments),t)),new Il(n,e)}},Ml=0,Cl=Object.keys(_l);Ml<Cl.length;Ml++)$l();function Dl(e,t,n){e=Array.isArray(e)?e:[e];var r,o=Object(h.a)(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;(El[i]||(El[i]=[]))[t]=n}}catch(a){o.e(a)}finally{o.f()}return e=e[0],function(r){var o;return arguments.length>0?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function Ll(e){return function(t){return Math.max(0,Math.min(e,t))}}function Nl(e){return Array.isArray(e)?e:[e]}function Pl(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}var Rl=Il,Ul="container",Hl="control-section",Fl="color-hex-options",Bl="section",ql="header",zl="control",Wl="section--split",Vl="color-mode-container",Gl="color-mode",Yl="channels",Xl="channel",Jl="saved-colors",Kl="saved-colors-section",Zl="save-color",Ql="delete-color",ec="saved-colors-buttons",tc="header--hex",nc="color-field-and-slider",rc="color-field-and-slider--interactive",oc="color-field-and-slider-wrap",ic="scope",ac="scope--hue",sc="scope--color-field",lc="saved-color",cc=Rl("#007AC2"),uc="calcite-color-",dc={r:255,g:255,b:255},fc={h:360,s:100,v:100},hc="B",pc="Blue",vc="Delete color",gc="G",mc="Green",bc="H",yc="HSV",wc="Hex",Oc="Hue",_c="No color",kc="R",jc="Red",xc="RGB",Sc="S",Tc="Saturation",Ac="Save color",Ec="Saved",Ic="V",$c="Value",Mc={s:{slider:{height:10,width:160},colorField:{height:80,width:160},thumb:{radius:8}},m:{slider:{height:14,width:272},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:16,width:464},colorField:{height:200,width:464},thumb:{radius:12}}},Cc="object"==typeof global&&global&&global.Object===Object&&global,Dc="object"==typeof self&&self&&self.Object===Object&&self,Lc=Cc||Dc||Function("return this")(),Nc=Lc.Symbol,Pc=Object.prototype,Rc=Pc.hasOwnProperty,Uc=Pc.toString,Hc=Nc?Nc.toStringTag:void 0;var Fc=Object.prototype.toString;var Bc=Nc?Nc.toStringTag:void 0;function qc(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bc&&Bc in Object(e)?function(e){var t=Rc.call(e,Hc),n=e[Hc];try{e[Hc]=void 0;var r=!0}catch(Te){}var o=Uc.call(e);return r&&(t?e[Hc]=n:delete e[Hc]),o}(e):function(e){return Fc.call(e)}(e)}function zc(e){return null!=e&&"object"==typeof e}function Wc(e){return"symbol"==typeof e||zc(e)&&"[object Symbol]"==qc(e)}var Vc=Array.isArray,Gc=Nc?Nc.prototype:void 0,Yc=Gc?Gc.toString:void 0;function Xc(e){if("string"==typeof e)return e;if(Vc(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,Xc)+"";if(Wc(e))return Yc?Yc.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var Jc=/\s/;var Kc=/^\s+/;function Zc(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Jc.test(e.charAt(t)););return t}(e)+1).replace(Kc,""):e}function Qc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var eu=/^[-+]0x[0-9a-f]+$/i,tu=/^0b[01]+$/i,nu=/^0o[0-7]+$/i,ru=parseInt;function ou(e){if("number"==typeof e)return e;if(Wc(e))return NaN;if(Qc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zc(e);var n=tu.test(e);return n||nu.test(e)?ru(e.slice(2),n?2:8):eu.test(e)?NaN:+e}function iu(e){return e}var au=/^(?:0|[1-9]\d*)$/;function su(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&au.test(e))&&e>-1&&e%1==0&&e<t}function lu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function cu(e){return null!=e&&lu(e.length)&&!function(e){if(!Qc(e))return!1;var t=qc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var uu=Object.prototype;function du(e){return zc(e)&&"[object Arguments]"==qc(e)}var fu=Object.prototype,hu=fu.hasOwnProperty,pu=fu.propertyIsEnumerable,vu=du(function(){return arguments}())?du:function(e){return zc(e)&&hu.call(e,"callee")&&!pu.call(e,"callee")};var gu="object"==typeof exports&&exports&&!exports.nodeType&&exports,mu=gu&&"object"==typeof e&&e&&!e.nodeType&&e,bu=mu&&mu.exports===gu?Lc.Buffer:void 0,yu=(bu?bu.isBuffer:void 0)||function(){return!1},wu={};wu["[object Float32Array]"]=wu["[object Float64Array]"]=wu["[object Int8Array]"]=wu["[object Int16Array]"]=wu["[object Int32Array]"]=wu["[object Uint8Array]"]=wu["[object Uint8ClampedArray]"]=wu["[object Uint16Array]"]=wu["[object Uint32Array]"]=!0,wu["[object Arguments]"]=wu["[object Array]"]=wu["[object ArrayBuffer]"]=wu["[object Boolean]"]=wu["[object DataView]"]=wu["[object Date]"]=wu["[object Error]"]=wu["[object Function]"]=wu["[object Map]"]=wu["[object Number]"]=wu["[object Object]"]=wu["[object RegExp]"]=wu["[object Set]"]=wu["[object String]"]=wu["[object WeakMap]"]=!1;var Ou="object"==typeof exports&&exports&&!exports.nodeType&&exports,_u=Ou&&"object"==typeof e&&e&&!e.nodeType&&e,ku=_u&&_u.exports===Ou&&Cc.process,ju=function(){try{var e=_u&&_u.require&&_u.require("util").types;return e||ku&&ku.binding&&ku.binding("util")}catch(Te){}}(),xu=ju&&ju.isTypedArray,Su=xu?function(e){return function(t){return e(t)}}(xu):function(e){return zc(e)&&lu(e.length)&&!!wu[qc(e)]},Tu=Object.prototype.hasOwnProperty;function Au(e,t){var n=Vc(e),r=!n&&vu(e),o=!n&&!r&&yu(e),i=!n&&!r&&!o&&Su(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!Tu.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||su(c,l))||s.push(c);return s}var Eu=Object.prototype.hasOwnProperty;function Iu(e){if(!Qc(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||uu)}(e),n=[];for(var r in e)("constructor"!=r||!t&&Eu.call(e,r))&&n.push(r);return n}function $u(e){return cu(e)?Au(e,!0):Iu(e)}var Mu,Cu=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[Mu?a:++r];if(!1===t(o[s],s,o))break}return e},Du=function(){return Lc.Date.now()},Lu=Math.max,Nu=Math.min;function Pu(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function p(e){return c=e,s=setTimeout(g,t),u?h(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function g(){var e=Du();if(v(e))return m(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?Nu(n,i-(e-c)):n}(e))}function m(e){return s=void 0,f&&r?h(e):(r=o=void 0,a)}function b(){var e=Du(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=ou(t)||0,Qc(n)&&(u=!!n.leading,i=(d="maxWait"in n)?Lu(ou(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},b.flush=function(){return void 0===s?a:m(Du())},b}var Ru=/[\\^$.*+?()[\]{}|]/g,Uu=RegExp(Ru.source);function Hu(e){var t;return(e=null==(t=e)?"":Xc(t))&&Uu.test(e)?e.replace(Ru,"\\$&"):e}function Fu(e,t){return null==e?e:Cu(e,"function"==typeof(n=t)?n:iu,$u);var n}var Bu=function(e,t,n){return Math.max(t,Math.min(e,n))},qu=Ua(cc.hex()),zu=(HTMLElement,"container"),Wu="preview",Vu="input",Gu=Rl(),Yu=(HTMLElement,"swatch"),Xu="rgba(0, 0, 0, 0.15)",Ju="rgba(255, 255, 255, 0.15)",Ku=(HTMLElement,function(e,t){var n=Hu(t),r=new RegExp(n,"ig");0===e.length&&console.warn("No data was passed to the filter function.\n    The data argument should be an array of objects");var o=function e(t,n){var r;if(null===(r=t)||void 0===r?void 0:r.constant)return!0;var o=!1;return Fu(t,(function(t){"function"!==typeof t&&(Array.isArray(t)||"object"===typeof t&&null!==t?e(t,n)&&(o=!0):n.test(t)&&(o=!0))})),o};return e.filter((function(e){return o(e,r)}))}),Zu="top",Qu="bottom",ed="right",td="left",nd="auto",rd=[Zu,Qu,ed,td],od="start",id="end",ad="viewport",sd="popper",ld=rd.reduce((function(e,t){return e.concat([t+"-"+od,t+"-"+id])}),[]),cd=[].concat(rd,[nd]).reduce((function(e,t){return e.concat([t,t+"-"+od,t+"-"+id])}),[]),ud=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function dd(e){return e?(e.nodeName||"").toLowerCase():null}function fd(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function hd(e){return e instanceof fd(e).Element||e instanceof Element}function pd(e){return e instanceof fd(e).HTMLElement||e instanceof HTMLElement}function vd(e){return"undefined"!==typeof ShadowRoot&&(e instanceof fd(e).ShadowRoot||e instanceof ShadowRoot)}var gd={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];pd(o)&&dd(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});pd(r)&&dd(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function md(e){return e.split("-")[0]}var bd=Math.round;function yd(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;return pd(e)&&t&&(r=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1),{width:bd(n.width/r),height:bd(n.height/o),top:bd(n.top/o),right:bd(n.right/r),bottom:bd(n.bottom/o),left:bd(n.left/r),x:bd(n.left/r),y:bd(n.top/o)}}function wd(e){var t=yd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Od(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vd(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _d(e){return fd(e).getComputedStyle(e)}function kd(e){return["table","td","th"].indexOf(dd(e))>=0}function jd(e){return((hd(e)?e.ownerDocument:e.document)||window.document).documentElement}function xd(e){return"html"===dd(e)?e:e.assignedSlot||e.parentNode||(vd(e)?e.host:null)||jd(e)}function Sd(e){return pd(e)&&"fixed"!==_d(e).position?e.offsetParent:null}function Td(e){for(var t=fd(e),n=Sd(e);n&&kd(n)&&"static"===_d(n).position;)n=Sd(n);return n&&("html"===dd(n)||"body"===dd(n)&&"static"===_d(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&pd(e)&&"fixed"===_d(e).position)return null;for(var n=xd(e);pd(n)&&["html","body"].indexOf(dd(n))<0;){var r=_d(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Ad(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Ed=Math.max,Id=Math.min,$d=Math.round;function Md(e,t,n){return Ed(e,Id(t,n))}function Cd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Dd(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Ld={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=md(n.placement),l=Ad(s),c=[td,ed].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return Cd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Dd(e,rd))}(o.padding,n),d=wd(i),f="y"===l?Zu:td,h="y"===l?Qu:ed,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],g=Td(i),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-v/2,y=u[f],w=m-d[c]-u[h],O=m/2-d[c]/2+b,_=Md(y,O,w),k=l;n.modifiersData[r]=((t={})[k]=_,t.centerOffset=_-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Od(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Nd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pd(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,u=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:$d($d(t*r)/r)||0,y:$d($d(n*r)/r)||0}}(i):"function"===typeof c?c(i):i,d=u.x,f=void 0===d?0:d,h=u.y,p=void 0===h?0:h,v=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),m=td,b=Zu,y=window;if(l){var w=Td(n),O="clientHeight",_="clientWidth";w===fd(n)&&"static"!==_d(w=jd(n)).position&&(O="scrollHeight",_="scrollWidth"),w=w,o===Zu&&(b=Qu,p-=w[O]-r.height,p*=s?1:-1),o===td&&(m=ed,f-=w[_]-r.width,f*=s?1:-1)}var k,j=Object.assign({position:a},l&&Nd);return s?Object.assign({},j,((k={})[b]=g?"0":"",k[m]=v?"0":"",k.transform=(y.devicePixelRatio||1)<2?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",k)):Object.assign({},j,((t={})[b]=g?p+"px":"",t[m]=v?f+"px":"",t.transform="",t))}var Rd={passive:!0};var Ud={left:"right",right:"left",bottom:"top",top:"bottom"};function Hd(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ud[e]}))}var Fd={start:"end",end:"start"};function Bd(e){return e.replace(/start|end/g,(function(e){return Fd[e]}))}function qd(e){var t=fd(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zd(e){return yd(jd(e)).left+qd(e).scrollLeft}function Wd(e){var t=_d(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Vd(e){return["html","body","#document"].indexOf(dd(e))>=0?e.ownerDocument.body:pd(e)&&Wd(e)?e:Vd(xd(e))}function Gd(e,t){var n;void 0===t&&(t=[]);var r=Vd(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=fd(r),a=o?[i].concat(i.visualViewport||[],Wd(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Gd(xd(a)))}function Yd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xd(e,t){return t===ad?Yd(function(e){var t=fd(e),n=jd(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+zd(e),y:s}}(e)):pd(t)?function(e){var t=yd(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Yd(function(e){var t,n=jd(e),r=qd(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Ed(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Ed(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+zd(e),l=-r.scrollTop;return"rtl"===_d(o||n).direction&&(s+=Ed(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(jd(e)))}function Jd(e,t,n){var r="clippingParents"===t?function(e){var t=Gd(xd(e)),n=["absolute","fixed"].indexOf(_d(e).position)>=0&&pd(e)?Td(e):e;return hd(n)?t.filter((function(e){return hd(e)&&Od(e,n)&&"body"!==dd(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=Xd(e,n);return t.top=Ed(r.top,t.top),t.right=Id(r.right,t.right),t.bottom=Id(r.bottom,t.bottom),t.left=Ed(r.left,t.left),t}),Xd(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Kd(e){return e.split("-")[1]}function Zd(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?md(o):null,a=o?Kd(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case Zu:t={x:s,y:n.y-r.height};break;case Qu:t={x:s,y:n.y+n.height};break;case ed:t={x:n.x+n.width,y:l};break;case td:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Ad(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case od:t[c]=t[c]-(n[u]/2-r[u]/2);break;case id:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Qd(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,l=void 0===s?ad:s,c=n.elementContext,u=void 0===c?sd:c,d=n.altBoundary,f=void 0!==d&&d,h=n.padding,p=void 0===h?0:h,v=Cd("number"!==typeof p?p:Dd(p,rd)),g=u===sd?"reference":sd,m=e.elements.reference,b=e.rects.popper,y=e.elements[f?g:u],w=Jd(hd(y)?y:y.contextElement||jd(e.elements.popper),a,l),O=yd(m),_=Zd({reference:O,element:b,strategy:"absolute",placement:o}),k=Yd(Object.assign({},b,_)),j=u===sd?k:O,x={top:w.top-j.top+v.top,bottom:j.bottom-w.bottom+v.bottom,left:w.left-j.left+v.left,right:j.right-w.right+v.right},S=e.modifiersData.offset;if(u===sd&&S){var T=S[o];Object.keys(x).forEach((function(e){var t=[ed,Qu].indexOf(e)>=0?1:-1,n=[Zu,Qu].indexOf(e)>=0?"y":"x";x[e]+=T[n]*t}))}return x}function ef(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?cd:l,u=Kd(r),d=u?s?ld:ld.filter((function(e){return Kd(e)===u})):rd,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Qd(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[md(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}var tf={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,g=t.options.placement,m=md(g),b=l||(m===g||!p?[Hd(g)]:function(e){if(md(e)===nd)return[];var t=Hd(e);return[Bd(e),t,Bd(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat(md(n)===nd?ef(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,O=t.rects.popper,_=new Map,k=!0,j=y[0],x=0;x<y.length;x++){var S=y[x],T=md(S),A=Kd(S)===od,E=[Zu,Qu].indexOf(T)>=0,I=E?"width":"height",$=Qd(t,{placement:S,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),M=E?A?ed:td:A?Qu:Zu;w[I]>O[I]&&(M=Hd(M));var C=Hd(M),D=[];if(i&&D.push($[T]<=0),s&&D.push($[M]<=0,$[C]<=0),D.every((function(e){return e}))){j=S,k=!1;break}_.set(S,D)}if(k)for(var L=function(e){var t=y.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},N=p?3:1;N>0;N--){if("break"===L(N))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nf(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function rf(e){return[Zu,ed,Qu,td].some((function(t){return e[t]>=0}))}var of={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,g=Qd(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),m=md(t.placement),b=Kd(t.placement),y=!b,w=Ad(m),O="x"===w?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,j=t.rects.popper,x="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S={x:0,y:0};if(_){if(i||s){var T="y"===w?Zu:td,A="y"===w?Qu:ed,E="y"===w?"height":"width",I=_[w],$=_[w]+g[T],M=_[w]-g[A],C=h?-j[E]/2:0,D=b===od?k[E]:j[E],L=b===od?-j[E]:-k[E],N=t.elements.arrow,P=h&&N?wd(N):{width:0,height:0},R=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=R[T],H=R[A],F=Md(0,k[E],P[E]),B=y?k[E]/2-C-F-U-x:D-F-U-x,q=y?-k[E]/2+C+F+H+x:L+F+H+x,z=t.elements.arrow&&Td(t.elements.arrow),W=z?"y"===w?z.clientTop||0:z.clientLeft||0:0,V=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,G=_[w]+B-V-W,Y=_[w]+q-V;if(i){var X=Md(h?Id($,G):$,I,h?Ed(M,Y):M);_[w]=X,S[w]=X-I}if(s){var J="x"===w?Zu:td,K="x"===w?Qu:ed,Z=_[O],Q=Z+g[J],ee=Z-g[K],te=Md(h?Id(Q,G):Q,Z,h?Ed(ee,Y):ee);_[O]=te,S[O]=te-Z}}t.modifiersData[r]=S}},requiresIfExists:["offset"]};function af(e,t,n){void 0===n&&(n=!1);var r=pd(t),o=pd(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),i=jd(t),a=yd(e,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==dd(t)||Wd(i))&&(s=function(e){return e!==fd(e)&&pd(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:qd(e);var t}(t)),pd(t)?((l=yd(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=zd(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function sf(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function lf(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var cf={placement:"bottom",modifiers:[],strategy:"absolute"};function uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function df(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?cf:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},cf,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){c(),o.options=Object.assign({},i,o.options,n),o.scrollParents={reference:hd(e)?Gd(e):e.contextElement?Gd(e.contextElement):[],popper:Gd(t)};var s=function(e){var t=sf(e);return ud.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=s.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(uf(t,n)){o.rects={reference:af(t,Td(n),"fixed"===o.options.strategy),popper:wd(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:lf((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!uf(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var ff=df({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=fd(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Rd)})),s&&l.addEventListener("resize",n.update,Rd),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Rd)})),s&&l.removeEventListener("resize",n.update,Rd)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Zd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:md(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pd(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pd(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},gd,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=cd.reduce((function(e,n){return e[n]=function(e,t,n){var r=md(e),o=[td,Zu].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[td,ed].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},tf,of,Ld,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Qd(t,{elementContext:"reference"}),s=Qd(t,{altBoundary:!0}),l=nf(a,r),c=nf(s,o,i),u=rf(l),d=rf(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),hf="calcite-popper-anim",pf="calcite-popper-anim--active";function vf(e,t){var n=["left","right"],r=["start","end"];return"rtl"===Ei(e)&&(n.reverse(),r.reverse()),t.replace(/-leading/gi,"-".concat(r[0])).replace(/-trailing/gi,"-".concat(r[1])).replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}function gf(e){var t=e.referenceEl,n=e.el,r=e.placement,o=e.overlayPositioning,i=void 0===o?"absolute":o,a=e.modifiers;return t?ff(t,n,{strategy:i,placement:vf(n,r),modifiers:a}):null}function mf(e){var t=e.el,n=e.modifiers,r=e.placement,o=e.popper,i=vf(t,r);o.setOptions({modifiers:n,placement:i})}var bf,yf,wf=Math.ceil((bf=4,yf=4,Math.sqrt(Math.pow(bf,2)+Math.pow(yf,2)))),Of="CALCITE-COMBOBOX-ITEM",_f="CALCITE-COMBOBOX-ITEM-GROUP",kf="".concat(Of,", ").concat(_f),jf="bottom-leading";function xf(e){var t,n,r=null===(t=e.parentElement)||void 0===t?void 0:t.closest(kf);return[r,null===(n=null===r||void 0===r?void 0:r.parentElement)||void 0===n?void 0:n.closest(kf)].filter((function(e){return e}))}function Sf(e){var t;return(null===(t=e.ancestors)||void 0===t?void 0:t.filter((function(e){return"CALCITE-COMBOBOX-ITEM"===e.nodeName})))||[]}function Tf(e){return Ti(e.querySelectorAll("calcite-combobox-item")).filter((function(e){return e.selected})).length>0}function Af(e){return yi?document.evaluate("ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group",e,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}HTMLElement;var Ef="icon",If="icon--active",$f="icon--custom",Mf="icon--dot",Cf="label--single",Df="label",Lf="label--active",Nf="label--selected",Pf="title",Rf=(HTMLElement,"list"),Uf="label",Hf="title";HTMLElement;function Ff(e){return!(!e||isNaN(Number(e)))}function Bf(e){if(!e||!function(e){return Oi.some((function(t){return e.includes(t)}))}(e))return null;var t=!1,n=e.split("").filter((function(e,n){return e.match(/\./g)&&!t?(t=!0,!0):!(!e.match(/\-/g)||0!==n)||Oi.includes(e)})).reduce((function(e,t){return e+t}));return Ff(n)?Number(n).toString():null}function qf(e){return(null===e||void 0===e?void 0:e.endsWith("."))?e.replace(".",""):e}function zf(e){return e?Number(qf(e)).toString():e}var Wf=["ar","bs","ca","cs","da","de","de-CH","el","en","en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","nb","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];function Vf(e){return new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:20})}function Gf(e,t){if(e){var n=Yf(t),r=Xf(t),o=e.split(""),i=o.lastIndexOf(r),a=o.map((function(e,t){return e===n||e===r&&t!==i?"":e})).reduce((function(e,t){return e+t})).replace(r,".");return isNaN(Number(a))?e:a}return e}function Yf(e){var t=Vf(e).formatToParts(1234567.8).find((function(e){return"group"===e.type})).value;return 0===t.trim().length?" ":t}function Xf(e){var t=Vf(e).formatToParts(1234567.8).find((function(e){return"decimal"===e.type})).value;return 0===t.trim().length?" ":t}function Jf(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=Number(qf(e));if(!isNaN(r)){var o=Vf(t),i=o.formatToParts(r),a=i.map((function(e){var r=e.type,o=e.value;switch(r){case"group":return n?Yf(t):"";case"decimal":return Xf(t);default:return o}})).reduce((function(e,t){return e+t}));return a}}return e}function Kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Wf.indexOf(e)>-1)return e;var t=e.split("-")[0];return Wf.indexOf(t)>-1?t:"en"}var Zf={},Qf={};function eh(e){return th.apply(this,arguments)}function th(){return(th=Object(ae.a)(oe.mark((function e(t){var n,r;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Kf(t),!Zf[n]){e.next=3;break}return e.abrupt("return",Zf[n]);case 3:return Qf[n]||(Qf[n]=fetch(ei("./assets/calcite-date-picker/nls/".concat(n,".json"))).then((function(e){return e.json()})).catch((function(){return console.error('Translations for "'.concat(n,'" not found or invalid, falling back to english')),eh("en")}))),e.next=6,Qf[n];case 6:return r=e.sent,Zf[n]=r,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e,t,n){var r=e.getTime(),o=!(t instanceof Date)||r>=t.getTime(),i=!(n instanceof Date)||r<=n.getTime();return o&&i}function rh(e,t,n){if(!(e instanceof Date))return null;var r=e.getTime(),o=t instanceof Date&&r<t.getTime(),i=n instanceof Date&&r>n.getTime();return o?t:i?n:e}function oh(e){if(e instanceof Date)return e;if(!e||"string"!==typeof e)return null;var t=e.split(/[: T-]/).map(parseFloat),n=new Date(t[0],(t[1]||1)-1,t[2]||1);if(n.setFullYear(t[0]),isNaN(n.getTime()))throw new Error('Invalid ISO 8601 date: "'.concat(e,'"'));return n}function ih(e){return"string"===typeof e?e:e instanceof Date?new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0]:""}function ah(e,t){return e instanceof Date&&t instanceof Date&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function sh(e,t){return String(e).split("").map((function(e){return t.numerals[e]})).join("")}function lh(e,t){return parseInt(e.split("").map((function(e){return"0123456789"[t.numerals.indexOf(e)]})).filter((function(e){return e})).join(""))}function ch(e,t){var n=t.separator,r=uh(t.unitOrder),o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[\u0660-\u0669]/g,(function(e){return e.charCodeAt(0)-1632})).replace(/[\u06f0-\u06f9]/g,(function(e){return e.charCodeAt(0)-1776}))}(e).split(n);return{day:parseInt(o[r.indexOf("d")]),month:parseInt(o[r.indexOf("m")])-1,year:parseInt(o[r.indexOf("y")])}}function uh(e){var t=e.toLowerCase();return["d","m","y"].sort((function(e,n){return t.indexOf(e)-t.indexOf(n)}))}function dh(e,t){var n=e.getTime(),r=t.getTime();return 1e3*Math.abs(n-r)*60*60*24}var fh="next month",hh="previous month",ph=(HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,"container--s"),vh="container--m",gh="container--l",mh=(HTMLElement,"container--link"),bh="container--s",yh="container--m",wh="container--l",Oh="container--multi-selection",_h="container--single-selection",kh="container--none-selection",jh=(HTMLElement,"button"),xh="plus",Sh=(HTMLElement,"container"),Th="search-icon",Ah="clear-button",Eh="filter",Ih="Clear filter",$h="search",Mh="x",Ch=(HTMLElement,"frame"),Dh="frame--advancing",Lh="frame--retreating";HTMLElement;function Nh(e,t,n){var r=t[0]-e[0],o=t[1]-e[1];return r?(3*o/r-n)/2:n}function Ph(e,t,n,r,o){var i=Object(le.a)(e,2),a=i[0],s=i[1],l=Object(le.a)(t,2),c=l[0],u=l[1],d=(c-a)/3,f=o([a+d,s+d*n]).join(","),h=o([c-d,u-d*r]).join(","),p=o([c,u]).join(",");return"C ".concat(f," ").concat(h," ").concat(p)}function Rh(e){var t=e.data,n=e.min,r=e.max,o=e.t;if(0===t.length)return"";var i,a,s,l=o(t[0]),c=Object(le.a)(l,2),u=c[0],d=c[1],f=o(n),h=Object(le.a)(f,2),p=h[0],v=h[1],g=o(r),m=Object(le.a)(g,1)[0],b=t.reduce((function(e,n,r){if(a=t[r-2],s=t[r-1],r>1){var l=function(e,t,n){var r=t[0]-e[0],o=n[0]-t[0],i=(t[1]-e[1])/(r||o<0&&0),a=(n[1]-t[1])/(o||r<0&&0),s=(i*o+a*r)/(r+o);return(Math.sign(i)+Math.sign(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}(a,s,n),c=void 0===i?Nh(a,s,l):i,u=Ph(a,s,c,l,o);return i=l,"".concat(e," ").concat(u)}return e}),"M ".concat(p,",").concat(v," L ").concat(p,",").concat(d," L ").concat(u,",").concat(d)),y=t[t.length-1],w=Ph(s,y,i,Nh(s,y,i),o);return"".concat(b," ").concat(w," L ").concat(m,",").concat(v," Z")}HTMLElement;var Uh="handle",Hh="handle--activated",Fh="drag",Bh=(HTMLElement,"flip-rtl"),qh={},zh={},Wh={s:16,m:24,l:32};function Vh(e){return Gh.apply(this,arguments)}function Gh(){return(Gh=Object(ae.a)(oe.mark((function e(t){var n,r,o,i,a,s,l,c;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.icon,r=t.scale,o=Wh[r],i=Yh(n),a="F"===i.charAt(i.length-1),s=a?i.substring(0,i.length-1):i,l="".concat(s).concat(o).concat(a?"F":""),!qh[l]){e.next=8;break}return e.abrupt("return",qh[l]);case 8:return zh[l]||(zh[l]=fetch(ei("./assets/calcite-icon/".concat(l,".json"))).then((function(e){return e.json()})).catch((function(){return console.error('"'.concat(l,'" is not a valid calcite-ui-icon name')),""}))),e.next=11,zh[l];case 11:return c=e.sent,qh[l]=c,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e){var t=!isNaN(Number(e.charAt(0))),n=e.split("-");return 1===n.length?t?"i".concat(e):e:n.map((function(e,n){return 0===n?t?"i".concat(e.toUpperCase()):e:e.charAt(0).toUpperCase()+e.slice(1)})).join("")}HTMLElement;var Xh,Jh="calcite-inline-editable__wrapper",Kh="calcite-inline-editable__confirm-changes-button",Zh="calcite-inline-editable__cancel-editing-button",Qh="calcite-inline-editable__input-wrapper",ep="calcite-inline-editable__cancel-editing-button-wrapper",tp="calcite-inline-editable__enable-editing-button",np="calcite-inline-editable__controls-wrapper",rp="Click to edit",op="Cancel",ip="Save",ap=(HTMLElement,"calcite-input__loader"),sp="calcite-input__clear-button",lp="calcite-input__icon",cp="calcite-input__prefix",up="calcite-input__suffix",dp="calcite-input__number-button-wrapper",fp="calcite-input__number-button-item--horizontal",hp="calcite-input__element-wrapper",pp="calcite-input__wrapper",vp="calcite-input__action-wrapper",gp="calcite-input__resize-icon-wrapper",mp="calcite-input__number-button-item",bp={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},yp="action",wp=(HTMLElement,"bottom-leading");HTMLElement;!function(e){e.valid="check-circle",e.invalid="exclamation-mark-triangle",e.idle="information"}(Xh||(Xh={}));HTMLElement;function Op(e){if(!Ff(e))return null;var t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function _p(e){if(!Ff(e))return null;var t=parseInt(e);return 0===t?"12":t>12?xp(t-12):e}function kp(e){var t=jp(e),n=t?t.split(":"):[null,null,null],r=Object(le.a)(n,3),o=r[0],i=r[1];return{hour:o,minute:i,second:r[2]||(o&&i?"00":null)}}function jp(e){if(!e||e.endsWith(":")||e.startsWith(":"))return null;var t=e.split(":");if(t.length>1){var n=Object(le.a)(t,3),r=n[0],o=n[1],i=n[2],a=parseInt(t[0]),s=parseInt(t[1]),l=parseInt(t[2]),c=Ff(r)&&a>=0&&a<24,u=Ff(o)&&s>=0&&s<60,d=Ff(i)&&l>=0&&l<60;if(c&&u&&!i||c&&u&&d){var f="".concat(xp(a),":").concat(xp(s));return d&&(f="".concat(f,":").concat(xp(l))),f}}return null}function xp(e){var t=e.toString();return e>=0&&e<=9?t.padStart(2,"0"):t}HTMLElement,HTMLElement,HTMLElement;var Sp="container",Tp=(HTMLElement,"container"),Ap="content-container",Ep="nested-container",Ip="content-container--button",$p="content",Mp="actions-start",Cp="content-start",Dp="label",Lp="description",Np="content-end",Pp="actions-end",Rp="actions-start",Up="content-start",Hp="content-end",Fp="actions-end",Bp=(HTMLElement,"heading"),qp="container";HTMLElement,HTMLElement;function zp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[];if(o>=r)return i;for(var a=function(e){var i=e.assignedNodes().filter((function(e){return 1===e.nodeType}));return i.length>0?zp(i[0].parentElement,t,n,r,o+1):[]},s=Array.from(e.children||[]),l=0,c=s;l<c.length;l++){var u=c[l];t(u)||(n(u)&&i.push(u),null!=u.shadowRoot?i.push.apply(i,Object(Le.a)(zp(u.shadowRoot,t,n,r,o+1))):"SLOT"===u.tagName?i.push.apply(i,Object(Le.a)(a(u))):i.push.apply(i,Object(Le.a)(zp(u,t,n,r,o+1))))}return i}function Wp(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"false"!==e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility}var Vp,Gp=function(e){return Li(e)||"-1"!==(t=e).getAttribute("tabindex")&&!Wp(t)&&!function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"false"!==e.getAttribute("aria-disabled")}(t)&&(t.hasAttribute("tabindex")||(t instanceof HTMLAnchorElement||t instanceof HTMLAreaElement)&&t.hasAttribute("href")||t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t instanceof HTMLIFrameElement);var t},Yp=function(e){return zp(e,Wp,Gp)},Xp=(HTMLElement,"Close"),Jp="title",Kp="message",Zp="link",Qp="actions-end",ev="actions-end",tv="notice-close",nv="container",rv="notice-content",ov="notice-icon",iv=(HTMLElement,HTMLElement,HTMLElement,"page"),av="is-selected",sv="previous",lv="next",cv="is-disabled",uv="ellipsis",dv="ellipsis--start",fv="ellipsis--end",hv="next",pv="previous",vv=(HTMLElement,"back-button"),gv="container",mv="header",bv="heading",yv="summary",wv="header-content",Ov="header-actions",_v="header-actions--end",kv="header-actions--start",jv="content-container",xv="fab-container",Sv="footer",Tv="x",Av="ellipsis",Ev="chevron-left",Iv="chevron-right",$v="header-actions-start",Mv="header-actions-end",Cv="header-menu-actions",Dv="header-content",Lv="fab",Nv="footer",Pv="footer-actions",Rv="Back",Uv="Close",Hv="Options",Fv=(HTMLElement,"sticky");function Bv(){this.setUpItems(),this.setUpFilter()}!function(e){e.circle="circle",e.square="square",e.grip="grip"}(Vp||(Vp={}));var qv,zv=["ArrowUp","ArrowDown"];function Wv(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=Pu(Zv.bind(this),0)}function Vv(){this.observer.observe(this.el,{childList:!0,subtree:!0})}function Gv(){this.observer.disconnect()}function Yv(e){var t=this.selectedValues,n=e.detail,r=n.item,o=n.value,i=n.selected,a=n.shiftPressed;i?(this.multiple&&a&&this.selectSiblings(r),this.multiple||this.deselectSiblingItems(r),t.set(o,r)):(t.delete(o),this.multiple&&a&&this.selectSiblings(r,!0)),this.multiple||(eg(r,i),i&&Ni(r)),this.lastSelectedItem=r,this.emitCalciteListChange()}function Xv(e){e.stopPropagation();var t=e.detail.oldValue,n=this.selectedValues;if(n.has(t)){var r=n.get(t);n.delete(t),n.set(e.detail.newValue,r)}}function Jv(e){var t=this.el,n=this.items,r=this.multiple,o=this.selectedValues;r||(!!t.contains(e.relatedTarget)?eg(e.target,!1):n.forEach((function(t){return eg(t,0===o.size?e.target===t:t.selected)})))}function Kv(e){var t=e.key,n=e.target;if(function(e){return!!zv.find((function(t){return t===e}))}(t)){var r=this.items,o=this.multiple,i=this.selectionFollowsFocus,a=r.length,s=r.indexOf(n);if(a&&-1!==s){e.preventDefault();var l=r[ba(s+("ArrowUp"===t?-1:1),a)];r.forEach((function(e){return eg(e,e===l)})),!o&&i&&(l.selected=!0),Ni(l)}}}function Zv(){this.calciteListChange.emit(this.selectedValues)}function Qv(e){if(!e.defaultPrevented){var t=e.target,n=this.selectedValues;"CALCITE-PICK-LIST-GROUP"===t.parentElement.tagName?(t.parentElement.remove(),Array.from(t.parentElement.children).forEach((function(e){return n.delete(e.value)}))):(t.remove(),n.delete(t.value)),this.emitCalciteListChange()}}function eg(e,t){t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")}function tg(e){return ng.apply(this,arguments)}function ng(){return(ng=Object(ae.a)(oe.mark((function e(t){var n,r,o,i;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.filterEnabled||"filter"!==t){e.next=4;break}return e.next=3,Ni(this.filterEl);case 3:return e.abrupt("return");case 4:if(n=this.items,r=this.multiple,o=this.selectionFollowsFocus,0!==n.length){e.next=7;break}return e.abrupt("return");case 7:if(!r){e.next=9;break}return e.abrupt("return",n[0].setFocus());case 9:return i=n.find((function(e){return e.selected}))||n[0],o&&(i.selected=!0),e.abrupt("return",i.setFocus());case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function rg(e){var t=this;this.items=Array.from(this.el.querySelectorAll(e));var n=!1,r=this.items;r.forEach((function(e){e.icon=t.getIconType(),t.multiple||(e.disableDeselect=!0,eg(e,!1)),e.selected&&(n=!0,eg(e,!0),t.selectedValues.set(e.value,e))}));var o=Object(le.a)(r,1)[0];!n&&o&&eg(o,!0)}function og(e){var t=this;this.items.forEach((function(n){n.value!==e.value&&(n.toggleSelected(!1),t.selectedValues.has(n.value)&&t.selectedValues.delete(n.value))}))}function ig(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.lastSelectedItem){var r=this.items,o=r.findIndex((function(e){return e.value===t.lastSelectedItem.value})),i=r.findIndex((function(t){return t.value===e.value}));r.slice(Math.min(o,i),Math.max(o,i)).forEach((function(e){e.toggleSelected(!n),n?t.selectedValues.delete(e.value):t.selectedValues.set(e.value,e)}))}}function ag(e){var t=e.detail.map((function(e){return e.value})),n=!1;qv||(qv=new Set);var r=this.items.filter((function(e){var r=e.parentElement;r.matches("calcite-pick-list-group")&&qv.add(r);var o=t.includes(e.value);return e.hidden=!o,n||(n=o&&e.selected),o}));qv.forEach((function(e){var t=r.some((function(t){return e.contains(t)}));if(e.hidden=!t,t){var n=Ri(e,"parent-item");n&&(n.hidden=!1,r.includes(n)&&Array.from(e.children).forEach((function(e){return e.hidden=!1})))}})),qv.clear(),r.length>0&&!n&&!this.multiple&&eg(r[0],!0)}function sg(){return this.items.map((function(e){return{label:e.label,description:e.description,metadata:e.metadata,value:e.value}}))}var lg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},cg=function(e){var t=e.props,n=t.disabled,r=t.loading,o=t.filterEnabled,i=t.dataForFilter,a=t.handleFilter,s=t.filterPlaceholder,l=t.el,c=t.setFilterEl,u=lg(e,["props"]),d=co("slot",null);return co(fo,Object.assign({"aria-busy":r.toString(),"aria-disabled":n.toString(),role:"menu"},u),co("section",null,co("header",{class:Object(Wn.a)({},Fv,!0)},o?co("calcite-filter",{"aria-label":s,data:i,dir:Ei(l),disabled:r||n,onCalciteFilterChange:a,placeholder:s,ref:c}):null,co("slot",{name:"menu-actions"})),r||n?co("calcite-scrim",{loading:r}):null,d))},ug=(HTMLElement,"heading"),dg="container",fg="container--indented",hg="parent-item",pg=(HTMLElement,"actions"),vg="actions--end",gg="actions--start",mg="description",bg="handle",yg="handle--activated",wg="icon",Og="icon-dot",_g="label",kg="remove",jg="title",xg="text-container",Sg="check",Tg="x",Ag="actions-end",Eg="actions-start",Ig="remove",$g=(HTMLElement,"container"),Mg="arrow",Cg="close-button",Dg="content",Lg="has-header",Ng="header",Pg="heading",Rg="Close",Ug="data-calcite-popover-reference",Hg="aria-controls",Fg="aria-expanded",Bg=(HTMLElement,HTMLElement,HTMLElement,HTMLElement,"calcite-radio-button__container"),qg=(HTMLElement,HTMLElement,HTMLElement,HTMLElement,"Rating"),zg="stars: ${num}",Wg=(HTMLElement,"scrim"),Vg="Loading",Gg=(HTMLElement,"icon"),Yg="icon-container",Xg="select";function Jg(e){return"CALCITE-OPTION"===e.tagName}HTMLElement;var Kg="main",Zg="main--reversed",Qg="content",em="content--behind",tm="footer",nm="primary-panel",rm="contextual-panel",om="header",im="footer",am=(HTMLElement,"action-bar-container"),sm="content",lm="action-bar",cm=(HTMLElement,"content"),um="content__header",dm="content__body",fm="content--detached",hm="action-bar",pm="header";HTMLElement,HTMLElement;function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach((function(t){bm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mm(e){return mm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ym(){return ym=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ym.apply(this,arguments)}function wm(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Om(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var _m=Om(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),km=Om(/Edge/i),jm=Om(/firefox/i),xm=Om(/safari/i)&&!Om(/chrome/i)&&!Om(/android/i),Sm=Om(/iP(ad|od|hone)/i),Tm=Om(/chrome/i)&&Om(/android/i),Am={capture:!1,passive:!1};function Em(e,t,n){e.addEventListener(t,n,!_m&&Am)}function Im(e,t,n){e.removeEventListener(t,n,!_m&&Am)}function $m(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Mm(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Cm(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&$m(e,t):$m(e,t))||r&&e===n)return e;if(e===n)break}while(e=Mm(e))}return null}var Dm,Lm=/\s+/g;function Nm(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Lm," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Lm," ")}}function Pm(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function Rm(e,t){var n="";if("string"===typeof e)n=e;else do{var r=Pm(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Um(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function Hm(){var e=document.scrollingElement;return e||document.documentElement}function Fm(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==Hm()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!_m))do{if(o&&o.getBoundingClientRect&&("none"!==Pm(o,"transform")||n&&"static"!==Pm(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(Pm(o,"border-top-width")),s-=f.left+parseInt(Pm(o,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var h=Rm(o||e),p=h&&h.a,v=h&&h.d;h&&(l=(a/=v)+(u/=v),c=(s/=p)+(d/=p))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Bm(e,t,n){for(var r=Gm(e,!0),o=Fm(e)[t];r;){var i=Fm(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===Hm())break;r=Gm(r,!1)}return!1}function qm(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Jb.ghost&&(r||a[i]!==Jb.dragged)&&Cm(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function zm(e,t){for(var n=e.lastElementChild;n&&(n===Jb.ghost||"none"===Pm(n,"display")||t&&!$m(n,t));)n=n.previousElementSibling;return n||null}function Wm(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Jb.clone||t&&!$m(e,t)||n++;return n}function Vm(e){var t=0,n=0,r=Hm();if(e)do{var o=Rm(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function Gm(e,t){if(!e||!e.getBoundingClientRect)return Hm();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Pm(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Hm();if(r||t)return n;r=!0}}}while(n=n.parentNode);return Hm()}function Ym(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Xm(e,t){return function(){if(!Dm){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),Dm=setTimeout((function(){Dm=void 0}),t)}}}function Jm(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Km(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Zm="Sortable"+(new Date).getTime();function Qm(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Pm(e,"display")&&e!==Jb.ghost){t.push({target:e,rect:Fm(e)});var n=gm({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=Rm(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=Fm(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=Rm(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Ym(l,s)&&!Ym(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),Ym(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof n&&n()}),i):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){Pm(e,"transition",""),Pm(e,"transform","");var o=Rm(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Pm(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Pm(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Pm(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Pm(e,"transition",""),Pm(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var eb=[],tb={initializeByDefault:!0},nb={mount:function(e){for(var t in tb)tb.hasOwnProperty(t)&&!(t in e)&&(e[t]=tb[t]);eb.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),eb.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";eb.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](gm({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](gm({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in eb.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,ym(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return eb.forEach((function(r){"function"===typeof r.eventProperties&&ym(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return eb.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};var rb=["evt"],ob=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=wm(n,rb);nb.pluginEvent.bind(Jb)(e,t,gm({dragEl:ab,parentEl:sb,ghostEl:lb,rootEl:cb,nextEl:ub,lastDownEl:db,cloneEl:fb,cloneHidden:hb,dragStarted:Sb,putSortable:yb,activeSortable:Jb.active,originalEvent:r,oldIndex:pb,oldDraggableIndex:gb,newIndex:vb,newDraggableIndex:mb,hideGhostForTarget:Vb,unhideGhostForTarget:Gb,cloneNowHidden:function(){hb=!0},cloneNowShown:function(){hb=!1},dispatchSortableEvent:function(e){ib({sortable:t,name:e,originalEvent:r})}},o))};function ib(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Zm]){var v,g=t.options,m="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||_m||km?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=s||n,v.item=o||n,v.clone=i,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=h?h.lastPutMode:void 0;var b=gm(gm({},p),nb.getEventProperties(r,t));for(var y in b)v[y]=b[y];n&&n.dispatchEvent(v),g[m]&&g[m].call(t,v)}}(gm({putSortable:yb,cloneEl:fb,targetEl:ab,rootEl:cb,oldIndex:pb,oldDraggableIndex:gb,newIndex:vb,newDraggableIndex:mb},e))}var ab,sb,lb,cb,ub,db,fb,hb,pb,vb,gb,mb,bb,yb,wb,Ob,_b,kb,jb,xb,Sb,Tb,Ab,Eb,Ib,$b=!1,Mb=!1,Cb=[],Db=!1,Lb=!1,Nb=[],Pb=!1,Rb=[],Ub="undefined"!==typeof document,Hb=Sm,Fb=km||_m?"cssFloat":"float",Bb=Ub&&!Tm&&!Sm&&"draggable"in document.createElement("div"),qb=function(){if(Ub){if(_m)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),zb=function(e,t){var n=Pm(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=qm(e,0,t),i=qm(e,1,t),a=o&&Pm(o),s=i&&Pm(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Fm(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Fm(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Fb]||i&&"none"===n[Fb]&&l+c>r)?"vertical":"horizontal"},Wb=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==mm(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Vb=function(){!qb&&lb&&Pm(lb,"display","none")},Gb=function(){!qb&&lb&&Pm(lb,"display","")};Ub&&document.addEventListener("click",(function(e){if(Mb)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Mb=!1,!1}),!0);var Yb=function(e){if(ab){var t=function(e,t){var n;return Cb.some((function(r){var o=r[Zm].options.emptyInsertThreshold;if(o&&!zm(r)){var i=Fm(r),a=e>=i.left-o&&e<=i.right+o,s=t>=i.top-o&&t<=i.bottom+o;return a&&s?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Zm]._onDragOver(n)}}},Xb=function(e){ab&&ab.parentNode[Zm]._isOutsideThisEl(e.target)};function Jb(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ym({},t),e[Zm]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return zb(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Jb.supportPointer&&"PointerEvent"in window&&!xm,emptyInsertThreshold:5};for(var r in nb.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Wb(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Bb,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Em(e,"pointerdown",this._onTapStart):(Em(e,"mousedown",this._onTapStart),Em(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Em(e,"dragover",this),Em(e,"dragenter",this)),Cb.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ym(this,Qm())}function Kb(e,t,n,r,o,i,a,s){var l,c,u=e[Zm],d=u.options.onMove;return!window.CustomEvent||_m||km?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||Fm(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function Zb(e){e.draggable=!1}function Qb(){Pb=!1}function ey(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ty(e){return setTimeout(e,0)}function ny(e){return clearTimeout(e)}Jb.prototype={constructor:Jb,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Tb=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ab):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Rb.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Rb.push(r)}}(n),!ab&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!xm||!s||"SELECT"!==s.tagName.toUpperCase())&&(!(s=Cm(s,r.draggable,n,!1))||!s.animated)&&db!==s){if(pb=Wm(s),gb=Wm(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return ib({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),ob("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=Cm(l,r.trim(),n,!1))return ib({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),ob("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!Cm(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!ab&&n.parentNode===i){var l=Fm(n);if(cb=i,sb=(ab=n).parentNode,ub=ab.nextSibling,db=n,bb=a.group,Jb.dragged=ab,wb={target:ab,clientX:(t||e).clientX,clientY:(t||e).clientY},jb=wb.clientX-l.left,xb=wb.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ab.style["will-change"]="all",r=function(){ob("delayEnded",o,{evt:e}),Jb.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!jm&&o.nativeDraggable&&(ab.draggable=!0),o._triggerDragStart(e,t),ib({sortable:o,name:"choose",originalEvent:e}),Nm(ab,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Um(ab,e.trim(),Zb)})),Em(s,"dragover",Yb),Em(s,"mousemove",Yb),Em(s,"touchmove",Yb),Em(s,"mouseup",o._onDrop),Em(s,"touchend",o._onDrop),Em(s,"touchcancel",o._onDrop),jm&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ab.draggable=!0),ob("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(km||_m))r();else{if(Jb.eventCanceled)return void this._onDrop();Em(s,"mouseup",o._disableDelayedDrag),Em(s,"touchend",o._disableDelayedDrag),Em(s,"touchcancel",o._disableDelayedDrag),Em(s,"mousemove",o._delayedDragTouchMoveHandler),Em(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Em(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ab&&Zb(ab),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Im(e,"mouseup",this._disableDelayedDrag),Im(e,"touchend",this._disableDelayedDrag),Im(e,"touchcancel",this._disableDelayedDrag),Im(e,"mousemove",this._delayedDragTouchMoveHandler),Im(e,"touchmove",this._delayedDragTouchMoveHandler),Im(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Em(document,"pointermove",this._onTouchMove):Em(document,t?"touchmove":"mousemove",this._onTouchMove):(Em(ab,"dragend",this),Em(cb,"dragstart",this._onDragStart));try{document.selection?ty((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if($b=!1,cb&&ab){ob("dragStarted",this,{evt:t}),this.nativeDraggable&&Em(document,"dragover",Xb);var n=this.options;!e&&Nm(ab,n.dragClass,!1),Nm(ab,n.ghostClass,!0),Jb.active=this,e&&this._appendGhost(),ib({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ob){this._lastX=Ob.clientX,this._lastY=Ob.clientY,Vb();for(var e=document.elementFromPoint(Ob.clientX,Ob.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ob.clientX,Ob.clientY))!==t;)t=e;if(ab.parentNode[Zm]._isOutsideThisEl(e),t)do{if(t[Zm]){if(t[Zm]._onDragOver({clientX:Ob.clientX,clientY:Ob.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Gb()}},_onTouchMove:function(e){if(wb){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=lb&&Rm(lb,!0),a=lb&&i&&i.a,s=lb&&i&&i.d,l=Hb&&Ib&&Vm(Ib),c=(o.clientX-wb.clientX+r.x)/(a||1)+(l?l[0]-Nb[0]:0)/(a||1),u=(o.clientY-wb.clientY+r.y)/(s||1)+(l?l[1]-Nb[1]:0)/(s||1);if(!Jb.active&&!$b){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(lb){i?(i.e+=c-(_b||0),i.f+=u-(kb||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Pm(lb,"webkitTransform",d),Pm(lb,"mozTransform",d),Pm(lb,"msTransform",d),Pm(lb,"transform",d),_b=c,kb=u,Ob=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!lb){var e=this.options.fallbackOnBody?document.body:cb,t=Fm(ab,!0,Hb,!0,e),n=this.options;if(Hb){for(Ib=e;"static"===Pm(Ib,"position")&&"none"===Pm(Ib,"transform")&&Ib!==document;)Ib=Ib.parentNode;Ib!==document.body&&Ib!==document.documentElement?(Ib===document&&(Ib=Hm()),t.top+=Ib.scrollTop,t.left+=Ib.scrollLeft):Ib=Hm(),Nb=Vm(Ib)}Nm(lb=ab.cloneNode(!0),n.ghostClass,!1),Nm(lb,n.fallbackClass,!0),Nm(lb,n.dragClass,!0),Pm(lb,"transition",""),Pm(lb,"transform",""),Pm(lb,"box-sizing","border-box"),Pm(lb,"margin",0),Pm(lb,"top",t.top),Pm(lb,"left",t.left),Pm(lb,"width",t.width),Pm(lb,"height",t.height),Pm(lb,"opacity","0.8"),Pm(lb,"position",Hb?"absolute":"fixed"),Pm(lb,"zIndex","100000"),Pm(lb,"pointerEvents","none"),Jb.ghost=lb,e.appendChild(lb),Pm(lb,"transform-origin",jb/parseInt(lb.style.width)*100+"% "+xb/parseInt(lb.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;ob("dragStart",this,{evt:e}),Jb.eventCanceled?this._onDrop():(ob("setupClone",this),Jb.eventCanceled||((fb=Km(ab)).draggable=!1,fb.style["will-change"]="",this._hideClone(),Nm(fb,this.options.chosenClass,!1),Jb.clone=fb),n.cloneId=ty((function(){ob("clone",n),Jb.eventCanceled||(n.options.removeCloneOnHide||cb.insertBefore(fb,ab),n._hideClone(),ib({sortable:n,name:"clone"}))})),!t&&Nm(ab,o.dragClass,!0),t?(Mb=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Im(document,"mouseup",n._onDrop),Im(document,"touchend",n._onDrop),Im(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ab)),Em(document,"drop",n),Pm(ab,"transform","translateZ(0)")),$b=!0,n._dragStartId=ty(n._dragStarted.bind(n,t,e)),Em(document,"selectstart",n),Sb=!0,xm&&Pm(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,c=Jb.active,u=bb===l,d=s.sort,f=yb||c,h=this,p=!1;if(!Pb){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Cm(a,s.draggable,i,!0),E("dragOver"),Jb.eventCanceled)return p;if(ab.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return $(!1);if(Mb=!1,c&&!s.disabled&&(u?d||(r=sb!==cb):yb===this||(this.lastPutMode=bb.checkPull(this,c,ab,e))&&l.checkPut(this,c,ab,e))){if(o="vertical"===this._getDirection(e,a),t=Fm(ab),E("dragOverValid"),Jb.eventCanceled)return p;if(r)return sb=cb,I(),this._hideClone(),E("revert"),Jb.eventCanceled||(ub?cb.insertBefore(ab,ub):cb.appendChild(ab)),$(!0);var v=zm(i,s.draggable);if(!v||function(e,t,n){var r=Fm(zm(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}(e,o,this)&&!v.animated){if(v===ab)return $(!1);if(v&&i===e.target&&(a=v),a&&(n=Fm(a)),!1!==Kb(cb,i,ab,t,a,n,e,!!a))return I(),i.appendChild(ab),sb=i,M(),$(!0)}else if(v&&function(e,t,n){var r=Fm(qm(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var g=qm(i,0,s,!0);if(g===ab)return $(!1);if(n=Fm(a=g),!1!==Kb(cb,i,ab,t,a,n,e,!1))return I(),i.insertBefore(ab,g),sb=i,M(),$(!0)}else if(a.parentNode===i){n=Fm(a);var m,b,y,w=ab.parentNode!==i,O=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(ab.animated&&ab.toRect||t,a.animated&&a.toRect||n,o),_=o?"top":"left",k=Bm(a,"top","top")||Bm(ab,"top","top"),j=k?k.scrollTop:void 0;if(Tb!==a&&(b=n[_],Db=!1,Lb=!O&&s.invertSwap||w),m=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&Eb<c*o){if(!Db&&(1===Ab?l>u+c*i/2:l<d-c*i/2)&&(Db=!0),Db)f=!0;else if(1===Ab?l<u+Eb:l>d-Eb)return-Ab}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return Wm(ab)<Wm(e)?1:-1}(t);if((f=f||a)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,a,n,o,O?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Lb,Tb===a),0!==m){var x=Wm(ab);do{x-=m,y=sb.children[x]}while(y&&("none"===Pm(y,"display")||y===lb))}if(0===m||y===a)return $(!1);Tb=a,Ab=m;var S=a.nextElementSibling,T=!1,A=Kb(cb,i,ab,t,a,n,e,T=1===m);if(!1!==A)return 1!==A&&-1!==A||(T=1===A),Pb=!0,setTimeout(Qb,30),I(),T&&!S?i.appendChild(ab):a.parentNode.insertBefore(ab,T?S:a),k&&Jm(k,0,j-k.scrollTop),sb=ab.parentNode,void 0===b||Lb||(Eb=Math.abs(b-Fm(a)[_])),M(),$(!0)}if(i.contains(ab))return $(!1)}return!1}function E(s,l){ob(s,h,gm({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:$,onMove:function(n,r){return Kb(cb,i,ab,t,n,Fm(n),e,r)},changed:M},l))}function I(){E("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function $(t){return E("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==f&&(Nm(ab,yb?yb.options.ghostClass:c.options.ghostClass,!1),Nm(ab,s.ghostClass,!0)),yb!==h&&h!==Jb.active?yb=h:h===Jb.active&&yb&&(yb=null),f===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){E("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ab&&!ab.animated||a===i&&!a.animated)&&(Tb=null),s.dragoverBubble||e.rootEl||a===document||(ab.parentNode[Zm]._isOutsideThisEl(e.target),!t&&Yb(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function M(){vb=Wm(ab),mb=Wm(ab,s.draggable),ib({sortable:h,name:"change",toEl:i,newIndex:vb,newDraggableIndex:mb,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Im(document,"mousemove",this._onTouchMove),Im(document,"touchmove",this._onTouchMove),Im(document,"pointermove",this._onTouchMove),Im(document,"dragover",Yb),Im(document,"mousemove",Yb),Im(document,"touchmove",Yb)},_offUpEvents:function(){var e=this.el.ownerDocument;Im(e,"mouseup",this._onDrop),Im(e,"touchend",this._onDrop),Im(e,"pointerup",this._onDrop),Im(e,"touchcancel",this._onDrop),Im(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;vb=Wm(ab),mb=Wm(ab,n.draggable),ob("drop",this,{evt:e}),sb=ab&&ab.parentNode,vb=Wm(ab),mb=Wm(ab,n.draggable),Jb.eventCanceled||($b=!1,Lb=!1,Db=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ny(this.cloneId),ny(this._dragStartId),this.nativeDraggable&&(Im(document,"drop",this),Im(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),xm&&Pm(document.body,"user-select",""),Pm(ab,"transform",""),e&&(Sb&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),lb&&lb.parentNode&&lb.parentNode.removeChild(lb),(cb===sb||yb&&"clone"!==yb.lastPutMode)&&fb&&fb.parentNode&&fb.parentNode.removeChild(fb),ab&&(this.nativeDraggable&&Im(ab,"dragend",this),Zb(ab),ab.style["will-change"]="",Sb&&!$b&&Nm(ab,yb?yb.options.ghostClass:this.options.ghostClass,!1),Nm(ab,this.options.chosenClass,!1),ib({sortable:this,name:"unchoose",toEl:sb,newIndex:null,newDraggableIndex:null,originalEvent:e}),cb!==sb?(vb>=0&&(ib({rootEl:sb,name:"add",toEl:sb,fromEl:cb,originalEvent:e}),ib({sortable:this,name:"remove",toEl:sb,originalEvent:e}),ib({rootEl:sb,name:"sort",toEl:sb,fromEl:cb,originalEvent:e}),ib({sortable:this,name:"sort",toEl:sb,originalEvent:e})),yb&&yb.save()):vb!==pb&&vb>=0&&(ib({sortable:this,name:"update",toEl:sb,originalEvent:e}),ib({sortable:this,name:"sort",toEl:sb,originalEvent:e})),Jb.active&&(null!=vb&&-1!==vb||(vb=pb,mb=gb),ib({sortable:this,name:"end",toEl:sb,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ob("nulling",this),cb=ab=sb=lb=ub=fb=db=hb=wb=Ob=Sb=vb=mb=pb=gb=Tb=Ab=yb=bb=Jb.dragged=Jb.ghost=Jb.clone=Jb.active=null,Rb.forEach((function(e){e.checked=!0})),Rb.length=_b=kb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ab&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)Cm(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||ey(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];Cm(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Cm(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=nb.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Wb(n)},destroy:function(){ob("destroy",this);var e=this.el;e[Zm]=null,Im(e,"mousedown",this._onTapStart),Im(e,"touchstart",this._onTapStart),Im(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Im(e,"dragover",this),Im(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Cb.splice(Cb.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!hb){if(ob("hideClone",this),Jb.eventCanceled)return;Pm(fb,"display","none"),this.options.removeCloneOnHide&&fb.parentNode&&fb.parentNode.removeChild(fb),hb=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(hb){if(ob("showClone",this),Jb.eventCanceled)return;ab.parentNode!=cb||this.options.group.revertClone?ub?cb.insertBefore(fb,ub):cb.appendChild(fb):cb.insertBefore(fb,ab),this.options.group.revertClone&&this.animate(ab,fb),Pm(fb,"display",""),hb=!1}}else this._hideClone()}},Ub&&Em(document,"touchmove",(function(e){(Jb.active||$b)&&e.cancelable&&e.preventDefault()})),Jb.utils={on:Em,off:Im,css:Pm,find:Um,is:function(e,t){return!!Cm(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Xm,closest:Cm,toggleClass:Nm,clone:Km,index:Wm,nextTick:ty,cancelNextTick:ny,detectDirection:zb,getChild:qm},Jb.get=function(e){return e[Zm]},Jb.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Jb.utils=gm(gm({},Jb.utils),e.utils)),nb.mount(e)}))},Jb.create=function(e,t){return new Jb(e,t)},Jb.version="1.14.0";var ry,oy,iy,ay,sy,ly,cy=[],uy=!1;function dy(){cy.forEach((function(e){clearInterval(e.pid)})),cy=[]}function fy(){clearInterval(ly)}var hy=Xm((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=Hm(),u=!1;oy!==n&&(oy=n,dy(),ry=t.scroll,o=t.scrollFn,!0===ry&&(ry=Gm(n,!0)));var d=0,f=ry;do{var h=f,p=Fm(h),v=p.top,g=p.bottom,m=p.left,b=p.right,y=p.width,w=p.height,O=void 0,_=void 0,k=h.scrollWidth,j=h.scrollHeight,x=Pm(h),S=h.scrollLeft,T=h.scrollTop;h===c?(O=y<k&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),_=w<j&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(O=y<k&&("auto"===x.overflowX||"scroll"===x.overflowX),_=w<j&&("auto"===x.overflowY||"scroll"===x.overflowY));var A=O&&(Math.abs(b-i)<=s&&S+y<k)-(Math.abs(m-i)<=s&&!!S),E=_&&(Math.abs(g-a)<=s&&T+w<j)-(Math.abs(v-a)<=s&&!!T);if(!cy[d])for(var I=0;I<=d;I++)cy[I]||(cy[I]={});cy[d].vx==A&&cy[d].vy==E&&cy[d].el===h||(cy[d].el=h,cy[d].vx=A,cy[d].vy=E,clearInterval(cy[d].pid),0==A&&0==E||(u=!0,cy[d].pid=setInterval(function(){r&&0===this.layer&&Jb.active._onTouchMove(sy);var t=cy[this.layer].vy?cy[this.layer].vy*l:0,n=cy[this.layer].vx?cy[this.layer].vx*l:0;"function"===typeof o&&"continue"!==o.call(Jb.dragged.parentNode[Zm],n,t,e,sy,cy[this.layer].el)||Jm(cy[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=Gm(f,!1)));uy=u}}),30),py=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function vy(){}function gy(){}vy.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=qm(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:py},ym(vy,{pluginName:"revertOnSpill"}),gy.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:py},ym(gy,{pluginName:"removeOnSpill"}),Jb.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Em(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Em(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Em(document,"touchmove",this._handleFallbackAutoScroll):Em(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Im(document,"dragover",this._handleAutoScroll):(Im(document,"pointermove",this._handleFallbackAutoScroll),Im(document,"touchmove",this._handleFallbackAutoScroll),Im(document,"mousemove",this._handleFallbackAutoScroll)),fy(),dy(),clearTimeout(Dm),Dm=void 0},nulling:function(){sy=oy=ry=uy=ly=iy=ay=null,cy.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(sy=e,t||this.options.forceAutoScrollFallback||km||_m||xm){hy(e,this.options,i,t);var a=Gm(i,!0);!uy||ly&&r===iy&&o===ay||(ly&&fy(),ly=setInterval((function(){var i=Gm(document.elementFromPoint(r,o),!0);i!==a&&(a=i,dy()),hy(e,n.options,i,t)}),10),iy=r,ay=o)}else{if(!this.options.bubbleScroll||Gm(i,!0)===Hm())return void dy();hy(e,this.options,Gm(i,!1),!1)}}},ym(e,{pluginName:"scroll",initializeByDefault:!0})}),Jb.mount(gy,vy);HTMLElement;var my,by="split-button__container",yy="split-button__divider-container",wy="split-button__divider",Oy="width-auto",_y="width-half",ky="width-full",jy=(HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,"button--bottom-left"),xy="button--bottom-right",Sy="button",Ty="delimiter",Ay="hour",Ey="button--hour-down",Iy="button--hour-up",$y="input",My="meridiem",Cy="button--meridiem-down",Dy="button--meridiem-up",Ly="minute",Ny="button--minute-down",Py="button--minute-up",Ry="second",Uy="button--second-down",Hy="button--second-up",Fy="time-picker",By="button--top-left",qy="button--top-right",zy="Hour",Wy="Decrease hour",Vy="Increase hour",Gy="AM/PM",Yy="Decrease AM/PM",Xy="Increase AM/PM",Jy="Minute",Ky="Decrease minute",Zy="Increase minute",Qy="Second",ew="Decrease second",tw="Increase second",nw=(HTMLElement,"header"),rw="heading",ow="close",iw="container",aw="tip-container",sw="tip-container--advancing",lw="tip-container--retreating",cw="pagination",uw="page-position",dw="page-next",fw="page-previous",hw="chevron-left",pw="chevron-right",vw="x",gw="Tips",mw="Tip",bw="Close",yw="Previous",ww="Next",Ow="container",_w="header",kw="heading",jw="close",xw="image-frame",Sw="content",Tw="info",Aw="x",Ew="thumbnail",Iw="Close",$w=(HTMLElement,HTMLElement,HTMLElement,"container"),Mw="arrow",Cw="data-calcite-tooltip-reference",Dw="aria-describedby";HTMLElement,HTMLElement;!function(e){e.Single="single",e.Multi="multi",e.Children="children",e.MultiChildren="multi-children",e.Ancestors="ancestors"}(my||(my={}));HTMLElement;var Lw,Nw="calcite-tree-label",Pw="calcite-tree-checkbox",Rw="calcite-tree-chevron",Uw="calcite-tree-node",Hw="calcite-tree-children",Fw=(HTMLElement,"handle");!function(e){e.grip="grip"}(Lw||(Lw={}));HTMLElement;var Bw,qw="drag",zw="actions-end",Ww="actions-start";HTMLElement;function Vw(e){!function(e){Zr.$resourcesUrl$=e}(e)}Bw="components/assets";var Gw=n(524),Yw=Symbol("widget"),Xw=[],Jw={},Kw=new WeakMap;function Zw(e,t){var n=t.children;if(n)for(var r=0;r<n.length;++r)n[r]=Zw(e,n[r]);var o=t.vnodeSelector;if(nO(o)){var i=t.properties||Jw;return{vnodeSelector:"div",properties:{key:i.key||o,parentWidget:e,widgetConstructor:o,widgetProps:i,widgetChildren:n||Xw,afterCreate:Qw,afterUpdate:eO,afterRemoved:tO},children:void 0,text:void 0,domNode:null}}return t}function Qw(e,t,n,r){var o=r.key,i=r.parentWidget,a=r.widgetConstructor,s=r.widgetProps,l=r.widgetChildren,c=new a(Object(f.a)(Object(f.a)({},s),{},{key:o,children:l,container:e}));Kw.set(e,c),null==c.afterCreate||c.afterCreate(c,e),i._internalHandles.add(Object(Gw.b)((function(){return tO(e)})))}function eO(e,t,n,r){var o=r.widgetProps,i=Kw.get(e);i&&(i.set(o),null==i.afterUpdate||i.afterUpdate(i,e))}function tO(e){var t=Kw.get(e);t&&(t.destroy(),Kw.delete(e))}function nO(e){return"function"==typeof e&&e[Yw]}var rO="esri.widgets.Widget",oO=T.a.getLogger(rO),iO=0,aO="esri-icon-checkbox-unchecked";function sO(e,t){for(var n in t)null!=e[n]&&("object"==typeof e[n]&&"object"==typeof t[n]?sO(e[n],t[n]):e[n]=t[n]);return e}var lO=function(e){var t,n,r,o=Object(f.a)(Object(f.a)({},Fn),e),i=(n=o,Object(f.a)(Object(f.a)({},Bn),n)),a=i.performanceLogger,s=!0,l=!1,c=[],u=[],d=function(e,n,r){var s;i.eventHandlerInterceptor=function(e,n,r,i){return function(e){var n;a("domEvent",e);var r,i=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(e.currentTarget,s.domNode),l=i.some((function(e){var t;return customElements.get(null==e||null==(t=e.tagName)?void 0:t.toLowerCase())}));if(e.eventPhase!==Event.CAPTURING_PHASE&&l){var c=e.composedPath(),u=c.slice(c.indexOf(e.currentTarget),c.indexOf(s.domNode)).filter((function(e){return e.getRootNode()===e.ownerDocument})).reverse();n=zn(s.getLastRender(),u,!0)}else i.reverse(),n=zn(s.getLastRender(),i);return n&&(r=o.handleInterceptedEvent(t,n,this,e)),a("domEventProcessed",e),r}},null==o.postProcessProjectionOptions||o.postProcessProjectionOptions(i);var l=r();s=e(n,l,i),c.push(s),u.push(r),o.afterFirstVNodeRendered&&o.afterFirstVNodeRendered(s,l)},h=function(){if(r=void 0,s){s=!1,a("renderStart",void 0);for(var e=0;e<c.length;e++){var t=u[e]();a("rendered",void 0),c[e].update(t),a("patched",void 0)}a("renderDone",void 0),s=!0}};return o.modifyDoRenderImplementation&&(h=o.modifyDoRenderImplementation(h,c,u)),t={renderNow:h,scheduleRender:function(){r||l||(r=requestAnimationFrame(h))},stop:function(){r&&(cancelAnimationFrame(r),r=void 0),l=!0},resume:function(){l=!1,s=!0,t.scheduleRender()},append:function(e,t){d(Cn,e,t)},insertBefore:function(e,t){d(Dn,e,t)},merge:function(e,t){d(Ln,e,t)},replace:function(e,t){d(Nn,e,t)},detach:function(e){for(var t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}({postProcessProjectionOptions:function(e){var t=e.eventHandlerInterceptor,n=/capture$/i;e.eventHandlerInterceptor=function(e,r,o,i){var a=t(e,r,o,i),s=n.test(e);if(!((e=e.replace(n,"")).toLowerCase()in o)||s){var l=e[2].toLowerCase()+e.slice(3),c=function(e){return a.call(o,e)};o.addEventListener(l,c,s);var u=i.afterRemoved;i.afterRemoved=function(e){null==u||u(e),o.removeEventListener(l,c,s)}}return a}},handleInterceptedEvent:function(e,t,n,r){var o=r.eventPhase,i=r.type,a=o===Event.CAPTURING_PHASE,s="on".concat(i).concat(a?"capture":""),l=t.properties;(s in l||(s="on".concat(i[0].toUpperCase()).concat(i.slice(1)).concat(a?"Capture":""))in l)&&(e.scheduleRender(),l[s].call(l.bind||n,r))}}),cO=!1,uO=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r){var o;Object(l.a)(this,n),(o=t.call(this,e,r))._attached=!1,o._internalHandles=new De,o._projector=lO,o.domNode=null,o.iconClass=aO,o.label=o.declaredClass.split(".").pop(),o.visible=!0,o.key=Object(se.a)(o),o._loadLocale=Object(j.e)(Object(ae.a)(ie.a.mark((function e(){var t,n,r,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o._messageBundleProps||!o._messageBundleProps.length){e.next=6;break}return e.next=3,Object(j.f)(o._messageBundleProps.map(function(){var e=Object(ae.a)(ie.a.mark((function e(t){var n,r,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bundlePath,r=t.propertyName,e.next=3,ve(n);case 3:i=e.sent,o.uiStrings&&Object.keys(o.uiStrings)&&(i=sO(Object(_.a)(i),o.uiStrings)),o[r]=i;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,n=Object(h.a)(t);try{for(n.s();!(r=n.n()).done;)(i=r.value).error&&oO.error("widget-intl:locale-error",o.declaredClass,i.error)}catch(a){n.e(a)}finally{n.f()}case 6:return e.next=8,o.loadLocale();case 8:case"end":return e.stop()}}),e)})))),Vw(Object(x.o)(Object(Ee.a)(Bw)));var i=cn()||"light";["light","dark"].includes(i)||Object(Ie.a)(oO,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});var a="esri-widget-uid-"+function(){var e=Ue.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(t){return e[t].toString(16)};return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}(),s=o.render.bind(Object(se.a)(o)),c=!1;o._trackingTarget=new qe.a((function(){return o.scheduleRender()}));var u=function(){var e;if(!c||o.destroyed)return null;if(!o.visible)return{vnodeSelector:"div",properties:{key:a,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};var t=s(),n=t.properties;n||(t.properties=n={});var r=n,i=r.key,l=r.styles;i||(n.key=a),l||(n.styles=l={}),l.display||(l.display="");var u=0;return null==(e=t.children)||e.forEach((function(e){if(!nO(e.vnodeSelector)){var t=e.properties;t||(e.properties=t={}),t.key||(t.key="".concat(o.id,"--").concat(u++))}})),Zw(Object(se.a)(o),t)};return o.render=function(){if(cO)return u();var e;o._trackingTarget.clear(),cO=!0;try{e=Object(Be.b)(o._trackingTarget,u)}finally{cO=!1}return e},o.addResolvingPromise(o._resourcesFetch=o.beforeFirstRender().then((function(){c=!0,o._postInitialize()}))),o}return Object(p.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){var n=Object(f.a)({},e);return t&&(n.container=t),n}},{key:"postInitialize",value:function(){}},{key:"beforeFirstRender",value:function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then((function(){})).catch(j.k)}},{key:"loadDependencies",value:function(){var e=Object(ae.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLocale",value:function(){var e=Object(ae.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=function(){return null},this._projector=null)}},{key:"container",set:function(e){this._get("container")||this._set("container",e)}},{key:"castContainer",value:function(e){return function(e){return"string"==typeof e?document.getElementById(e):e}(e)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+iO++},set:function(e){e&&this._set("id",e)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector,handles:this._internalHandles}}},{key:"render",value:function(){throw new Error("not implemented")}},{key:"scheduleRender",value:function(){this.destroyed||this._projector.scheduleRender()}},{key:"classes",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rn.apply(this,t)}},{key:"own",value:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}},{key:"renderNow",value:function(){this._projector.renderNow()}},{key:"_postInitialize",value:function(){var e,t=this;if(!this.destroyed){this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(He.a)(this,"viewModel",(function(e,n){n&&t._internalHandles.remove("delegated-events"),e&&t._internalHandles.add(t._delegatedEventNames.map((function(n){return e.on(n,(function(e){t.emit(n,e)}))})),"delegated-events")}))),this.postInitialize();var n,r=function(){var e=Object(ae.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._loadLocale().catch(j.k);case 2:t.scheduleRender();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this._internalHandles.add([(n=r,D.push(n),{remove:function(){D.splice(D.indexOf(n),1)}}),this.watch("uiStrings",r),Object(He.b)(this,"container",function(){var e=Object(ae.a)(ie.a.mark((function e(n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.destroyed||t._attach(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())])}}},{key:"_attach",value:function(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}},{key:"_detach",value:function(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}}]),n}(Pe(y.a.EventedAccessor));uO[Yw]=!0,Object(v.a)([Object(S.a)({value:null})],uO.prototype,"container",null),Object(v.a)([Object(Fe.a)("container")],uO.prototype,"castContainer",null),Object(v.a)([Object(S.a)({aliasOf:"container"})],uO.prototype,"domNode",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"iconClass",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"id",null),Object(v.a)([Object(S.a)()],uO.prototype,"label",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"renderable",null),Object(v.a)([Object(S.a)()],uO.prototype,"uiStrings",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"viewModel",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"visible",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"key",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"children",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"afterCreate",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"afterUpdate",void 0),Object(v.a)([Object(S.a)()],uO.prototype,"afterRemoved",void 0);var dO=uO=Object(v.a)([Object(A.a)(rO)],uO);function fO(e){return function(t,n){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}var hO=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},pO=function e(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];Array.isArray(i)?e(i,n):null!=i&&!1!==i&&(i.hasOwnProperty("vnodeSelector")||(i=hO(i)),n.push(i))}},vO=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===n.length&&"string"==typeof n[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var o=[];return pO(n,o),{vnodeSelector:e,properties:t||void 0,children:o,text:void 0,domNode:null}};function gO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"function"!=typeof e||nO(e)?vO.apply(void 0,[e,t].concat(r)):e.apply(void 0,[t].concat(r))}var mO="esri-identity-form",bO="esri-identity-form__group",yO="esri-identity-form__label",wO="esri-identity-form__footer",OO="esri-input",_O="esri-button",kO="esri-button--secondary",jO=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r){var o;return Object(l.a)(this,n),(o=t.call(this,e,r))._usernameInputNode=null,o._passwordInputNode=null,o.messages=null,o.signingIn=!1,o.server=null,o.resource=null,o.error=null,o.oAuthPrompt=!1,o}return Object(p.a)(n,[{key:"render",value:function(){var e=this.error,t=this.server,n=this.resource,r=this.signingIn,o=this.oAuthPrompt,i=this.messages,a=gO("div",{class:bO},function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).format,r=void 0===n?{}:n;return Object(E.b)(e,(function(e){return ne(e,t,r)}))}(o?i.oAuthInfo:i.info,{server:/\.arcgis\.com/i.test(t)?"ArcGIS Online":t,resource:"(".concat(n||i.lblItem,")")})),s=o?null:gO("div",{class:bO,key:"username"},gO("label",{class:yO},i.lblUser,gO("input",{value:"",required:!0,autocomplete:"off",spellcheck:!1,type:"text",bind:this,afterCreate:on,"data-node-ref":"_usernameInputNode",class:OO}))),l=o?null:gO("div",{class:bO,key:"password"},gO("label",{class:yO},i.lblPwd,gO("input",{value:"",required:!0,type:"password",bind:this,afterCreate:on,"data-node-ref":"_passwordInputNode",class:OO}))),c=gO("div",{class:this.classes(bO,wO)},gO("input",{type:"submit",disabled:!!r,value:r?i.lblSigning:i.lblOk,class:_O}),gO("input",{type:"button",value:i.lblCancel,bind:this,onclick:this._cancel,class:this.classes(_O,kO)})),u=e?gO("div",null,e.details&&e.details.httpStatus?i.invalidUser:i.noAuthService):null;return gO("form",{class:mO,bind:this,onsubmit:this._submit},a,u,s,l,c)}},{key:"_cancel",value:function(){this._set("signingIn",!1),this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel")}},{key:"_submit",value:function(e){e.preventDefault(),this._set("signingIn",!0);var t=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit("submit",t)}}]),n}(dO);Object(v.a)([Object(S.a)(),fO("esri/identity/t9n/identity")],jO.prototype,"messages",void 0),Object(v.a)([Object(S.a)()],jO.prototype,"signingIn",void 0),Object(v.a)([Object(S.a)()],jO.prototype,"server",void 0),Object(v.a)([Object(S.a)()],jO.prototype,"resource",void 0),Object(v.a)([Object(S.a)()],jO.prototype,"error",void 0),Object(v.a)([Object(S.a)()],jO.prototype,"oAuthPrompt",void 0);var xO=jO=Object(v.a)([Object(A.a)("esri.identity.IdentityForm")],jO);var SO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],TO=SO.join(","),AO="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,EO=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(TO));return t&&AO.call(e,TO)&&r.unshift(e),r=r.filter(n)},IO=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t},$O=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},MO=function(e){return"INPUT"===e.tagName},CO=function(e){return function(e){return MO(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||e.ownerDocument,r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},DO=function(e,t){return!(t.disabled||function(e){return MO(e)&&"hidden"===e.type}(t)||function(e,t){if("hidden"===getComputedStyle(e).visibility)return!0;var n=AO.call(e,"details>summary:first-of-type")?e.parentElement:e;if(AO.call(n,"details:not([open]) *"))return!0;if(t&&"full"!==t){if("non-zero-area"===t){var r=e.getBoundingClientRect(),o=r.width,i=r.height;return 0===o&&0===i}}else for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(t,e.displayCheck)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(MO(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},LO=function(e,t){return!(!DO(e,t)||CO(t)||IO(t)<0)},NO=SO.concat("iframe").join(","),PO=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==AO.call(e,NO)&&DO(t,e)};function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HO=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},deactivateTrap:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}}}(),FO=function(e){return setTimeout(e,0)},BO=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},qO=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e},zO=function(e,t){var n,r=document,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(n),!0).forEach((function(t){UO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),i={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},s=function(e){return i.containers.some((function(t){return t.contains(e)}))},l=function(e){var t=o[e];if(!t)return null;var n=t;if("string"===typeof t&&!(n=r.querySelector(t)))throw new Error("`".concat(e,"` refers to no known node"));if("function"===typeof t&&!(n=t()))throw new Error("`".concat(e,"` did not return a node"));return n},c=function(){var e;if(!1===a({},"initialFocus"))return!1;if(null!==l("initialFocus"))e=l("initialFocus");else if(s(r.activeElement))e=r.activeElement;else{var t=i.tabbableGroups[0];e=t&&t.firstTabbableNode||l("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},u=function(){if(i.tabbableGroups=i.containers.map((function(e){var t=function(e,t){var n=[],r=[];return EO(e,(t=t||{}).includeContainer,LO.bind(null,t)).forEach((function(e,t){var o=IO(e);0===o?n.push(e):r.push({documentOrder:t,tabIndex:o,node:e})})),r.sort($O).map((function(e){return e.node})).concat(n)}(e);if(t.length>0)return{container:e,firstTabbableNode:t[0],lastTabbableNode:t[t.length-1]}})).filter((function(e){return!!e})),i.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function e(t){!1!==t&&t!==r.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(t)&&t.select()):e(c()))},f=function(e){var t=l("setReturnFocus");return t||e},h=function(e){s(e.target)||(qO(o.clickOutsideDeactivates,e)?n.deactivate({returnFocus:o.returnFocusOnDeactivate&&!PO(e.target)}):qO(o.allowOutsideClick,e)||e.preventDefault())},p=function(e){var t=s(e.target);t||e.target instanceof Document?t&&(i.mostRecentlyFocusedNode=e.target):(e.stopImmediatePropagation(),d(i.mostRecentlyFocusedNode||c()))},v=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==qO(o.escapeDeactivates))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){u();var t=null;if(i.tabbableGroups.length>0){var n=BO(i.tabbableGroups,(function(t){return t.container.contains(e.target)}));if(n<0)t=e.shiftKey?i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:i.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var r=BO(i.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e.target===n}));if(r<0&&i.tabbableGroups[n].container===e.target&&(r=n),r>=0){var o=0===r?i.tabbableGroups.length-1:r-1;t=i.tabbableGroups[o].lastTabbableNode}}else{var a=BO(i.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e.target===n}));if(a<0&&i.tabbableGroups[n].container===e.target&&(a=n),a>=0){var s=a===i.tabbableGroups.length-1?0:a+1;t=i.tabbableGroups[s].firstTabbableNode}}}else t=l("fallbackFocus");t&&(e.preventDefault(),d(t))}(e)},g=function(e){qO(o.clickOutsideDeactivates,e)||s(e.target)||qO(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},m=function(){if(i.active)return HO.activateTrap(n),i.delayInitialFocusTimer=o.delayInitialFocus?FO((function(){d(c())})):d(c()),r.addEventListener("focusin",p,!0),r.addEventListener("mousedown",h,{capture:!0,passive:!1}),r.addEventListener("touchstart",h,{capture:!0,passive:!1}),r.addEventListener("click",g,{capture:!0,passive:!1}),r.addEventListener("keydown",v,{capture:!0,passive:!1}),n},b=function(){if(i.active)return r.removeEventListener("focusin",p,!0),r.removeEventListener("mousedown",h,!0),r.removeEventListener("touchstart",h,!0),r.removeEventListener("click",g,!0),r.removeEventListener("keydown",v,!0),n};return(n={activate:function(e){if(i.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),o=a(e,"checkCanFocusTrap");o||u(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,t&&t();var s=function(){o&&u(),m(),n&&n()};return o?(o(i.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!i.active)return this;clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,b(),i.active=!1,i.paused=!1,HO.deactivateTrap(n);var t=a(e,"onDeactivate"),r=a(e,"onPostDeactivate"),o=a(e,"checkCanReturnFocus");t&&t();var s=a(e,"returnFocus","returnFocusOnDeactivate"),l=function(){FO((function(){s&&d(f(i.nodeFocusedBeforeActivation)),r&&r()}))};return s&&o?(o(f(i.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(){return i.paused||!i.active||(i.paused=!0,b()),this},unpause:function(){return i.paused&&i.active?(i.paused=!1,u(),m(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return i.containers=t.map((function(e){return"string"===typeof e?r.querySelector(e):e})),i.active&&u(),this}}).updateContainerElements(e),n},WO="esri-identity-modal",VO="esri-identity-modal--open",GO="esri-identity-modal--closed",YO="esri-identity-modal__title",XO="esri-identity-modal__dialog",JO="esri-identity-modal__content",KO="esri-identity-modal__close-button",ZO="esri-icon-close",QO=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r){var o;return Object(l.a)(this,n),(o=t.call(this,e,r)).container=document.createElement("div"),o.content=null,o.open=!1,o._close=function(){o.open=!1},document.body.appendChild(o.container),o.own(o.watch("open",(function(){return o._toggleFocusTrap()}))),o}return Object(p.a)(n,[{key:"destroy",value:function(){this._destroyFocusTrap()}},{key:"render",value:function(){var e,t=this.id,n=this.open,r=this.content,o=this.title,i=this.messages,a=n&&!!r,s=(e={},Object(Wn.a)(e,VO,a),Object(Wn.a)(e,GO,!a),e),l=gO("button",{class:KO,"aria-label":i.close,title:i.close,bind:this,onclick:this._close},gO("span",{"aria-hidden":"true",class:ZO})),c="".concat(t,"_title"),u="".concat(t,"_content"),d=o?gO("h1",{id:c,class:YO},o):null,f=a?gO("div",{bind:this,class:XO,role:"dialog","aria-labelledby":c,"aria-describedby":u,afterCreate:this._createFocusTrap},l,d,this._renderContent(u)):null;return gO("div",{tabIndex:-1,class:this.classes(WO,s)},f)}},{key:"_destroyFocusTrap",value:function(){var e;null==(e=this._focusTrap)||e.deactivate({onDeactivate:null}),this._focusTrap=null}},{key:"_toggleFocusTrap",value:function(){var e=this._focusTrap,t=this.open;e&&(t?e.activate():e.deactivate())}},{key:"_createFocusTrap",value:function(e){var t=this;this._destroyFocusTrap();var n=requestAnimationFrame((function(){t._focusTrap=zO(e,{initialFocus:"input",onDeactivate:t._close}),t._toggleFocusTrap()}));this.own(Object(Gw.b)((function(){return cancelAnimationFrame(n)})))}},{key:"_renderContent",value:function(e){var t=this.content;return"string"==typeof t?gO("div",{class:JO,id:e,innerHTML:t}):function(e){return e&&"function"==typeof e.render}(t)?gO("div",{class:JO,id:e},t.render()):t instanceof HTMLElement?gO("div",{class:JO,id:e,bind:t,afterCreate:this._attachToNode}):null}},{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),n}(dO);Object(v.a)([Object(S.a)({readOnly:!0})],QO.prototype,"container",void 0),Object(v.a)([Object(S.a)()],QO.prototype,"content",void 0),Object(v.a)([Object(S.a)()],QO.prototype,"open",void 0),Object(v.a)([Object(S.a)(),fO("esri/t9n/common")],QO.prototype,"messages",void 0),Object(v.a)([Object(S.a)({aliasOf:"messages.auth.signIn"})],QO.prototype,"title",void 0);var e_=QO=Object(v.a)([Object(A.a)("esri.identity.IdentityModal")],QO),t_="esriJSAPIOAuth",n_=function(){function e(t,n){Object(l.a)(this,e),this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=n,this._init()}return Object(p.a)(e,[{key:"isValid",value:function(){var e=!1;if(this.oAuthInfo&&this.token&&this.userId){var t=Date.now();this.expires>t&&(this.expires-t)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(e=!0)}return e}},{key:"save",value:function(){if(this.storage){var e=this._load(),t=this.oAuthInfo;if(t&&t.authNamespace&&t.portalUrl){var n=e[t.authNamespace];n||(n=e[t.authNamespace]={}),n[t.portalUrl]={appId:this.appId=t.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t_,JSON.stringify(e))}catch(r){console.log(r)}}}}},{key:"destroy",value:function(){var e=this._load(),t=this.oAuthInfo;if(t&&t.appId&&t.portalUrl&&this.token&&this.expires>Date.now()){var n=t.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",r=new FormData;if(r.append("f","json"),r.append("auth_token",this.token),r.append("client_id",t.appId),r.append("token_type_hint","access_token"),"function"==typeof navigator.sendBeacon)navigator.sendBeacon(n,r);else{var o=new XMLHttpRequest;o.open("POST",n),o.send(r)}}if(t&&t.authNamespace&&t.portalUrl&&this.storage){var i=e[t.authNamespace];if(i){delete i[t.portalUrl];try{this.storage.setItem(t_,JSON.stringify(e))}catch(a){console.log(a)}}}t&&(t._oAuthCred=null,this.oAuthInfo=null)}},{key:"_init",value:function(){var e=this._load(),t=this.oAuthInfo;if(t&&t.authNamespace&&t.portalUrl){var n=e[t.authNamespace];n&&((n=n[t.portalUrl])&&(this.appId=n.appId,this.expires=n.expires,this.ssl=n.ssl,this.token=n.token,this.userId=n.userId))}}},{key:"_load",value:function(){var e={};if(this.storage){var t=this.storage.getItem(t_);if(t)try{e=JSON.parse(t)}catch(Te){console.log(Te)}}return e}}]),e}();n_.prototype.declaredClass="esri.identity.OAuthCredential";var r_,o_=n(526),i_=r_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._oAuthCred=null,r.appId=null,r.authNamespace="/",r.expiration=20160,r.forceLogin=!1,r.forceUserId=!1,r.locale=null,r.minTimeUntilExpiration=30,r.popup=!1,r.popupCallbackUrl="oauth-callback.html",r.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",r.portalUrl="https://www.arcgis.com",r.preserveUrlHash=!1,r.userId=null,r}return Object(p.a)(n,[{key:"clone",value:function(){return r_.fromJSON(this.toJSON())}}]),n}(o_.a);Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"appId",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"authNamespace",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"expiration",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"forceLogin",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"forceUserId",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"locale",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"minTimeUntilExpiration",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"popup",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"popupCallbackUrl",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"popupWindowFeatures",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"portalUrl",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"preserveUrlHash",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],i_.prototype,"userId",void 0);var a_=i_=r_=Object(v.a)([Object(A.a)("esri.identity.OAuthInfo")],i_),s_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).adminTokenServiceUrl=null,r.currentVersion=null,r.hasPortal=null,r.hasServer=null,r.owningSystemUrl=null,r.owningTenant=null,r.server=null,r.shortLivedTokenValidity=null,r.tokenServiceUrl=null,r.webTierAuth=null,r}return n}(o_.a);Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"adminTokenServiceUrl",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"currentVersion",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"hasPortal",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"hasServer",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"owningSystemUrl",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"owningTenant",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"server",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"shortLivedTokenValidity",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"tokenServiceUrl",void 0),Object(v.a)([Object(S.a)({json:{write:!0}})],s_.prototype,"webTierAuth",void 0);var l_=s_=Object(v.a)([Object(A.a)("esri.identity.ServerInfo")],s_),c_={},u_=function(e){var t=new x.a(e.owningSystemUrl).host,n=new x.a(e.server).host,r=/.+\.arcgis\.com$/i;return r.test(t)&&r.test(n)},d_=function(e,t){return!!(u_(e)&&t&&t.some((function(t){return t.test(e.server)})))},f_=null,h_=null;try{f_=window.localStorage,h_=window.sessionStorage}catch(b_){}var p_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this))._portalConfig=O.a.esriGeowConfig,e.serverInfos=[],e.oAuthInfos=[],e.credentials=[],e._soReqs=[],e._xoReqs=[],e._portals=[],e.defaultOAuthInfo=null,e.defaultTokenValidity=60,e.dialog=null,e.formConstructor=xO,e.tokenValidity=null,e.normalizeWebTierAuth=!1,e._appOrigin="null"!==window.origin?window.origin:window.location.origin,e._appUrlObj=Object(x.t)(window.location.href),e._busy=null,e._rejectOnPersistedPageShow=!1,e._oAuthHash=null,e._gwTokenUrl="/sharing/rest/generateToken",e._agsRest="/rest/services",e._agsPortal=/\/sharing(\/|$)/i,e._agsAdmin=/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,e._adminSvcs=/\/rest\/admin\/services(\/|$)/i,e._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],e._legacyFed=[],e._regexSDirUrl=/http.+\/rest\/services\/?/gi,e._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,e._gwUser=/http.+\/users\/([^\/]+)\/?.*/i,e._gwItem=/http.+\/items\/([^\/]+)\/?.*/i,e._gwGroup=/http.+\/groups\/([^\/]+)\/?.*/i,e._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,e._createDefaultOAuthInfo=!0,e._hasTestedIfAppIsOnPortal=!1,e._getOAuthHash(),window.addEventListener("pageshow",(function(t){e._pageShowHandler(t)})),e}return Object(p.a)(n,[{key:"registerServers",value:function(e){var t=this,n=this.serverInfos;n?(e=e.filter((function(e){return!t.findServerInfo(e.server)})),this.serverInfos=n.concat(e)):this.serverInfos=e,e.forEach((function(e){e.owningSystemUrl&&t._portals.push(e.owningSystemUrl),e.hasPortal&&t._portals.push(e.server)}))}},{key:"registerOAuthInfos",value:function(e){var t=this.oAuthInfos;if(t){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.findOAuthInfo(o.portalUrl);i&&t.splice(t.indexOf(i),1)}}catch(a){r.e(a)}finally{r.f()}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}},{key:"registerToken",value:function(e){e=Object(f.a)({},e);var t,n=this._sanitizeUrl(e.server),r=this._isServerRsrc(n),o=this.findServerInfo(n),i=!0;o||((o=new l_).server=this._getServerInstanceRoot(n),r?o.hasServer=!0:(o.tokenServiceUrl=this._getTokenSvcUrl(n),o.hasPortal=!0),this.registerServers([o])),(t=this._findCredential(n))?(delete e.server,Object.assign(t,e),i=!1):((t=new v_({userId:e.userId,server:o.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:r?"server":"portal"})).resources=[n],this.credentials.push(t)),t.emitTokenChange(!1),i||t.refreshServerTokens()}},{key:"toJSON",value:function(){return Object(_.c)({serverInfos:this.serverInfos.map((function(e){return e.toJSON()})),oAuthInfos:this.oAuthInfos.map((function(e){return e.toJSON()})),credentials:this.credentials.map((function(e){return e.toJSON()}))})}},{key:"initialize",value:function(e){var t=this;if(e){"string"==typeof e&&(e=JSON.parse(e));var n=e.serverInfos,r=e.oAuthInfos,o=e.credentials;if(n){var i=[];n.forEach((function(e){e.server&&e.tokenServiceUrl&&i.push(e.declaredClass?e:new l_(e))})),i.length&&this.registerServers(i)}if(r){var a=[];r.forEach((function(e){e.appId&&a.push(e.declaredClass?e:new a_(e))})),a.length&&this.registerOAuthInfos(a)}o&&o.forEach((function(e){e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new v_(e)).emitTokenChange(),t.credentials.push(e))}))}}},{key:"findServerInfo",value:function(e){var t;e=this._sanitizeUrl(e);var n,r=Object(h.a)(this.serverInfos);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this._hasSameServerInstance(o.server,e)){t=o;break}}}catch(i){r.e(i)}finally{r.f()}return t}},{key:"findOAuthInfo",value:function(e){var t;e=this._sanitizeUrl(e);var n,r=Object(h.a)(this.oAuthInfos);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this._hasSameServerInstance(o.portalUrl,e)){t=o;break}}}catch(i){r.e(i)}finally{r.f()}return t}},{key:"findCredential",value:function(e,t){var n;e=this._sanitizeUrl(e);var r=this._isServerRsrc(e)?"server":"portal";if(t){var o,i=Object(h.a)(this.credentials);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(this._hasSameServerInstance(a.server,e)&&t===a.userId&&a.scope===r){n=a;break}}}catch(u){i.e(u)}finally{i.f()}}else{var s,l=Object(h.a)(this.credentials);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(this._hasSameServerInstance(c.server,e)&&-1!==this._getIdenticalSvcIdx(e,c)&&c.scope===r){n=c;break}}}catch(u){l.e(u)}finally{l.f()}}return n}},{key:"getCredential",value:function(e,t){var n,r,o=!0;t&&(n=!!t.token,r=t.error,o=!1!==t.prompt),t=Object(f.a)({},t),e=this._sanitizeUrl(e);var i=Object(j.a)(),a=Object(j.d)();if(t.signal&&Object(j.i)(t.signal,(function(){i.abort()})),Object(j.i)(i,(function(){a.reject(new b.a("identity-manager:user-aborted","ABORTED"))})),Object(j.h)(i))return a.promise;t.signal=i.signal;var s,l=this._isAdminResource(e),c=n?this.findCredential(e):null;if(c&&r&&r.details&&498===r.details.httpStatus)c.destroy();else if(c)return s=new b.a("identity-manager:not-authorized","You are currently signed in as: '"+c.userId+"'. You do not have access to this resource: "+e,{error:r}),a.reject(s),a.promise;var u=this._findCredential(e,t);if(u)return a.resolve(u),a.promise;var d=this.findServerInfo(e);if(d)!d.hasServer&&this._isServerRsrc(e)&&(d._restInfoPms=this._getTokenSvcUrl(e),d.hasServer=!0);else{var h=this._getTokenSvcUrl(e);if(!h)return s=new b.a("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),a.reject(s),a.promise;(d=new l_).server=this._getServerInstanceRoot(e),"string"==typeof h?(d.tokenServiceUrl=h,d.hasPortal=!0):(d._restInfoPms=h,d.hasServer=!0),this.registerServers([d])}return d.hasPortal&&void 0===d._selfReq&&(o||Object(x.j)(d.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((function(e){return e.tokenServiceUrl===d.tokenServiceUrl})))&&(d._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(d.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),e)}),this._enqueue(e,d,t,a,l)}},{key:"getResourceName",value:function(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(e)&&e.replace(this._gwUser,"$1")||this._gwItem.test(e)&&e.replace(this._gwItem,"$1")||this._gwGroup.test(e)&&e.replace(this._gwGroup,"$1")||""}},{key:"generateToken",value:function(e,t,n){var r,o,i,a,s,l,c,u,d=this._rePortalTokenSvc.test(e.tokenServiceUrl),h=new x.a(this._appOrigin),p=e.shortLivedTokenValidity;t&&((u=this.tokenValidity||p||this.defaultTokenValidity)>p&&p>0&&(u=p)),n&&(r=n.isAdmin,o=n.serverUrl,i=n.token,l=n.signal,c=n.ssl,e.customParameters=n.customParameters),r?a=e.adminTokenServiceUrl:(a=e.tokenServiceUrl,s=new x.a(a.toLowerCase()),e.webTierAuth&&null!=n&&n.serverUrl&&!c&&"http"===h.scheme&&(Object(x.j)(h.uri,a,!0)||"https"===s.scheme&&h.host===s.host&&"7080"===h.port&&"7443"===s.port)&&(a=a.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));var v=Object(f.a)({query:Object(f.a)({request:"getToken",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:o,token:i,expiration:u,referer:r||d?this._appOrigin:null,client:r?"referer":null,f:"json"},e.customParameters),method:"post",authMode:"anonymous",useProxy:this._useProxy(e,n),signal:l},null==n?void 0:n.ioArgs);return d||(v.withCredentials=!1),Object(m.default)(a,v).then((function(n){var r=n.data;if(!r||!r.token)return new b.a("identity-manager:authentication-failed","Unable to generate token");var o=e.server;return c_[o]||(c_[o]={}),t&&(c_[o][t.username]=t.password),r.validity=u,r}))}},{key:"isBusy",value:function(){return!!this._busy}},{key:"checkSignInStatus",value:function(e){return this.checkAppAccess(e,"").then((function(e){return e.credential}))}},{key:"checkAppAccess",value:function(e,t,n){var r=this,o=!1;return this.getCredential(e,{prompt:!1}).then((function(i){var a,s={f:"json"};if("portal"===i.scope)if(t&&(r._doPortalSignIn(e)||n&&n.force))a=i.server+"/sharing/rest/oauth2/validateAppAccess",s.client_id=t;else{if(!i.token)return{credential:i};a=i.server+"/sharing/rest"}else{if(!i.token)return{credential:i};a=i.server+"/rest/services"}return i.token&&(s.token=i.token),Object(m.default)(a,{query:s,authMode:"anonymous"}).then((function(e){if(!1===e.data.valid)throw new b.a("identity-manager:not-authorized","You are currently signed in as: '".concat(i.userId,"'."),e.data);return o=!!e.data.viewOnlyUserTypeApp,{credential:i}})).catch((function(e){if("identity-manager:not-authorized"===e.name)throw e;var t=e.details&&e.details.httpStatus;if(498===t)throw i.destroy(),new b.a("identity-manager:not-authenticated","User is not signed in.");if(400===t)throw new b.a("identity-manager:invalid-request");return{credential:i}}))})).then((function(e){return{credential:e.credential,viewOnly:o}}))}},{key:"setOAuthResponseHash",value:function(e){var t,n=this._oAuthDfd;if(this._oAuthDfd=null,n&&e){clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),"#"===e.charAt(0)&&(e=e.substring(1));var r=Object(x.r)(e);if(r.error){var o="access_denied"===r.error,i=new b.a(o?"identity-manager:user-aborted":"identity-manager:authentication-failed",o?"ABORTED":"OAuth: "+r.error+" - "+r.error_description);n.reject(i)}else{var a=n.sinfo_,s=n.oinfo_,l=s._oAuthCred,c=new v_({userId:r.username,server:a.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:"true"===r.ssl,_oAuthCred:l});s.userId=c.userId,l.storage=r.persist?f_:h_,l.token=c.token,l.expires=c.expires,l.userId=c.userId,l.ssl=c.ssl,l.save(),n.resolve(c)}}}},{key:"setOAuthRedirectionHandler",value:function(e){this._oAuthRedirectFunc=e}},{key:"setProtocolErrorHandler",value:function(e){this._protocolFunc=e}},{key:"signIn",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(j.d)(),i=function(){var e,t,r,o,i;null==(e=l)||e.remove(),null==(t=c)||t.remove(),null==(r=u)||r.remove(),null==(o=s)||o.destroy(),null==(i=n.dialog)||i.destroy(),n.dialog=s=l=c=u=null},a=function(){i(),n._oAuthDfd=null,o.reject(new b.a("identity-manager:user-aborted","ABORTED"))};r.signal&&Object(j.i)(r.signal,(function(){a()}));var s=new this.formConstructor;s.resource=this.getResourceName(e),s.server=t.server,this.dialog=new e_,this.dialog.content=s,this.dialog.open=!0,this.emit("dialog-create");var l=s.on("cancel",a),c=this.dialog.watch("open",a),u=s.on("submit",(function(e){n.generateToken(t,e,{isAdmin:r.isAdmin,signal:r.signal}).then((function(n){i();var a=new v_({userId:e.username,server:t.server,token:n.token,expires:null!=n.expires?Number(n.expires):null,ssl:!!n.ssl,isAdmin:r.isAdmin,validity:n.validity});o.resolve(a)})).catch((function(e){s.error=e,s.signingIn=!1}))}));return o.promise}},{key:"oAuthSignIn",value:function(e,t,n,r){var o=this;this._oAuthDfd=Object(j.d)();var i=this._oAuthDfd;null!=r&&r.signal&&Object(j.i)(r.signal,(function(){var e=o._oAuthDfd&&o._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():o.dialog&&l()})),i.resUrl_=e,i.sinfo_=t,i.oinfo_=n;var a=!r||!1!==r.oAuthPopupConfirmation;if(!n.popup||!a)return this._doOAuthSignIn(e,t,n),i.promise;var s=new this.formConstructor;s.oAuthPrompt=!0,s.server=t.server,this.dialog=new e_,this.dialog.content=s,this.dialog.open=!0,this.emit("dialog-create");var l=function(){f(),o._oAuthDfd=null,i.reject(new b.a("identity-manager:user-aborted","ABORTED"))},c=s.on("cancel",l),u=this.dialog.watch("open",l),d=s.on("submit",(function(){f(),o._doOAuthSignIn(e,t,n)})),f=function(){c.remove(),u.remove(),d.remove(),s.destroy(),o.dialog.destroy(),o.dialog=null};return i.promise}},{key:"destroyCredentials",value:function(){this.credentials&&this.credentials.slice().forEach((function(e){e.destroy()})),this.emit("credentials-destroy")}},{key:"enablePostMessageAuth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://www.arcgis.com/sharing/rest";this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=Object(w.b)(window,"message",(function(n){var r;if((n.origin===e._appOrigin||n.origin.endsWith(".arcgis.com"))&&"arcgis:auth:requestCredential"===(null==(r=n.data)?void 0:r.type)){var o=n.source;e.getCredential(t).then((function(e){o.postMessage({type:"arcgis:auth:credential",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},n.origin)})).catch((function(e){o.postMessage({type:"arcgis:auth:error",error:{name:e.name,message:e.message}},n.origin)}))}}))}},{key:"disablePostMessageAuth",value:function(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}},{key:"_getOAuthHash",value:function(){var e=window.location.hash;if(e){"#"===e.charAt(0)&&(e=e.substring(1));var t=Object(x.r)(e),n=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty("username"))try{t.state=JSON.parse(t.state),"object"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,n=!0)}catch(r){}else t.error&&t.error_description&&(console.log("IdentityManager OAuth Error: ",t.error," - ",t.error_description),"access_denied"===t.error&&(n=!0));n&&(window.location.hash="object"==typeof t.state&&t.state.hash||"")}}},{key:"_pageShowHandler",value:function(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){var t=new b.a("identity-manager:user-aborted","ABORTED");this._errbackFunc(t)}}},{key:"_findCredential",value:function(e,t){var n,r,o,i,a=this,s=-1,l=t&&t.token,c=t&&t.resource,u=this._isServerRsrc(e)?"server":"portal",d=this.credentials.filter((function(t){return a._hasSameServerInstance(t.server,e)&&t.scope===u}));if(e=c||e,d.length)if(1===d.length){if(n=d[0],i=this.findServerInfo(n.server),r=i&&i.owningSystemUrl,o=r&&this.findCredential(r,n.userId),s=this._getIdenticalSvcIdx(e,n),!l)return-1===s&&n.resources.push(e),this._addResource(e,o),n;-1!==s&&(n.resources.splice(s,1),this._removeResource(e,o))}else{var f,h;if(d.some((function(t){return-1!==(h=a._getIdenticalSvcIdx(e,t))&&(f=t,i=a.findServerInfo(f.server),r=i&&i.owningSystemUrl,o=r&&a.findCredential(r,f.userId),s=h,!0)})),l)f&&(f.resources.splice(s,1),this._removeResource(e,o));else if(f)return this._addResource(e,o),f}}},{key:"_findOAuthInfo",value:function(e){var t=this.findOAuthInfo(e);if(!t){var n,r=Object(h.a)(this.oAuthInfos);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this._isIdProvider(o.portalUrl,e)){t=o;break}}}catch(i){r.e(i)}finally{r.f()}}return t}},{key:"_addResource",value:function(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}},{key:"_removeResource",value:function(e,t){var n=-1;t&&((n=this._getIdenticalSvcIdx(e,t))>-1&&t.resources.splice(n,1))}},{key:"_useProxy",value:function(e,t){return t&&t.isAdmin&&!Object(x.j)(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&"10.1"===String(e.currentVersion)&&!Object(x.j)(e.tokenServiceUrl,this._appOrigin)}},{key:"_getOrigin",value:function(e){var t=new x.a(e);return t.scheme+"://"+t.host+(null!=t.port?":"+t.port:"")}},{key:"_getServerInstanceRoot",value:function(e){var t=e.toLowerCase(),n=t.indexOf(this._agsRest);return-1===n&&this._isAdminResource(e)&&(n=this._agsAdmin.test(e)?e.replace(this._agsAdmin,"$1").length:e.search(this._adminSvcs)),-1===n&&(n=t.indexOf("/sharing")),-1===n&&"/"===t.substr(-1)&&(n=t.length-1),n>-1?e.substring(0,n):e}},{key:"_hasSameServerInstance",value:function(e,t){return"/"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(":")))===t.substr(t.indexOf(":"))}},{key:"_normalizeAGOLorgDomain",value:function(e){var t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):n.test(e)?e=e.replace(n,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}},{key:"_sanitizeUrl",value:function(e){var t=(g.a.request.proxyUrl||"").toLowerCase(),n=t?e.toLowerCase().indexOf(t+"?"):-1;return-1!==n&&(e=e.substring(n+t.length+1)),e=Object(x.p)(e),Object(x.t)(e).path}},{key:"_isRESTService",value:function(e){return e.indexOf(this._agsRest)>-1}},{key:"_isAdminResource",value:function(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}},{key:"_isServerRsrc",value:function(e){return this._isRESTService(e)||this._isAdminResource(e)}},{key:"_isIdenticalService",value:function(e,t){var n;if(this._isRESTService(e)&&this._isRESTService(t)){var r=this._getSuffix(e).toLowerCase(),o=this._getSuffix(t).toLowerCase();if(!(n=r===o)){var i=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;n=r.replace(i,"$1")===o.replace(i,"$1")}}else this._isAdminResource(e)&&this._isAdminResource(t)?n=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(n=!0);return n}},{key:"_isPortalDomain",value:function(e){var t=this,n=new x.a(e.toLowerCase()),r=this._portalConfig,o=this._gwDomains.some((function(e){return e.regex.test(n.uri)}));return!o&&r&&(o=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),n.uri)),o||g.a.portalUrl&&(o=Object(x.j)(n,g.a.portalUrl,!0)),o||(o=this._portals.some((function(e){return t._hasSameServerInstance(e,n.uri)}))),o=o||this._agsPortal.test(n.path)}},{key:"_isIdProvider",value:function(e,t){var n=-1,r=-1;this._gwDomains.forEach((function(o,i){-1===n&&o.regex.test(e)&&(n=i),-1===r&&o.regex.test(t)&&(r=i)}));var o=!1;if(n>-1&&r>-1&&(0===n||4===n?0!==r&&4!==r||(o=!0):1===n?1!==r&&2!==r||(o=!0):2===n?2===r&&(o=!0):3===n&&3===r&&(o=!0)),!o){var i=this.findServerInfo(t),a=i&&i.owningSystemUrl;a&&u_(i)&&this._isPortalDomain(a)&&this._isIdProvider(e,a)&&(o=!0)}return o}},{key:"_getIdenticalSvcIdx",value:function(e,t){for(var n=-1,r=0;r<t.resources.length;r++){var o=t.resources[r];if(this._isIdenticalService(e,o)){n=r;break}}return n}},{key:"_getSuffix",value:function(e){return e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}},{key:"_getTokenSvcUrl",value:function(e){var t,n=this;if(this._isRESTService(e)||this._isAdminResource(e)){var r=this._getServerInstanceRoot(e);return{adminUrl:r+"/admin/generateToken",promise:Object(m.default)(e=r+"/rest/info",{query:{f:"json"}}).then((function(e){return e.data}))}}if(this._isPortalDomain(e)){var o="";if(this._gwDomains.some((function(t){return t.regex.test(e)&&(o=t.tokenServiceUrl),!!o})),o||this._portals.some((function(t){return n._hasSameServerInstance(t,e)&&(o=t+n._gwTokenUrl),!!o})),o||-1!==(t=e.toLowerCase().indexOf("/sharing"))&&(o=e.substring(0,t)+this._gwTokenUrl),o||(o=this._getOrigin(e)+this._gwTokenUrl),o){var i=new x.a(e).port;/^http:\/\//i.test(e)&&"7080"===i&&(o=o.replace(/:7080/i,":7443")),o=o.replace(/http:/i,"https:")}return o}if(-1!==e.toLowerCase().indexOf("premium.arcgisonline.com"))return"https://premium.arcgisonline.com/server/tokens"}},{key:"_exchangeToken",value:function(e,t,n){return Object(m.default)("".concat(e,"/sharing/rest/oauth2/exchangeToken"),{authMode:"anonymous",method:"post",query:{f:"json",client_id:t,token:n}}).then((function(e){return e.data.token}))}},{key:"_getPlatformSelf",value:function(e,t){return Object(m.default)("".concat(e,"/sharing/rest/oauth2/platformSelf"),{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":t,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json"},withCredentials:!0}).then((function(e){return e.data}))}},{key:"_getPortalSelf",value:function(e,t){var n;return this._gwDomains.some((function(t){return t.regex.test(e)&&(n=t.customBaseUrl),!!n})),n?Promise.resolve({allSSL:!0,currentVersion:"4.4",customBaseUrl:n,portalMode:"multitenant",supportsOAuth:!0}):(this._appOrigin.startsWith("https:")?e=e.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),Object(m.default)(e,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then((function(e){return e.data})))}},{key:"_doPortalSignIn",value:function(e){var t=this._portalConfig,n=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(n)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(n,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||Object(x.j)(n,e,!0)))}},{key:"_checkProtocol",value:function(e,t,n,r){var o=!0,i=r?t.adminTokenServiceUrl:t.tokenServiceUrl;return i.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&Object(x.h)(i)&&!(o=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}))&&n(new b.a("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),o}},{key:"_enqueue",value:function(e,t,n,r,o,i){return r||(r=Object(j.d)()),r.resUrl_=e,r.sinfo_=t,r.options_=n,r.admin_=o,r.refresh_=i,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}},{key:"_doSignIn",value:function(e){var t=this;this._busy=e,this._rejectOnPersistedPageShow=!1;var n=function(n){var r=e.options_&&e.options_.resource,o=e.resUrl_,i=e.refresh_,a=!1;-1===t.credentials.indexOf(n)&&(i&&-1!==t.credentials.indexOf(i)?(i.userId=n.userId,i.token=n.token,i.expires=n.expires,i.validity=n.validity,i.ssl=n.ssl,i.creationTime=n.creationTime,a=!0,n=i):t.credentials.push(n)),n.resources||(n.resources=[]),n.resources.push(r||o),n.scope=t._isServerRsrc(o)?"server":"portal",n.emitTokenChange();var s=t._soReqs,l={};t._soReqs=[],s.forEach((function(e){if(!t._isIdenticalService(o,e.resUrl_)){var r=t._getSuffix(e.resUrl_);l[r]||(l[r]=!0,n.resources.push(e.resUrl_))}})),e.resolve(n),s.forEach((function(e){t._hasSameServerInstance(t._getServerInstanceRoot(o),e.resUrl_)?e.resolve(n):t._soReqs.push(e)})),t._busy=e.resUrl_=e.sinfo_=e.refresh_=null,a||t.emit("credential-create",{credential:n}),t._soReqs.length?t._doSignIn(t._soReqs.shift()):t._xoReqs.length&&t._doSignIn(t._xoReqs.shift())},r=function(n){e.reject(n),t._busy=e.resUrl_=e.sinfo_=e.refresh_=null,t._soReqs.length?t._doSignIn(t._soReqs.shift()):t._xoReqs.length&&t._doSignIn(t._xoReqs.shift())},o=function(o,i,a,s){var l,c,u,d,f=e.sinfo_,h=!e.options_||!1!==e.options_.prompt,p=f.hasPortal&&t._findOAuthInfo(e.resUrl_);if(o)n(new v_({userId:o,server:f.server,token:a||null,expires:null!=s?Number(s):null,ssl:!!i}));else if(window!==window.parent&&null!=(l=t._appUrlObj.query)&&l["arcgis-auth-origin"]&&null!=(c=t._appUrlObj.query)&&c["arcgis-auth-portal"]&&t._hasSameServerInstance(t._getServerInstanceRoot(t._appUrlObj.query["arcgis-auth-portal"]),e.resUrl_)){var v;window.parent.postMessage({type:"arcgis:auth:requestCredential"},t._appUrlObj.query["arcgis-auth-origin"]);var g=Object(w.b)(window,"message",(function(e){e.source===window.parent&&e.data&&("arcgis:auth:credential"===e.data.type?(g.remove(),n(new v_(e.data.credential))):"arcgis:auth:error"===e.data.type&&(g.remove(),r(b.a.fromJSON(e.data.error))))}));Object(j.i)(null==(v=e.options_)?void 0:v.signal,(function(){g.remove()}))}else if(p){var m=p._oAuthCred;if(!m){var y=new n_(p,f_),O=new n_(p,h_);y.isValid()&&O.isValid()?y.expires>O.expires?(m=y,O.destroy()):(m=O,y.destroy()):m=y.isValid()?y:O,p._oAuthCred=m}if(m.isValid())u=new v_({userId:m.userId,server:f.server,token:m.token,expires:m.expires,ssl:m.ssl,_oAuthCred:m}),p.appId!==m.appId&&t._doPortalSignIn(e.resUrl_)?e._pendingDfd=t._exchangeToken(u.server,p.appId,u.token).then((function(e){u.token=e,m.token=e,m.save(),n(u)})).catch((function(){n(u)})):n(u);else if(t._oAuthHash&&t._hasSameServerInstance(p.portalUrl,t._oAuthHash.state.portalUrl)){var _=t._oAuthHash;u=new v_({userId:_.username,server:f.server,token:_.access_token,expires:Date.now()+1e3*Number(_.expires_in),ssl:"true"===_.ssl,oAuthState:_.state,_oAuthCred:m}),p.userId=u.userId,m.storage=_.persist?f_:h_,m.token=u.token,m.expires=u.expires,m.userId=u.userId,m.ssl=u.ssl,m.save(),t._oAuthHash=null,n(u)}else{var k=function(){h?e._pendingDfd=t.oAuthSignIn(e.resUrl_,f,p,e.options_).then(n,r):(d=new b.a("identity-manager:not-authenticated","User is not signed in."),r(d))};t._doPortalSignIn(e.resUrl_)?e._pendingDfd=t._getPlatformSelf(f.server,p.appId).then((function(e){var r=e.portalUrl,o=e.token,i=e.username;!r||Object(x.j)(r,t._appOrigin,!0)?(u=new v_({server:f.server,userId:i,token:o}),n(u)):k()})).catch(k):k()}}else if(h){if(t._checkProtocol(e.resUrl_,f,r,e.admin_)){var S=e.options_;e.admin_&&((S=S||{}).isAdmin=!0),e._pendingDfd=t.signIn(e.resUrl_,f,S).then(n,r)}}else d=new b.a("identity-manager:not-authenticated","User is not signed in."),r(d)},i=function(){var o,i,a,s,l=e.sinfo_,c=l.owningSystemUrl,u=e.options_;if(u&&(o=u.token,i=u.error,a=u.prompt),!(s=t._findCredential(c,{token:o,resource:e.resUrl_}))){var d,f=Object(h.a)(t.credentials);try{for(f.s();!(d=f.n()).done;){var p=d.value;if(t._isIdProvider(c,p.server)){s=p;break}}}catch(m){f.e(m)}finally{f.f()}}if(s){var v=t.findCredential(e.resUrl_,s.userId);if(v)n(v);else if(d_(l,t._legacyFed)){var g=s.toJSON();g.server=l.server,g.resources=null,n(new v_(g))}else(e._pendingDfd=t.generateToken(t.findServerInfo(s.server),null,{serverUrl:e.resUrl_,token:s.token,signal:e.options_.signal,ssl:s.ssl})).then((function(t){n(new v_({userId:s.userId,server:l.server,token:t.token,expires:null!=t.expires?Number(t.expires):null,ssl:!!t.ssl,isAdmin:e.admin_,validity:t.validity}))}),r)}else t._busy=null,o&&(e.options_.token=null),(e._pendingDfd=t.getCredential(c.replace(/\/?$/,"/sharing"),{resource:e.resUrl_,owningTenant:l.owningTenant,signal:e.options_.signal,token:o,error:i,prompt:a})).then((function(){t._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(function(t){e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))};this._errbackFunc=r;var a=e.sinfo_.owningSystemUrl,s=this._isServerRsrc(e.resUrl_),l=e.sinfo_._restInfoPms;l?l.promise.then((function(n){var r=e.sinfo_;if(r._restInfoPms){r.adminTokenServiceUrl=r._restInfoPms.adminUrl,r._restInfoPms=null,r.tokenServiceUrl=Object(k.b)("authInfo.tokenServicesUrl",n)||Object(k.b)("authInfo.tokenServiceUrl",n)||Object(k.b)("tokenServiceUrl",n),r.shortLivedTokenValidity=Object(k.b)("authInfo.shortLivedTokenValidity",n),r.currentVersion=n.currentVersion,r.owningTenant=n.owningTenant;var a=r.owningSystemUrl=n.owningSystemUrl;a&&t._portals.push(a)}s&&r.owningSystemUrl?i():o()}),(function(){e.sinfo_._restInfoPms=null;var t=new b.a("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");r(t)})):s&&a?i():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((function(n){var r,o,i,a,s={};return n&&(r=n.user&&n.user.username,s.username=r,s.allSSL=n.allSSL,o=n.supportsOAuth,i=n.currentVersion,"multitenant"===n.portalMode&&(a=n.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&t.normalizeWebTierAuth?t.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((function(){return null})).then((function(e){return s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s})):!r&&o&&parseFloat(i)>=4.4&&!t._findOAuthInfo(e.resUrl_)?t._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:a,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((function(){return null})).then((function(){return s})):s})).catch((function(){return null})).then((function(t){e.sinfo_._selfReq=null,t?o(t.username,t.allSSL,t.portalToken,t.tokenExpiration):o()})):o()}},{key:"_generateOAuthInfo",value:function(e){var t,n,r=this,o=e.portalUrl,i=e.customBaseUrl,a=e.owningTenant,s=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(s){var l=(n=window.location.href).indexOf("?");l>-1&&(n=n.slice(0,l)),l=n.search(/\/(apps|home)\//),n=l>-1?n.slice(0,l):null}return s&&n?(this._hasTestedIfAppIsOnPortal=!0,t=Object(m.default)(n+"/sharing/rest",{query:{f:"json"}}).then((function(){r.defaultOAuthInfo=new a_({appId:"arcgisonline",popupCallbackUrl:n+"/home/oauth-callback.html"})}))):t=Promise.resolve(),t.then((function(){if(r.defaultOAuthInfo)return o=o.replace(/^http:/i,"https:"),Object(m.default)(o+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:a,client_id:r.defaultOAuthInfo.appId,redirect_uri:Object(x.o)(r.defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then((function(e){if(e.data.valid){var t=r.defaultOAuthInfo.clone();e.data.urlKey&&i?t.portalUrl="https://"+e.data.urlKey.toLowerCase()+"."+i:t.portalUrl=o,t.popup=window!==window.top||!(Object(x.j)(o,r._appOrigin)||r._gwDomains.some((function(e){return e.regex.test(o)&&e.regex.test(r._appOrigin)}))),r.oAuthInfos.push(t)}}))}))}},{key:"_doOAuthSignIn",value:function(e,t,n){var r=this,o={portalUrl:n.portalUrl};!n.popup&&n.preserveUrlHash&&window.location.hash&&(o.hash=window.location.hash);var i={client_id:n.appId,response_type:"token",state:JSON.stringify(o),expiration:n.expiration,locale:n.locale,redirect_uri:n.popup?Object(x.o)(n.popupCallbackUrl):window.location.href.replace(/#.*$/,"")};n.forceLogin&&(i.force_login=!0),n.forceUserId&&n.userId&&(i.prepopulatedusername=n.userId),!n.popup&&this._doPortalSignIn(e)&&(i.redirectToUserOrgUrl=!0);var a=n.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",s=a+"?"+Object(x.q)(i);if(n.popup){var l=window.open(s,"esriJSAPIOAuth",n.popupWindowFeatures);if(l)l.focus(),this._oAuthDfd.oAuthWin_=l,this._oAuthIntervalId=setInterval((function(){if(l.closed){clearInterval(r._oAuthIntervalId),r._oAuthOnHashHandle.remove();var e=r._oAuthDfd;if(e){var t=new b.a("identity-manager:user-aborted","ABORTED");e.reject(t)}}}),500),this._oAuthOnHashHandle=Object(w.b)(O.a,"arcgis:auth:hash",(function(e){r.setOAuthResponseHash(e.detail)}));else{var c=new b.a("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(c)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:i,authorizeUrl:a,resourceUrl:e,serverInfo:t,oAuthInfo:n}):window.location.href=s}}]),n}(y.a);p_.prototype.declaredClass="esri.identity.IdentityManagerBase";var v_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._oAuthCred=null,r.tokenRefreshBuffer=2,e&&e._oAuthCred&&(r._oAuthCred=e._oAuthCred),r}return Object(p.a)(n,[{key:"initialize",value:function(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}},{key:"refreshToken",value:function(){var e,t=this,n=d.a.findServerInfo(this.server),r=n&&n.owningSystemUrl,o=!!r&&"server"===this.scope,i=o&&d_(n,d.a._legacyFed),a=n.webTierAuth,s=a&&d.a.normalizeWebTierAuth,l=c_[this.server],c=l&&l[this.userId],u=this.resources&&this.resources[0],f=o&&d.a.findServerInfo(r),h={username:this.userId,password:c};if(!a||s){o&&!f&&d.a.serverInfos.some((function(e){return d.a._isIdProvider(r,e.server)&&(f=e),!!f}));var p=f&&d.a.findCredential(f.server,this.userId);if(!o||p){if(!i){if(o)e={serverUrl:u,token:p&&p.token,ssl:p&&p.ssl};else if(s)h=null,e={ssl:this.ssl};else{var v;if(!c)return u&&(u=d.a._sanitizeUrl(u),this._enqueued=1,(v=d.a._enqueue(u,n,null,null,this.isAdmin,this)).then((function(){t._enqueued=0,t.refreshServerTokens()})).catch((function(){t._enqueued=0}))),v;this.isAdmin&&(e={isAdmin:!0})}return d.a.generateToken(o?f:n,o?null:h,e).then((function(e){t.token=e.token,t.expires=null!=e.expires?Number(e.expires):null,t.creationTime=Date.now(),t.validity=e.validity,t.emitTokenChange(),t.refreshServerTokens()})).catch((function(){}))}p.refreshToken()}}}},{key:"refreshServerTokens",value:function(){var e=this;"portal"===this.scope&&d.a.credentials.forEach((function(t){var n=d.a.findServerInfo(t.server),r=n&&n.owningSystemUrl;t!==e&&t.userId===e.userId&&r&&"server"===t.scope&&(d.a._hasSameServerInstance(e.server,r)||d.a._isIdProvider(r,e.server))&&(d_(n,d.a._legacyFed)?(t.token=e.token,t.expires=e.expires,t.creationTime=e.creationTime,t.validity=e.validity,t.emitTokenChange()):t.refreshToken())}))}},{key:"emitTokenChange",value:function(e){clearTimeout(this._refreshTimer);var t=this.server&&d.a.findServerInfo(this.server),n=t&&t.owningSystemUrl,r=n&&d.a.findServerInfo(n);!1===e||n&&"portal"!==this.scope&&(!r||!r.webTierAuth||d.a.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit("token-change")}},{key:"destroy",value:function(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);var e=d.a.credentials.indexOf(this);e>-1&&d.a.credentials.splice(e,1),this.emitTokenChange(),this.emit("destroy")}},{key:"toJSON",value:function(){var e=Object(_.c)({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}},{key:"_startRefreshTimer",value:function(){clearTimeout(this._refreshTimer);var e=6e4*this.tokenRefreshBuffer,t=Math.pow(2,31)-1,n=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();n<0?n=0:n>t&&(n=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),n>e?n-e:n)}}]),n}(y.a.EventedAccessor);Object(v.a)([Object(S.a)()],v_.prototype,"creationTime",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"expires",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"isAdmin",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"oAuthState",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"resources",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"scope",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"server",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"ssl",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"token",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"tokenRefreshBuffer",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"userId",void 0),Object(v.a)([Object(S.a)()],v_.prototype,"validity",void 0),v_=Object(v.a)([Object(A.a)("esri.identity.Credential")],v_);var g_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return n}(p_);g_.prototype.declaredClass="esri.identity.IdentityManager";var m_=new g_;Object(d.b)(m_)}}]);
//# sourceMappingURL=234.e99408dd.chunk.js.map