(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[10],{801:function(e,t,r){"use strict";r.d(t,"a",(function(){return ve})),r.d(t,"b",(function(){return le})),r.d(t,"c",(function(){return ue})),r.d(t,"d",(function(){return ce})),r.d(t,"e",(function(){return ie})),r.d(t,"f",(function(){return ae})),r.d(t,"g",(function(){return oe})),r.d(t,"h",(function(){return Ue})),r.d(t,"i",(function(){return B})),r.d(t,"j",(function(){return E})),r.d(t,"k",(function(){return Z})),r.d(t,"l",(function(){return P})),r.d(t,"m",(function(){return ne})),r.d(t,"n",(function(){return ee})),r.d(t,"o",(function(){return V})),r.d(t,"p",(function(){return te})),r.d(t,"q",(function(){return he})),r.d(t,"r",(function(){return re})),r.d(t,"s",(function(){return Y})),r.d(t,"t",(function(){return D})),r.d(t,"u",(function(){return fe})),r.d(t,"v",(function(){return ye})),r.d(t,"w",(function(){return de})),r.d(t,"x",(function(){return K}));var n=r(8),a=r.n(n),o=r(2),i=r(15),c=r(11),u=r(107),l=r(115),s=r(24),f=r(17),d=r(4),b=r(25),h=r(104),v=r(68),y=r(99),p=r(28),g=r(33),w=r(217),O=r(609),m=r(5),j=r(10),M=r(46),x=r(49),U=r(70),C=r(56),S=r(37),k=r(43),A=r(58),I=r(171),T=r(840),F=r(873),z=r(421),L=r(465),R=r(410);function q(e){return e&&parseInt(e.substring(e.lastIndexOf("/")+1,e.length),10)}function B(e){if(Object(f.a)("disable-feature:i3s-draco")||!e)return!1;var t,r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){var n,a=t.value,o=Object(c.a)(a.geometryBuffers);try{for(o.s();!(n=o.n()).done;){var i;if("draco"===(null==(i=n.value.compressedAttributes)?void 0:i.encoding))return!0}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return!1}function P(e,t,r,n,a,o){a.traverse(r,(function(r){var a=r.mbs;t!==n&&(a=G,Object(x.p)(r.mbs,n,a,t));var i=function(e,t){var r=t[0],n=t[1],a=t[3],o=e[0]-r,i=r-e[2],c=e[1]-n,u=n-e[3],l=Math.max(o,i,0),s=Math.max(c,u,0),f=l*l+s*s;return f>a*a?0:f>0?1:-Math.max(o,i,c,u)>a?3:2}(e,a);return 0!==i&&(o(r,i),!0)}))}function E(e,t,r){for(var n=0,a=0,o=0;o<t.length&&n<e.length;o++)e[n]===t[o]&&(r(o)&&(e[a]=e[n],a++),n++);e.length=a}function D(e,t,r){for(var n=0,a=0;n<r.length;)Object(l.b)(e,r[n])>=0===t&&(r[a]=r[n],a++),n++;r.length=a}var W=Object(S.h)();function V(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return W[0]=(e[0]-t.position[0])/t.rotationScale[0],W[1]=(e[1]-t.position[1])/t.rotationScale[4],W[2]=(e[2]-t.position[2])/t.rotationScale[8],W[3]=(e[3]-t.position[0])/t.rotationScale[0],W[4]=(e[4]-t.position[1])/t.rotationScale[4],W[5]=(e[5]-t.position[2])/t.rotationScale[8],W}var G=Object(M.e)();function Y(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=e[0]-r,c=r-e[3],u=e[1]-n,l=n-e[4],s=e[2]-a,f=a-e[5],d=Math.max(i,c,0),b=Math.max(u,l,0),h=Math.max(s,f,0),v=d*d+b*b+h*h;return v>o*o?0:v>0?1:-Math.max(i,c,u,l,s,f)>o?3:2}function Z(e,t,r){var n,a=[],o=r&&r.missingFields,i=r&&r.originalFields,u=Object(c.a)(e);try{for(u.s();!(n=u.n()).done;){var l,s=n.value,f=s.toLowerCase(),d=!1,b=Object(c.a)(t);try{for(b.s();!(l=b.n()).done;){var h=l.value;if(f===h.name.toLowerCase()){a.push(h.name),d=!0,i&&i.push(s);break}}}catch(v){b.e(v)}finally{b.f()}!d&&o&&o.push(s)}}catch(v){u.e(v)}finally{u.f()}return a}function K(e,t,r,n,a){return X.apply(this,arguments)}function X(){return(X=Object(i.a)(a.a.mark((function e(t,r,n,o,i){var c,u,f,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return",[]);case 2:if(c=t.attributeStorageInfo,!Object(d.k)(t.associatedLayer)){e.next=14;break}return e.prev=4,e.next=7,_(t.associatedLayer,r,n,o);case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(4),!t.associatedLayer.loaded){e.next=14;break}throw e.t0;case 14:if(!c){e.next=23;break}if(u=H(r,n,i),!Object(d.j)(u)){e.next=18;break}throw new s.a("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");case 18:return f=t.parsedUrl.path,e.next=21,Promise.all(u.map((function(e){return Q(f,c,e.node,e.indices,o).then((function(t){for(var r=0;r<e.graphics.length;r++){var n=e.graphics[r],a=t[r];if(n.attributes)for(var o in n.attributes)o in a||(a[o]=n.attributes[o]);n.attributes=a}return e.graphics}))})));case 21:return b=e.sent,e.abrupt("return",Object(l.f)(b));case 23:throw new s.a("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available");case 24:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function H(e,t,r){var n,a=new Map,o=[],i=r(),u=Object(c.a)(e);try{for(u.s();!(n=u.n()).done;)for(var l=n.value,s=l.attributes[t],f=0;f<i.length;f++){var d=i[f],b=d.featureIds.indexOf(s);if(b>=0){var h=a.get(d.node);h||(h={node:d.node,indices:[],graphics:[]},o.push(h),a.set(d.node,h)),h.indices.push(b),h.graphics.push(l);for(var v=f;v>0;v--)i[v]=i[v-1];i[0]=d;break}}}catch(y){u.e(y)}finally{u.f()}return o}function _(e,t,r,n){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(a.a.mark((function e(t,r,n,o){var i,c,u,l,s,f,d,b,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sort((function(e,t){return e.attributes[n]-t.attributes[n]})),i=r.map((function(e){return e.attributes[n]})),c=[],u=Z(o,t.fields,{originalFields:c}),e.next=6,N(t,i,u);case 6:for(l=e.sent,s=0;s<r.length;s++){if(f=r[s],d=l[s],b={},f.attributes)for(h in f.attributes)b[h]=f.attributes[h];for(v=0;v<c.length;v++)b[c[v]]=d[u[v]];f.attributes=b}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,r){var n=e.capabilities.query.maxRecordCount;if(null!=n&&t.length>n){var a=Object(l.n)(t,n);return Promise.all(a.map((function(t){return N(e,t,r)}))).then(l.f)}var o=new I.a({objectIds:t,outFields:r,orderByFields:[e.objectIdField]});return e.queryFeatures(o).then((function(e){if(e&&e.features&&e.features.length===t.length)return e.features.map((function(e){return e.attributes}));throw new s.a("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer")}))}function Q(e,t,r,n,a){var o,i=[],l=Object(c.a)(t);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s&&-1!==a.indexOf(s.name)){var f="".concat(e,"/nodes/").concat(r.resources.attributes,"/attributes/").concat(s.key,"/0");i.push({url:f,storageInfo:s})}}}catch(d){l.e(d)}finally{l.f()}return Object(b.k)(i.map((function(e){return Object(u.default)(e.url,{responseType:"array-buffer"}).then((function(t){return Object(T.d)(e.storageInfo,t.data)}))}))).then((function(e){var t,r=[],a=Object(c.a)(n);try{for(a.s();!(t=a.n()).done;){for(var o=t.value,u={},l=0;l<e.length;l++)null!=e[l].value&&(u[i[l].storageInfo.name]=ee(e[l].value,o));r.push(u)}}catch(d){a.e(d)}finally{a.f()}return r}))}var $=-Math.pow(2,31);function ee(e,t){if(!e)return null;var r=e[t];return Object(h.f)(e)?-32768===r?null:r:Object(h.g)(e)?r===$?null:r:r!=r?null:r}function te(e){var t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new s.a("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indeWKT in the scene layer store but no layer spatial reference",{});if(r!==e.spatialReference.wkt)throw new s.a("layerview:store-spatial-reference-wkt-index-incompatible","The indeWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var n=t?new C.a(q(t)):e.spatialReference;return n.equals(e.spatialReference)?e.spatialReference:n}function re(e){var t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new s.a("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});if(r!==e.spatialReference.wkt)throw new s.a("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var n=t?new C.a(q(t)):e.spatialReference;return n.equals(e.spatialReference)?e.spatialReference:n}function ne(e,t){return Object(d.j)(t)?"@null":t===Object(U.g)(t)?"@ECEF":e.equals(t)?"":null!=t.wkid?"@"+t.wkid:null}function ae(e,t,r){if(!Object(x.b)(e,t))throw new s.a("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===r&&!function(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator}(e,t))throw new s.a("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{})}function oe(e,t,r){var n=te(e),a=re(e);ae(n,t,r),ae(a,t,r)}function ie(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return(null==e.geometryType||"triangles"===e.geometryType)&&(null==e.topology||"PerAttributeArray"===e.topology)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new s.a("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:e.parsedUrl.path})}function ce(e,t){oe(e,t.spatialReference,t.viewingMode)}function ue(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return null!=e.geometryType&&"points"===e.geometryType&&(null==e.topology||"PerAttributeArray"===e.topology)&&(null==e.encoding||""===e.encoding||"lepcc-xyz"===e.encoding)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new s.a("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{})}function le(e,t){ae(e.spatialReference,t.spatialReference,t.viewingMode)}function se(e){return"mesh-3d"===e.type}function fe(e){if(null==e||!function(e){return"simple"===e.type||"class-breaks"===e.type||"unique-value"===e.type}(e))return!0;if(("unique-value"===e.type||"class-breaks"===e.type)&&null==e.defaultSymbol)return!0;var t=e.getSymbols();if(0===t.length)return!0;var r,n=Object(c.a)(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(!se(a)||0===a.symbolLayers.length)return!0;var o,i=Object(c.a)(a.symbolLayers.items);try{for(i.s();!(o=i.n()).done;){var u=o.value;if("fill"!==u.type||Object(d.j)(u.material)||Object(d.j)(u.material.color)||"replace"!==u.material.colorMixMode)return!0}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}return!1}var de=Object(z.c)({color:[0,0,0,0],opacity:0}),be=function e(){Object(o.a)(this,e),this.edgeMaterial=null,this.material=null,this.castShadows=!0};function he(e){var t,r=new be,n=!1,a=!1,o=Object(c.a)(e.symbolLayers.items);try{for(o.s();!(t=o.n()).done;){var i=t.value;if("fill"===i.type&&i.enabled){var u=i.material,l=i.edges;if(Object(d.k)(u)&&!n){var s=u.color,f=Object(L.b)(u.colorMixMode);Object(d.k)(s)?r.material={color:[s.r/255,s.g/255,s.b/255],alpha:s.a,colorMixMode:f}:r.material={color:[1,1,1],alpha:1,colorMixMode:1},r.castShadows=i.castShadows,n=!0}Object(d.k)(l)&&!a&&(r.edgeMaterial=Object(z.b)(l,{}),a=!0)}}}catch(b){o.e(b)}finally{o.f()}return r.material||(r.material={color:[1,1,1],alpha:1,colorMixMode:1}),r}function ve(e,t){return(0|e)+(0|t)|0}function ye(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n===Object(U.g)(n)?t.isGeographic?xe(e,r,t,a):Me(e,r,t,a):t.isWGS84&&(n.isWebMercator||Object(A.k)(n))?pe(t,e,n,r,a):e===r?(r.center[2]+=a,Object(x.q)(r.center,t,0,r.center,n,0,1)):(Object(m.y)(r.center,e.center[0],e.center[1],e.center[2]+a),Object(x.q)(r.center,t,0,r.center,n,0,1),Object(w.a)(r.quaternion,e.quaternion),Object(m.m)(r.halfSize,e.halfSize))}function pe(e,t,r,n,a){var o=Object(v.h)(je,t.quaternion);Object(m.m)(me,t.center),me[2]+=a;var i=Object(U.g)(r);Object(x.q)(me,e,0,me,i,0,1);for(var c=0;c<8;++c){for(var u=0;u<3;++u)Oe[u]=t.halfSize[u]*(0!=(c&1<<u)?-1:1);for(var l=0;l<3;++l){for(var s=me[l],f=0;f<3;++f)s+=Oe[f]*o[3*f+l];ge[3*c+l]=s}}Object(x.q)(ge,i,0,ge,r,0,8),Object(R.c)(we,n)}var ge=new Float64Array(24),we={data:ge,size:3},Oe=Object(j.e)(),me=Object(j.e)(),je=Object(y.b)();function Me(e,t,r,n){Object(R.d)(e,ke),Object(m.y)(t.center,e.center[0],e.center[1],e.center[2]+n),Object(x.d)(r,t.center,Ce,Object(U.g)(r)),Object(m.y)(t.center,Ce[12],Ce[13],Ce[14]);var a=2*Math.sqrt(1+Ce[0]+Ce[5]+Ce[10]);Se[0]=(Ce[6]-Ce[9])/a,Se[1]=(Ce[8]-Ce[2])/a,Se[2]=(Ce[1]-Ce[4])/a,Se[3]=.25*a,Object(w.f)(t.quaternion,Se,e.quaternion),Object(w.b)(Se,t.quaternion);var o,i=0,u=0,l=0,s=Object(c.a)(ke);try{for(s.s();!(o=s.n()).done;){var f=o.value;f[2]+=n,Object(x.q)(f,r,0,f,Object(U.g)(r),0,1),Object(m.C)(Fe,f,t.center),Object(m.w)(Fe,Fe,Se),i=Math.max(i,Math.abs(Fe[0])),u=Math.max(u,Math.abs(Fe[1])),l=Math.max(l,Math.abs(Fe[2]))}}catch(d){s.e(d)}finally{s.f()}Object(m.y)(t.halfSize,i,u,l)}function xe(e,t,r,n){var a=Object(U.e)(r),o=1+Math.max(0,n)/(a.radius+e.center[2]);Object(m.y)(t.center,e.center[0],e.center[1],e.center[2]+n),Object(x.q)(t.center,r,0,t.center,Object(U.g)(r),0,1),Object(w.a)(t.quaternion,e.quaternion),Object(w.b)(Se,e.quaternion),Object(m.y)(Fe,0,0,1),Object(m.w)(Fe,Fe,Se),Object(m.y)(Fe,e.halfSize[0]*Math.abs(Fe[0]),e.halfSize[1]*Math.abs(Fe[1]),e.halfSize[2]*Math.abs(Fe[2])),Object(m.g)(Fe,Fe,a.inverseFlattening),Object(m.h)(t.halfSize,e.halfSize,Fe),Object(m.g)(t.halfSize,t.halfSize,o)}function Ue(e,t,r,n,a,o){if(!o||0===o.length||Object(d.j)(t))return null;var i,u=Object(F.a)(e.mbs,a,r,t);Object(p.b)(Le,u);var l=function(){if(!i)if(i=ke,Object(k.n)(Ie),Object(d.k)(e.serviceObb)){ye(e.serviceObb,r,Te,t,a),Object(R.d)(Te,i);var n,o=Object(c.a)(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;Object(m.s)(u,u,Le),Object(k.q)(Ie,u)}}catch(p){o.e(p)}finally{o.f()}}else{var l=e.mbs,s=l[3];Object(x.z)(l,r,Fe,t),Object(m.s)(Fe,Fe,Le),Fe[2]+=a;for(var f=0;f<8;++f){var b=1&f?s:-s,h=2&f?s:-s,v=4&f?s:-s,y=i[f];Object(m.m)(y,[Fe[0]+b,Fe[1]+h,Fe[2]+v]),Object(k.q)(Ie,y)}}},s=1/0,f=-1/0;if(o.forEach((function(e){return function(e){if("replace"===e.type){var r=e.geometry;if(r.hasZ){Object(k.n)(Ae);var a=r.spatialReference||n,o=r.rings.reduce((function(e,r){return r.reduce((function(e,r){return Object(x.z)(r,a,Fe,t),Object(m.s)(Fe,Fe,Le),Object(k.q)(Ae,Fe),Math.min(Fe[2],e)}),e)}),1/0);l(),Object(k.w)(Ie,Ae)&&(s=Math.min(s,o),f=Math.max(f,o))}}}(e)})),s===1/0)return null;for(var b=function(e,t,r){Object(m.s)(Fe,r,u),e[t+0]=Fe[0],e[t+1]=Fe[1],e[t+2]=Fe[2],t+=24,r[2]=s,Object(m.s)(Fe,r,u),e[t+0]=Fe[0],e[t+1]=Fe[1],e[t+2]=Fe[2],t+=24,r[2]=f,Object(m.s)(Fe,r,u),e[t+0]=Fe[0],e[t+1]=Fe[1],e[t+2]=Fe[2]},h=0;h<8;++h)b(ze.data,3*h,i[h]);return Object(R.c)(ze)}var Ce=Object(g.d)(),Se=Object(O.b)(),ke=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Ae=Object(k.l)(),Ie=Object(k.l)(),Te=Object(R.e)(),Fe=[0,0,0],ze={data:new Array(72),size:3},Le=Object(g.d)()},840:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return w}));var n=r(14),a=r(11),o=r(24),i=r(27),c=r(16),u=r(869),l=c.a.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(e,t,r){for(var n="",a=0;a<r;){var i=e[t+a];if(i<128)n+=String.fromCharCode(i),a++;else if(i>=192&&i<224){if(a+1>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var c=(31&i)<<6|63&e[t+a+1];n+=String.fromCharCode(c),a+=2}else if(i>=224&&i<240){if(a+2>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var u=(15&i)<<12|(63&e[t+a+1])<<6|63&e[t+a+2];n+=String.fromCharCode(u),a+=3}else{if(!(i>=240&&i<248))throw new o.a("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(a+3>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var l=(7&i)<<18|(63&e[t+a+1])<<12|(63&e[t+a+2])<<6|63&e[t+a+3];if(l>=65536){var s=55296+(l-65536>>10),f=56320+(1023&l);n+=String.fromCharCode(s,f)}else n+=String.fromCharCode(l);a+=4}}return n}function f(e,t){for(var r={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,a=0;a<t.length;a++){var o=t[a],i=o.valueType||o.type,c=m[i];r.fields[o.property]=c(e,n),n+=O[i].BYTES_PER_ELEMENT}return r.byteCount=n,r}function d(e,t,r){var n,a,i=[],c=0;for(a=0;a<e;a+=1){if((n=t[a])>0){if(i.push(s(r,c,n-1)),0!==r[c+n-1])throw new o.a("string-array-error","Invalid string array: missing null termination.")}else i.push(null);c+=n}return i}function b(e,t){return new(0,O[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function h(e,t,r){for(var n=null!=t.header?f(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},a={header:n,byteOffset:n.byteCount,byteCount:0,entries:Object.create(null)},c=n.byteCount,u=0;u<t.ordering.length;u++){var l=t.ordering[u],s=Object(i.a)(t[l]);if(s.count=n.fields.count,"String"===s.valueType){if(s.byteOffset=c,s.byteCount=n.fields[l+"ByteCount"],"UTF-8"!==s.encoding)throw new o.a("unsupported-encoding","Unsupported String encoding.",{encoding:s.encoding})}else{if(!j(s.valueType))throw new o.a("unsupported-value-type","Unsupported binary valueType",{valueType:s.valueType});var d=M(s.valueType);c+=c%d!=0?d-c%d:0,s.byteOffset=c,s.byteCount=d*s.valuesPerElement*s.count}c+=s.byteCount,a.entries[l]=s}return a.byteCount=c-a.byteOffset,a}function v(e,t,r){if(t!==e&&l.error("Invalid ".concat(r," buffer size\n expected: ").concat(e,", actual: ").concat(t,")")),t<e)throw new o.a("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function y(e,t){var r,o=f(e,t&&t.header),i=o.byteCount,c={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},u=o.fields,l=null!=u.vertexCount?u.vertexCount:u.count,s=Object(a.a)(t.ordering);try{for(s.s();!(r=s.n()).done;){var d=r.value;if(t.vertexAttributes[d]){var b=Object(n.a)(Object(n.a)({},t.vertexAttributes[d]),{},{byteOffset:i,count:l}),h=g[d]?g[d]:"_"+d;c.vertexAttributes[h]=b,i+=M(b.valueType)*b.valuesPerElement*l}}}catch(k){s.e(k)}finally{s.f()}var y=u.faceCount;if(t.faces&&y){c.faces={};var p,w=Object(a.a)(t.ordering);try{for(w.s();!(p=w.n()).done;){var O=p.value;if(t.faces[O]){var m=Object(n.a)(Object(n.a)({},t.faces[O]),{},{byteOffset:i,count:y});c.faces[O]=m,i+=M(m.valueType)*m.valuesPerElement*y}}}catch(k){w.e(k)}finally{w.f()}}var j=u.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&j){c.featureAttributes={};var x,U=Object(a.a)(t.featureAttributeOrder);try{for(U.s();!(x=U.n()).done;){var C=x.value;if(t.featureAttributes[C]){var S=Object(n.a)(Object(n.a)({},t.featureAttributes[C]),{},{byteOffset:i,count:j});c.featureAttributes[C]=S,i+=("UInt64"===S.valueType?8:M(S.valueType))*S.valuesPerElement*j}}}catch(k){U.e(k)}finally{U.f()}}return v(i,e.byteLength,"geometry"),c.byteCount=i-c.byteOffset,c}function p(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?function(e){var t,r={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){switch(t.value){case"position":break;case"normal":r.normal=!0;break;case"uv0":r.uv0=!0;break;case"color":r.color=!0;break;case"uv-region":r.uvRegion=!0;break;case"feature-index":r.featureIndex=!0}}}catch(o){n.e(o)}finally{n.f()}return r}(e.compressedAttributes.attributes):e?function(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}(e):function(e){var t,r={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=Object(a.a)(e.ordering);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e.vertexAttributes[o])switch(o){case"position":break;case"normal":r.normal=!0;break;case"color":r.color=!0;break;case"uv0":r.uv0=!0;break;case"region":r.uvRegion=!0}}}catch(i){n.e(i)}finally{n.f()}return e.featureAttributes&&e.featureAttributeOrder&&(r.featureIndex=!0),r}(t)}var g={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function w(e,t,r){if("lepcc-rgb"===e.encoding)return Object(u.b)(t);if("lepcc-intensity"===e.encoding)return Object(u.a)(t);if(null!=e.encoding&&""!==e.encoding)throw new o.a("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(l.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(l.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=h(t,e,r);v(n.byteOffset+n.byteCount,t.byteLength,"attribute");var a=n.entries.attributeValues||n.entries.objectIds;if(a){if("String"===a.valueType){var i=n.entries.attributeByteCounts,c=b(t,i),s=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,a);return d(i.count,c,s)}return b(t,a)}throw new o.a("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}var O={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},m={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}};function j(e){return O.hasOwnProperty(e)}function M(e){return j(e)?O[e].BYTES_PER_ELEMENT:0}},869:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return B})),r.d(t,"c",(function(){return C}));var n=r(24),a=!0,o=0,i=10,c=10,u=12,l=16;function s(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+o,i)),version:t.getUint16(r+c,a),checksum:t.getUint32(r+u,a)}}var f=0,d=4,b=8,h=16,v=24,y=32,p=40,g=48,w=56,O=64,m=72,j=80,M=84,x=88;function U(e,t){return{sizeLo:e.getUint32(t+f,a),sizeHi:e.getUint32(t+d,a),minX:e.getFloat64(t+b,a),minY:e.getFloat64(t+h,a),minZ:e.getFloat64(t+v,a),maxX:e.getFloat64(t+y,a),maxY:e.getFloat64(t+p,a),maxZ:e.getFloat64(t+g,a),errorX:e.getFloat64(t+w,a),errorY:e.getFloat64(t+O,a),errorZ:e.getFloat64(t+m,a),count:e.getUint32(t+j,a),reserved:e.getUint32(t+M,a)}}function C(e){var t=new DataView(e,0),r=0,a=s(e,t,r),o=a.identifier,i=a.version;if(r+=l,"LEPCC     "!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=U(t,r);if(r+=x,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");var u=new Float64Array(3*c.count),f=[],d=[],b=[],h=[];if(r=S(e,r,f),r=S(e,r,d),r=S(e,r,b),(r=S(e,r,h))!==e.byteLength)throw new n.a("lepcc-decode-error","Bad length");for(var v=0,y=0,p=0;p<f.length;p++){y+=f[p];for(var g=0,w=0;w<d[p];w++){g+=b[v];var O=h[v];u[3*v]=Math.min(c.maxX,c.minX+2*c.errorX*g),u[3*v+1]=Math.min(c.maxY,c.minY+2*c.errorY*y),u[3*v+2]=Math.min(c.maxZ,c.minZ+2*c.errorZ*O),v++}}return{errorX:c.errorX,errorY:c.errorY,errorZ:c.errorZ,result:u}}function S(e,t,r){var n=[];t=k(e,t,n);for(var a=[],o=0;o<n.length;o++){a.length=0,t=k(e,t,a);for(var i=0;i<a.length;i++)r.push(a[i]+n[o])}return t}function k(e,t,r){var o=new DataView(e,t),i=o.getUint8(0),c=31&i,u=!!(32&i),l=(192&i)>>6,s=0;if(0===l)s=o.getUint32(1,a),t+=5;else if(1===l)s=o.getUint16(1,a),t+=3;else{if(2!==l)throw new n.a("lepcc-decode-error","Bad count type");s=o.getUint8(1),t+=2}if(u)throw new n.a("lepcc-decode-error","LUT not implemented");for(var f=Math.ceil(s*c/8),d=new Uint8Array(e,t,f),b=0,h=0,v=0,y=-1>>>32-c,p=0;p<s;p++){for(;h<c;)b|=d[v]<<h,h+=8,v+=1;r[p]=b&y,b>>>=c,(h-=c)+c>32&&(b|=d[v-1]>>8-h)}return t+v}var A=0,I=4,T=8,F=12,z=14,L=15,R=16;function q(e,t){return{sizeLo:e.getUint32(t+A,a),sizeHi:e.getUint32(t+I,a),count:e.getUint32(t+T,a),colorMapCount:e.getUint16(t+F,a),lookupMethod:e.getUint8(t+z),compressionMethod:e.getUint8(t+L)}}function B(e){var t=new DataView(e,0),r=0,a=s(e,t,r),o=a.identifier,i=a.version;if(r+=l,"ClusterRGB"!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=q(t,r);if(r+=R,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");if((2===c.lookupMethod||1===c.lookupMethod)&&0===c.compressionMethod){if(3*c.colorMapCount+c.count+r!==e.byteLength||c.colorMapCount>256)throw new n.a("lepcc-decode-error","Bad count");for(var u=new Uint8Array(e,r,3*c.colorMapCount),f=new Uint8Array(e,r+3*c.colorMapCount,c.count),d=new Uint8Array(3*c.count),b=0;b<c.count;b++){var h=f[b];d[3*b]=u[3*h],d[3*b+1]=u[3*h+1],d[3*b+2]=u[3*h+2]}return d}if(0===c.lookupMethod&&0===c.compressionMethod){if(3*c.count+r!==e.byteLength||0!==c.colorMapCount)throw new n.a("lepcc-decode-error","Bad count");return new Uint8Array(e,r).slice()}if(c.lookupMethod<=2&&1===c.compressionMethod){if(r+3!==e.byteLength||1!==c.colorMapCount)throw new n.a("lepcc-decode-error","Bad count");for(var v=t.getUint8(r),y=t.getUint8(r+1),p=t.getUint8(r+2),g=new Uint8Array(3*c.count),w=0;w<c.count;w++)g[3*w]=v,g[3*w+1]=y,g[3*w+2]=p;return g}throw new n.a("lepcc-decode-error","Bad method "+c.lookupMethod+","+c.compressionMethod)}var P=0,E=4,D=8,W=12,V=14,G=15,Y=16;function Z(e,t){return{sizeLo:e.getUint32(t+P,a),sizeHi:e.getUint32(t+E,a),count:e.getUint32(t+D,a),scaleFactor:e.getUint16(t+W,a),bitsPerPoint:e.getUint8(t+V),reserved:e.getUint8(t+G)}}function K(e){var t=new DataView(e,0),r=0,a=s(e,t,r),o=a.identifier,i=a.version;if(r+=l,"Intensity "!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=Z(t,r);if(r+=Y,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");var u=new Uint16Array(c.count);if(8===c.bitsPerPoint){if(c.count+r!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var f=new Uint8Array(e,r,c.count),d=0;d<c.count;d++)u[d]=f[d]*c.scaleFactor}else if(16===c.bitsPerPoint){if(2*c.count+r!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var b=new Uint16Array(e,r,c.count),h=0;h<c.count;h++)u[h]=b[h]*c.scaleFactor}else{var v=[];if(k(e,r,v)!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var y=0;y<c.count;y++)u[y]=v[y]*c.scaleFactor}return u}},873:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r(33),a=r(10),o=r(49),i=r(70);function c(e,t,r,a){var i=u(e,t,r),c=Object(n.d)();return Object(o.d)(r,i,c,a),c}function u(e,t,r){var n=Object(a.e)(),o=e[3],c=Math.pow(2,4*Math.ceil(Math.log(o)*Math.LOG2E/4)+1);if(r.isGeographic){var u=c/Object(i.e)(r).radius*180/Math.PI,l=Math.round(e[1]/u),s=Math.max(-90,Math.min(90,l*u)),f=u/Math.cos((Math.abs(s)-u/2)/180*Math.PI),d=Math.round(e[0]/f)*f;n[0]=d,n[1]=s}else{var b=Math.round(e[0]/c),h=Math.round(e[1]/c);n[0]=b*c,n[1]=h*c}var v=e[2]+t,y=Math.round(v/c);return n[2]=y*c,n}}}]);
//# sourceMappingURL=10.9d7814e7.chunk.js.map